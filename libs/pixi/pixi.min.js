/*
: http://creativecommons.org/publicdomain/zero/1.0/
 pixi.js - v4.3.2
 Compiled Mon, 09 Jan 2017 14:33:37 UTC

 pixi.js is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 https://mths.be/punycode v1.4.1 by @mathias */
(function(S){"object"===typeof exports&&"undefined"!==typeof module?module.exports=S():"function"===typeof define&&define.amd?define([],S):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).PIXI=S()})(function(){return function b(k,f,l){function m(a,e){if(!f[a]){if(!k[a]){var d="function"==typeof require&&require;if(!e&&d)return d(a,!0);if(c)return c(a,!0);d=Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d;}d=f[a]={exports:{}};
k[a][0].call(d.exports,function(d){var e=k[a][1][d];return m(e?e:d)},d,d.exports,b,k,f,l)}return f[a].exports}for(var c="function"==typeof require&&require,g=0;g<l.length;g++)m(l[g]);return m}({1:[function(b,k,f){function l(c){var g=32;(c&=-c)&&g--;c&65535&&(g-=16);c&16711935&&(g-=8);c&252645135&&(g-=4);c&858993459&&(g-=2);c&1431655765&&--g;return g}"use restrict";f.INT_BITS=32;f.INT_MAX=2147483647;f.INT_MIN=-2147483648;f.sign=function(c){return(0<c)-(0>c)};f.abs=function(c){var g=c>>31;return(c^
g)-g};f.min=function(c,g){return g^(c^g)&-(c<g)};f.max=function(c,g){return c^(c^g)&-(c<g)};f.isPow2=function(c){return!(c&c-1)&&!!c};f.log2=function(c){var g,a;g=(65535<c)<<4;c>>>=g;a=(255<c)<<3;c>>>=a;g|=a;a=(15<c)<<2;c>>>=a;g|=a;a=(3<c)<<1;return g|a|c>>>a>>1};f.log10=function(c){return 1E9<=c?9:1E8<=c?8:1E7<=c?7:1E6<=c?6:1E5<=c?5:1E4<=c?4:1E3<=c?3:100<=c?2:10<=c?1:0};f.popCount=function(c){c-=c>>>1&1431655765;c=(c&858993459)+(c>>>2&858993459);return 16843009*(c+(c>>>4)&252645135)>>>24};f.countTrailingZeros=
l;f.nextPow2=function(c){c+=0===c;--c;c|=c>>>1;c|=c>>>2;c|=c>>>4;c|=c>>>8;return(c|c>>>16)+1};f.prevPow2=function(c){c|=c>>>1;c|=c>>>2;c|=c>>>4;c|=c>>>8;c|=c>>>16;return c-(c>>>1)};f.parity=function(c){c^=c>>>16;c^=c>>>8;return 27030>>>((c^c>>>4)&15)&1};var m=Array(256);(function(c){for(var g=0;256>g;++g){for(var a=g,e=g,d=7,a=a>>>1;a;a>>>=1)e<<=1,e|=a&1,--d;c[g]=e<<d&255}})(m);f.reverse=function(c){return m[c&255]<<24|m[c>>>8&255]<<16|m[c>>>16&255]<<8|m[c>>>24&255]};f.interleave2=function(c,g){c&=
65535;c=(c|c<<8)&16711935;c=(c|c<<4)&252645135;c=(c|c<<2)&858993459;g&=65535;g=(g|g<<8)&16711935;g=(g|g<<4)&252645135;g=(g|g<<2)&858993459;return(c|c<<1)&1431655765|((g|g<<1)&1431655765)<<1};f.deinterleave2=function(c,g){c=c>>>g&1431655765;c=(c|c>>>1)&858993459;c=(c|c>>>2)&252645135;c=(c|c>>>4)&16711935;return((c|c>>>16)&65535)<<16>>16};f.interleave3=function(c,g,a){c&=1023;c=(c|c<<16)&4278190335;c=(c|c<<8)&251719695;c=(c|c<<4)&3272356035;g&=1023;g=(g|g<<16)&4278190335;g=(g|g<<8)&251719695;g=(g|g<<
4)&3272356035;a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;return(c|c<<2)&1227133513|((g|g<<2)&1227133513)<<1|((a|a<<2)&1227133513)<<2};f.deinterleave3=function(c,g){c=c>>>g&1227133513;c=(c|c>>>2)&3272356035;c=(c|c>>>4)&251719695;c=(c|c>>>8)&4278190335;return((c|c>>>16)&1023)<<22>>22};f.nextCombination=function(c){var g=c|c-1;return g+1|(~g&-~g)-1>>>l(c)+1}},{}],2:[function(b,k,f){function l(d,h,p){p=p||2;var b=h&&h.length,q=b?h[0]*p:d.length,A=m(d,0,q,p,!0),l=[];if(!A)return l;
var f,B,t,r;if(b){var k=p,b=[],x,u,y;r=0;for(x=h.length;r<x;r++)u=h[r]*k,y=r<x-1?h[r+1]*k:d.length,u=m(d,u,y,k,!1),u===u.next&&(u.steiner=!0),b.push(n(u));b.sort(a);for(r=0;r<b.length;r++){h=b[r];k=A;if(k=e(h,k))h=v(k,h),c(h,h.next);A=c(A,A.next)}}if(d.length>80*p){f=t=d[0];B=b=d[1];for(k=p;k<q;k+=p)r=d[k],h=d[k+1],r<f&&(f=r),h<B&&(B=h),r>t&&(t=r),h>b&&(b=h);t=Math.max(t-f,b-B)}g(A,l,p,f,B,t);return l}function m(d,e,a,c,g){var n;if(g===0<w(d,e,a,c))for(g=e;g<a;g+=c)n=r(g,d[g],d[g+1],n);else for(g=
a-c;g>=e;g-=c)n=r(g,d[g],d[g+1],n);n&&q(n,n.next)&&(u(n),n=n.next);return n}function c(d,e){if(!d)return d;e||(e=d);var a=d,c;do if(c=!1,a.steiner||!q(a,a.next)&&0!==h(a.prev,a,a.next))a=a.next;else{u(a);a=e=a.prev;if(a===a.next)return null;c=!0}while(c||a!==e);return e}function g(e,a,n,b,m,l,f){if(e){if(!f&&l){var t=e,r=t;do null===r.z&&(r.z=d(r.x,r.y,b,m,l)),r.prevZ=r.prev,r=r.nextZ=r.next;while(r!==t);r.prevZ.nextZ=null;r.prevZ=null;var t=r,k,x,y,D,z,w,C=1;do{r=t;y=t=null;for(D=0;r;){D++;x=r;for(k=
z=0;k<C&&(z++,x=x.nextZ,x);k++);for(w=C;0<z||0<w&&x;)0===z?(k=x,x=x.nextZ,w--):0!==w&&x?r.z<=x.z?(k=r,r=r.nextZ,z--):(k=x,x=x.nextZ,w--):(k=r,r=r.nextZ,z--),y?y.nextZ=k:t=k,k.prevZ=y,y=k;r=x}y.nextZ=null;C*=2}while(1<D)}for(t=e;e.prev!==e.next;){r=e.prev;x=e.next;if(l)a:{y=e;w=b;var E=m,G=l;D=y.prev;z=y;C=y.next;if(0<=h(D,z,C))y=!1;else{var H=D.x>z.x?D.x>C.x?D.x:C.x:z.x>C.x?z.x:C.x,T=D.y>z.y?D.y>C.y?D.y:C.y:z.y>C.y?z.y:C.y;k=d(D.x<z.x?D.x<C.x?D.x:C.x:z.x<C.x?z.x:C.x,D.y<z.y?D.y<C.y?D.y:C.y:z.y<C.y?
z.y:C.y,w,E,G);w=d(H,T,w,E,G);for(E=y.nextZ;E&&E.z<=w;){if(E!==y.prev&&E!==y.next&&p(D.x,D.y,z.x,z.y,C.x,C.y,E.x,E.y)&&0<=h(E.prev,E,E.next)){y=!1;break a}E=E.nextZ}for(E=y.prevZ;E&&E.z>=k;){if(E!==y.prev&&E!==y.next&&p(D.x,D.y,z.x,z.y,C.x,C.y,E.x,E.y)&&0<=h(E.prev,E,E.next)){y=!1;break a}E=E.prevZ}y=!0}}else a:if(y=e,D=y.prev,z=y,C=y.next,0<=h(D,z,C))y=!1;else{for(k=y.next.next;k!==y.prev;){if(p(D.x,D.y,z.x,z.y,C.x,C.y,k.x,k.y)&&0<=h(k.prev,k,k.next)){y=!1;break a}k=k.next}y=!0}if(y)a.push(r.i/n),
a.push(e.i/n),a.push(x.i/n),u(e),t=e=x.next;else if(e=x,e===t){if(!f)g(c(e),a,n,b,m,l,1);else if(1===f){f=a;t=n;r=e;do x=r.prev,y=r.next.next,!q(x,y)&&A(x,r,r.next,y)&&B(x,y)&&B(y,x)&&(f.push(x.i/t),f.push(r.i/t),f.push(y.i/t),u(r),u(r.next),r=e=y),r=r.next;while(r!==e);e=r;g(e,a,n,b,m,l,2)}else if(2===f)a:{f=e;do{for(t=f.next.next;t!==f.prev;){if(r=f.i!==t.i){r=f;x=t;if(y=r.next.i!==x.i&&r.prev.i!==x.i){b:{y=r;do{if(y.i!==r.i&&y.next.i!==r.i&&y.i!==x.i&&y.next.i!==x.i&&A(y,y.next,r,x)){y=!0;break b}y=
y.next}while(y!==r);y=!1}y=!y}if(y=y&&B(r,x)&&B(x,r)){y=r;D=!1;z=(r.x+x.x)/2;x=(r.y+x.y)/2;do y.y>x!==y.next.y>x&&z<(y.next.x-y.x)*(x-y.y)/(y.next.y-y.y)+y.x&&(D=!D),y=y.next;while(y!==r);y=D}r=y}if(r){e=v(f,t);f=c(f,f.next);e=c(e,e.next);g(f,a,n,b,m,l);g(e,a,n,b,m,l);break a}t=t.next}f=f.next}while(f!==e)}break}}}}function a(d,e){return d.x-e.x}function e(d,e){var a=e,c=d.x,g=d.y,n=-Infinity,h;do{if(g<=a.y&&g>=a.next.y){var b=a.x+(g-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(b<=c&&b>n){n=b;if(b===c){if(g===
a.y)return a;if(g===a.next.y)return a.next}h=a.x<a.next.x?a:a.next}}a=a.next}while(a!==e);if(!h)return null;if(c===n)return h.prev;for(var b=h,q=h.x,A=h.y,m=Infinity,l,a=h.next;a!==b;)c>=a.x&&a.x>=q&&p(g<A?c:n,g,q,A,g<A?n:c,g,a.x,a.y)&&(l=Math.abs(g-a.y)/(c-a.x),(l<m||l===m&&a.x>h.x)&&B(a,d)&&(h=a,m=l)),a=a.next;return h}function d(d,a,e,c,g){d=32767*(d-e)/g;a=32767*(a-c)/g;d=(d|d<<8)&16711935;d=(d|d<<4)&252645135;d=(d|d<<2)&858993459;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;
return(d|d<<1)&1431655765|((a|a<<1)&1431655765)<<1}function n(d){var a=d,e=d;do a.x<e.x&&(e=a),a=a.next;while(a!==d);return e}function p(d,a,e,c,g,n,h,b){return 0<=(g-h)*(a-b)-(d-h)*(n-b)&&0<=(d-h)*(c-b)-(e-h)*(a-b)&&0<=(e-h)*(n-b)-(g-h)*(c-b)}function h(d,a,e){return(a.y-d.y)*(e.x-a.x)-(a.x-d.x)*(e.y-a.y)}function q(d,a){return d.x===a.x&&d.y===a.y}function A(d,a,e,c){return q(d,a)&&q(e,c)||q(d,c)&&q(e,a)?!0:0<h(d,a,e)!==0<h(d,a,c)&&0<h(e,c,d)!==0<h(e,c,a)}function B(d,a){return 0>h(d.prev,d,d.next)?
0<=h(d,a,d.next)&&0<=h(d,d.prev,a):0>h(d,a,d.prev)||0>h(d,d.next,a)}function v(d,a){var e=new t(d.i,d.x,d.y),c=new t(a.i,a.x,a.y),g=d.next,n=a.prev;d.next=a;a.prev=d;e.next=g;g.prev=e;c.next=e;e.prev=c;n.next=c;c.prev=n;return c}function r(d,a,e,c){d=new t(d,a,e);c?(d.next=c.next,d.prev=c,c.next.prev=d,c.next=d):(d.prev=d,d.next=d);return d}function u(d){d.next.prev=d.prev;d.prev.next=d.next;d.prevZ&&(d.prevZ.nextZ=d.nextZ);d.nextZ&&(d.nextZ.prevZ=d.prevZ)}function t(d,a,e){this.i=d;this.x=a;this.y=
e;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function w(d,a,e,c){for(var g=0,n=e-c;a<e;a+=c)g+=(d[n]-d[a])*(d[a+1]+d[n+1]),n=a;return g}k.exports=l;l.deviation=function(d,a,e,c){var g=a&&a.length,n=Math.abs(w(d,0,g?a[0]*e:d.length,e));if(g)for(var g=0,h=a.length;g<h;g++)n-=Math.abs(w(d,a[g]*e,g<h-1?a[g+1]*e:d.length,e));for(g=a=0;g<c.length;g+=3){var h=c[g]*e,b=c[g+1]*e,p=c[g+2]*e;a+=Math.abs((d[h]-d[p])*(d[b+1]-d[h+1])-(d[h]-d[b])*(d[p+1]-d[h+1]))}return 0===n&&0===a?0:
Math.abs((a-n)/n)};l.flatten=function(d){for(var a=d[0][0].length,e={vertices:[],holes:[],dimensions:a},c=0,g=0;g<d.length;g++){for(var n=0;n<d[g].length;n++)for(var h=0;h<a;h++)e.vertices.push(d[g][n][h]);0<g&&(c+=d[g-1].length,e.holes.push(c))}return e}},{}],3:[function(b,k,f){function l(){}function m(a,d,c){this.fn=a;this.context=d;this.once=c||!1}function c(){this._events=new l;this._eventsCount=0}var g=Object.prototype.hasOwnProperty,a="~";Object.create&&(l.prototype=Object.create(null),(new l).__proto__||
(a=!1));c.prototype.eventNames=function(){var e=[],d,c;if(0===this._eventsCount)return e;for(c in d=this._events)g.call(d,c)&&e.push(a?c.slice(1):c);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(d)):e};c.prototype.listeners=function(e,d){var c=this._events[a?a+e:e];if(d)return!!c;if(!c)return[];if(c.fn)return[c.fn];for(var g=0,h=c.length,b=Array(h);g<h;g++)b[g]=c[g].fn;return b};c.prototype.emit=function(e,d,c,g,h,b){var n=a?a+e:e;if(!this._events[n])return!1;var n=this._events[n],
p=arguments.length,q,m;if(n.fn){n.once&&this.removeListener(e,n.fn,void 0,!0);switch(p){case 1:return n.fn.call(n.context),!0;case 2:return n.fn.call(n.context,d),!0;case 3:return n.fn.call(n.context,d,c),!0;case 4:return n.fn.call(n.context,d,c,g),!0;case 5:return n.fn.call(n.context,d,c,g,h),!0;case 6:return n.fn.call(n.context,d,c,g,h,b),!0}m=1;for(q=Array(p-1);m<p;m++)q[m-1]=arguments[m];n.fn.apply(n.context,q)}else{var l=n.length,f;for(m=0;m<l;m++)switch(n[m].once&&this.removeListener(e,n[m].fn,
void 0,!0),p){case 1:n[m].fn.call(n[m].context);break;case 2:n[m].fn.call(n[m].context,d);break;case 3:n[m].fn.call(n[m].context,d,c);break;case 4:n[m].fn.call(n[m].context,d,c,g);break;default:if(!q)for(f=1,q=Array(p-1);f<p;f++)q[f-1]=arguments[f];n[m].fn.apply(n[m].context,q)}}return!0};c.prototype.on=function(e,d,c){d=new m(d,c||this);e=a?a+e:e;this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],d]:this._events[e].push(d):(this._events[e]=d,this._eventsCount++);return this};c.prototype.once=
function(e,d,c){d=new m(d,c||this,!0);e=a?a+e:e;this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],d]:this._events[e].push(d):(this._events[e]=d,this._eventsCount++);return this};c.prototype.removeListener=function(e,d,c,g){e=a?a+e:e;if(!this._events[e])return this;if(!d)return 0===--this._eventsCount?this._events=new l:delete this._events[e],this;var n=this._events[e];if(n.fn)n.fn!==d||g&&!n.once||c&&n.context!==c||(0===--this._eventsCount?this._events=new l:delete this._events[e]);
else{for(var b=0,p=[],m=n.length;b<m;b++)(n[b].fn!==d||g&&!n[b].once||c&&n[b].context!==c)&&p.push(n[b]);p.length?this._events[e]=1===p.length?p[0]:p:0===--this._eventsCount?this._events=new l:delete this._events[e]}return this};c.prototype.removeAllListeners=function(e){e?(e=a?a+e:e,this._events[e]&&(0===--this._eventsCount?this._events=new l:delete this._events[e])):(this._events=new l,this._eventsCount=0);return this};c.prototype.off=c.prototype.removeListener;c.prototype.addListener=c.prototype.on;
c.prototype.setMaxListeners=function(){return this};c.prefixed=a;c.EventEmitter=c;"undefined"!==typeof k&&(k.exports=c)},{}],4:[function(b,k,f){(function(b){var m=/iPhone/i,c=/iPod/i,g=/iPad/i,a=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,e=/Android/i,d=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,n=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/IEMobile/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,q=/BlackBerry/i,A=/BB10/i,l=/Opera Mini/i,f=
/(CriOS|Chrome)(?=.*\bMobile\b)/i,r=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,u=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,t=function(b){b=b||navigator.userAgent;var B=b.split("[FBAN");"undefined"!==typeof B[1]&&(b=B[0]);B=b.split("Twitter");"undefined"!==typeof B[1]&&(b=B[0]);this.apple={phone:m.test(b),ipod:c.test(b),tablet:!m.test(b)&&g.test(b),device:m.test(b)||c.test(b)||g.test(b)};this.amazon={phone:d.test(b),tablet:!d.test(b)&&n.test(b),device:d.test(b)||n.test(b)};this.android={phone:d.test(b)||
a.test(b),tablet:!d.test(b)&&!a.test(b)&&(n.test(b)||e.test(b)),device:d.test(b)||n.test(b)||a.test(b)||e.test(b)};this.windows={phone:p.test(b),tablet:h.test(b),device:p.test(b)||h.test(b)};this.other={blackberry:q.test(b),blackberry10:A.test(b),opera:l.test(b),firefox:r.test(b),chrome:f.test(b),device:q.test(b)||A.test(b)||l.test(b)||r.test(b)||f.test(b)};this.seven_inch=u.test(b);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=
this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if("undefined"===typeof window)return this},w=function(){var d=new t;d.Class=t;return d};"undefined"!==typeof k&&k.exports&&"undefined"===typeof window?k.exports=t:"undefined"!==typeof k&&k.exports&&"undefined"!==typeof window?k.exports=w():b.isMobile=w()})(this)},{}],5:[function(b,k,f){var l=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;k.exports=
function(){try{if(!Object.assign)return!1;var c=new String("abc");c[5]="de";if("5"===Object.getOwnPropertyNames(c)[0])return!1;for(var g={},c=0;10>c;c++)g["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(g).map(function(a){return g[a]}).join(""))return!1;var a={};"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},a)).join("")?!1:!0}catch(e){return!1}}()?Object.assign:function(c,g){var a,e;if(null===c||
void 0===c)throw new TypeError("Object.assign cannot be called with null or undefined");e=Object(c);for(var d,n=1;n<arguments.length;n++){a=Object(arguments[n]);for(var b in a)l.call(a,b)&&(e[b]=a[b]);if(Object.getOwnPropertySymbols){d=Object.getOwnPropertySymbols(a);for(var h=0;h<d.length;h++)m.call(a,d[h])&&(e[d[h]]=a[d[h]])}}return e}},{}],6:[function(b,k,f){var l=new ArrayBuffer(0),m=function(c,g,a,e){this.gl=c;this.buffer=c.createBuffer();this.type=g||c.ARRAY_BUFFER;this.drawType=e||c.STATIC_DRAW;
this.data=l;a&&this.upload(a)};m.prototype.upload=function(c,g,a){a||this.bind();a=this.gl;c=c||this.data;this.data.byteLength>=c.byteLength?a.bufferSubData(this.type,g||0,c):a.bufferData(this.type,c,this.drawType);this.data=c};m.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)};m.createVertexBuffer=function(c,g,a){return new m(c,c.ARRAY_BUFFER,g,a)};m.createIndexBuffer=function(c,g,a){return new m(c,c.ELEMENT_ARRAY_BUFFER,g,a)};m.create=function(c,g,a,e){return new m(c,g,a,e)};
m.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};k.exports=m},{}],7:[function(b,k,f){var l=b("./GLTexture"),m=function(c,g,a){this.gl=c;this.framebuffer=c.createFramebuffer();this.texture=this.stencil=null;this.width=g||100;this.height=a||100};m.prototype.enableTexture=function(c){var g=this.gl;this.texture=c||new l(g);this.texture.bind();this.bind();g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,this.texture.texture,0)};m.prototype.enableStencil=function(){if(!this.stencil){var c=
this.gl;this.stencil=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,this.stencil);c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,this.stencil);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,this.width,this.height)}};m.prototype.clear=function(c,g,a,e){this.bind();var d=this.gl;d.clearColor(c,g,a,e);d.clear(d.COLOR_BUFFER_BIT)};m.prototype.bind=function(){var c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,this.framebuffer)};m.prototype.unbind=function(){var c=
this.gl;c.bindFramebuffer(c.FRAMEBUFFER,null)};m.prototype.resize=function(c,g){var a=this.gl;this.width=c;this.height=g;this.texture&&this.texture.uploadData(null,c,g);this.stencil&&(a.bindRenderbuffer(a.RENDERBUFFER,this.stencil),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,c,g))};m.prototype.destroy=function(){var c=this.gl;this.texture&&this.texture.destroy();c.deleteFramebuffer(this.framebuffer);this.texture=this.stencil=this.gl=null};m.createRGBA=function(c,g,a,e){e=l.fromData(c,null,
g,a);e.enableNearestScaling();e.enableWrapClamp();c=new m(c,g,a);c.enableTexture(e);c.unbind();return c};m.createFloat32=function(c,g,a,e){e=new l.fromData(c,e,g,a);e.enableNearestScaling();e.enableWrapClamp();c=new m(c,g,a);c.enableTexture(e);c.unbind();return c};k.exports=m},{"./GLTexture":9}],8:[function(b,k,f){var l=b("./shader/compileProgram"),m=b("./shader/extractAttributes"),c=b("./shader/extractUniforms"),g=b("./shader/generateUniformAccessObject");b=function(a,e,d){this.gl=a;this.program=
l(a,e,d);this.attributes=m(a,this.program);e=c(a,this.program);this.uniforms=g(a,e)};b.prototype.bind=function(){this.gl.useProgram(this.program)};b.prototype.destroy=function(){};k.exports=b},{"./shader/compileProgram":14,"./shader/extractAttributes":16,"./shader/extractUniforms":17,"./shader/generateUniformAccessObject":18}],9:[function(b,k,f){var l=function(c,g,a,e,d){this.gl=c;this.texture=c.createTexture();this.premultiplyAlpha=this.mipmap=!1;this.width=g||-1;this.height=a||-1;this.format=e||
c.RGBA;this.type=d||c.UNSIGNED_BYTE};l.prototype.upload=function(c){this.bind();var g=this.gl;g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var a=c.videoWidth||c.width,e=c.videoHeight||c.height;e!==this.height||a!==this.width?g.texImage2D(g.TEXTURE_2D,0,this.format,this.format,this.type,c):g.texSubImage2D(g.TEXTURE_2D,0,0,0,this.format,this.type,c);this.width=a;this.height=e};var m=!1;l.prototype.uploadData=function(c,g,a){this.bind();var e=this.gl;if(c instanceof Float32Array){if(!m)if(e.getExtension("OES_texture_float"))m=
!0;else throw Error("floating point textures not available");this.type=e.FLOAT}else this.type=e.UNSIGNED_BYTE;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);g!==this.width||a!==this.height?e.texImage2D(e.TEXTURE_2D,0,this.format,g,a,0,this.format,this.type,c||null):e.texSubImage2D(e.TEXTURE_2D,0,0,0,g,a,this.format,this.type,c||null);this.width=g;this.height=a};l.prototype.bind=function(c){var g=this.gl;void 0!==c&&g.activeTexture(g.TEXTURE0+c);g.bindTexture(g.TEXTURE_2D,this.texture)};
l.prototype.unbind=function(){var c=this.gl;c.bindTexture(c.TEXTURE_2D,null)};l.prototype.minFilter=function(c){var g=this.gl;this.bind();this.mipmap?g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,c?g.LINEAR_MIPMAP_LINEAR:g.NEAREST_MIPMAP_NEAREST):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,c?g.LINEAR:g.NEAREST)};l.prototype.magFilter=function(c){var g=this.gl;this.bind();g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,c?g.LINEAR:g.NEAREST)};l.prototype.enableMipmap=function(){var c=this.gl;
this.bind();this.mipmap=!0;c.generateMipmap(c.TEXTURE_2D)};l.prototype.enableLinearScaling=function(){this.minFilter(!0);this.magFilter(!0)};l.prototype.enableNearestScaling=function(){this.minFilter(!1);this.magFilter(!1)};l.prototype.enableWrapClamp=function(){var c=this.gl;this.bind();c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)};l.prototype.enableWrapRepeat=function(){var c=this.gl;this.bind();c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_WRAP_S,c.REPEAT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT)};l.prototype.enableWrapMirrorRepeat=function(){var c=this.gl;this.bind();c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.MIRRORED_REPEAT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.MIRRORED_REPEAT)};l.prototype.destroy=function(){this.gl.deleteTexture(this.texture)};l.fromSource=function(c,g,a){c=new l(c);c.premultiplyAlpha=a||!1;c.upload(g);return c};l.fromData=function(c,g,a,e){c=new l(c);c.uploadData(g,a,e);
return c};k.exports=l},{}],10:[function(b,k,f){function l(c,g){this.nativeVaoExtension=null;l.FORCE_NATIVE||(this.nativeVaoExtension=c.getExtension("OES_vertex_array_object")||c.getExtension("MOZ_OES_vertex_array_object")||c.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=g;if(this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var a=c.getParameter(c.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(a),attribState:Array(a)}}this.gl=c;this.attributes=
[];this.indexBuffer=null;this.dirty=!1}var m=b("./setVertexAttribArrays");l.prototype.constructor=l;k.exports=l;l.FORCE_NATIVE=!1;l.prototype.bind=function(){this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate();return this};l.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this};l.prototype.activate=function(){for(var c=this.gl,g=null,a=0;a<this.attributes.length;a++){var e=
this.attributes[a];g!==e.buffer&&(e.buffer.bind(),g=e.buffer);c.vertexAttribPointer(e.attribute.location,e.attribute.size,e.type||c.FLOAT,e.normalized||!1,e.stride||0,e.start||0)}m(c,this.attributes,this.nativeState);this.indexBuffer.bind();return this};l.prototype.addAttribute=function(c,g,a,e,d,n){this.attributes.push({buffer:c,attribute:g,location:g.location,type:a||this.gl.FLOAT,normalized:e||!1,stride:d||0,start:n||0});this.dirty=!0;return this};l.prototype.addIndex=function(c){this.indexBuffer=
c;this.dirty=!0;return this};l.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);this.attributes.length=0;this.indexBuffer=null;return this};l.prototype.draw=function(c,g,a){var e=this.gl;e.drawElements(c,g,e.UNSIGNED_SHORT,a||0);return this};l.prototype.destroy=function(){this.nativeState=this.attributes=this.indexBuffer=this.gl=null;this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);this.nativeVao=this.nativeVaoExtension=
null}},{"./setVertexAttribArrays":13}],11:[function(b,k,f){k.exports=function(b,m){var c=b.getContext("webgl",m)||b.getContext("experimental-webgl",m);if(!c)throw Error("This browser does not support webGL. Try using the canvas renderer");return c}},{}],12:[function(b,k,f){b={createContext:b("./createContext"),setVertexAttribArrays:b("./setVertexAttribArrays"),GLBuffer:b("./GLBuffer"),GLFramebuffer:b("./GLFramebuffer"),GLShader:b("./GLShader"),GLTexture:b("./GLTexture"),VertexArrayObject:b("./VertexArrayObject"),
shader:b("./shader")};"undefined"!==typeof k&&k.exports&&(k.exports=b);"undefined"!==typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=b)},{"./GLBuffer":6,"./GLFramebuffer":7,"./GLShader":8,"./GLTexture":9,"./VertexArrayObject":10,"./createContext":11,"./setVertexAttribArrays":13,"./shader":19}],13:[function(b,k,f){k.exports=function(b,m,c){var g;if(c){var a=c.tempAttribState,e=c.attribState;for(g=0;g<a.length;g++)a[g]=!1;for(g=0;g<m.length;g++)a[m[g].attribute.location]=!0;for(g=0;g<
e.length;g++)e[g]!==a[g]&&(e[g]=a[g],c.attribState[g]?b.enableVertexAttribArray(g):b.disableVertexAttribArray(g))}else for(g=0;g<m.length;g++)b.enableVertexAttribArray(m[g].attribute.location)}},{}],14:[function(b,k,f){var l=function(b,c,g){c=b.createShader(c);b.shaderSource(c,g);b.compileShader(c);return b.getShaderParameter(c,b.COMPILE_STATUS)?c:(console.log(b.getShaderInfoLog(c)),null)};k.exports=function(b,c,g){c=l(b,b.VERTEX_SHADER,c);g=l(b,b.FRAGMENT_SHADER,g);var a=b.createProgram();b.attachShader(a,
c);b.attachShader(a,g);b.linkProgram(a);b.getProgramParameter(a,b.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",b.getProgramParameter(a,b.VALIDATE_STATUS)),console.error("gl.getError()",b.getError()),""!==b.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",b.getProgramInfoLog(a)),b.deleteProgram(a),a=null);b.deleteShader(c);b.deleteShader(g);return a}},{}],15:[function(b,k,f){var l=function(b){b=Array(b);for(var c=
0;c<b.length;c++)b[c]=!1;return b};k.exports=function(b,c){switch(b){case "float":return 0;case "vec2":return new Float32Array(2*c);case "vec3":return new Float32Array(3*c);case "vec4":return new Float32Array(4*c);case "int":case "sampler2D":return 0;case "ivec2":return new Int32Array(2*c);case "ivec3":return new Int32Array(3*c);case "ivec4":return new Int32Array(4*c);case "bool":return!1;case "bvec2":return l(2*c);case "bvec3":return l(3*c);case "bvec4":return l(4*c);case "mat2":return new Float32Array([1,
0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],16:[function(b,k,f){var l=b("./mapType"),m=b("./mapSize"),c=function(c,a,e,d){gl.vertexAttribPointer(this.location,this.size,c||gl.FLOAT,a||!1,e||0,d||0)};k.exports=function(g,a){for(var e={},d=g.getProgramParameter(a,g.ACTIVE_ATTRIBUTES),n=0;n<d;n++){var b=g.getActiveAttrib(a,n),h=l(g,b.type);e[b.name]={type:h,size:m(h),location:g.getAttribLocation(a,b.name),
pointer:c}}return e}},{"./mapSize":20,"./mapType":21}],17:[function(b,k,f){var l=b("./mapType"),m=b("./defaultValue");k.exports=function(c,g){for(var a={},e=c.getProgramParameter(g,c.ACTIVE_UNIFORMS),d=0;d<e;d++){var n=c.getActiveUniform(g,d),b=n.name.replace(/\[.*?\]/,""),h=l(c,n.type);a[b]={type:h,size:n.size,location:c.getUniformLocation(g,b),value:m(h,n.size)}}return a}},{"./defaultValue":15,"./mapType":21}],18:[function(b,k,f){var l=function(d){d=c.replace("%%",d);return new Function(d)},m=function(d,
c){var n=g.replace(/%%/g,d),h;(h=1===c.size?a[c.type]:e[c.type])&&(n+="\nthis.gl."+h+";");return new Function("value",n)},c="return this.data.%%.value;",g="this.data.%%.value = value;\nvar location = this.data.%%.location;",a={"float":"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])","int":"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",
ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},
e={"float":"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)","int":"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};k.exports=function(d,a){var e=
{data:{}};e.gl=d;for(var c=Object.keys(a),g=0;g<c.length;g++){for(var n=c[g],b=n.split("."),f=b[b.length-1],r=e,k=0;k<b.length-1;k++)var t=r[b[k]]||{data:{}},r=r[b[k]]=t;b=r;n=a[n];b.data[f]=n;b.gl=d;Object.defineProperty(b,f,{get:l(f),set:m(f,n)})}return e}},{}],19:[function(b,k,f){k.exports={compileProgram:b("./compileProgram"),defaultValue:b("./defaultValue"),extractAttributes:b("./extractAttributes"),extractUniforms:b("./extractUniforms"),generateUniformAccessObject:b("./generateUniformAccessObject"),
mapSize:b("./mapSize"),mapType:b("./mapType")}},{"./compileProgram":14,"./defaultValue":15,"./extractAttributes":16,"./extractUniforms":17,"./generateUniformAccessObject":18,"./mapSize":20,"./mapType":21}],20:[function(b,k,f){var l={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};k.exports=function(b){return l[b]}},{}],21:[function(b,k,f){var l=null,m={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",
INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};k.exports=function(c,g){if(!l){var a=Object.keys(m);l={};for(var e=0;e<a.length;++e){var d=a[e];l[c[d]]=m[d]}}return l[g]}},{}],22:[function(b,k,f){(function(b){function m(a,d){for(var e=0,c=a.length-1;0<=c;c--){var g=a[c];"."===g?a.splice(c,1):".."===g?(a.splice(c,1),e++):e&&(a.splice(c,1),e--)}if(d)for(;e--;e)a.unshift("..");
return a}function c(a,d){if(a.filter)return a.filter(d);for(var e=[],c=0;c<a.length;c++)d(a[c],c,a)&&e.push(a[c]);return e}var g=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;f.resolve=function(){for(var a="",d=!1,g=arguments.length-1;-1<=g&&!d;g--){var p=0<=g?arguments[g]:b.cwd();if("string"!==typeof p)throw new TypeError("Arguments to path.resolve must be strings");p&&(a=p+"/"+a,d="/"===p.charAt(0))}a=m(c(a.split("/"),function(d){return!!d}),!d).join("/");return(d?"/":"")+a||"."};
f.normalize=function(e){var d=f.isAbsolute(e),g="/"===a(e,-1);(e=m(c(e.split("/"),function(d){return!!d}),!d).join("/"))||d||(e=".");e&&g&&(e+="/");return(d?"/":"")+e};f.isAbsolute=function(a){return"/"===a.charAt(0)};f.join=function(){var a=Array.prototype.slice.call(arguments,0);return f.normalize(c(a,function(d,a){if("string"!==typeof d)throw new TypeError("Arguments to path.join must be strings");return d}).join("/"))};f.relative=function(a,d){function e(d){for(var a=0;a<d.length&&""===d[a];a++);
for(var e=d.length-1;0<=e&&""===d[e];e--);return a>e?[]:d.slice(a,e-a+1)}a=f.resolve(a).substr(1);d=f.resolve(d).substr(1);for(var c=e(a.split("/")),g=e(d.split("/")),b=Math.min(c.length,g.length),m=b,l=0;l<b;l++)if(c[l]!==g[l]){m=l;break}b=[];for(l=m;l<c.length;l++)b.push("..");b=b.concat(g.slice(m));return b.join("/")};f.sep="/";f.delimiter=":";f.dirname=function(a){var d=g.exec(a).slice(1);a=d[0];d=d[1];if(!a&&!d)return".";d&&(d=d.substr(0,d.length-1));return a+d};f.basename=function(a,d){var e=
g.exec(a).slice(1)[2];d&&e.substr(-1*d.length)===d&&(e=e.substr(0,e.length-d.length));return e};f.extname=function(a){return g.exec(a).slice(1)[3]};var a="b"==="ab".substr(-1)?function(a,d,c){return a.substr(d,c)}:function(a,d,c){0>d&&(d=a.length+d);return a.substr(d,c)}}).call(this,b("_process"))},{_process:23}],23:[function(b,k,f){function l(){throw Error("setTimeout has not been defined");}function m(){throw Error("clearTimeout has not been defined");}function c(a){if(p===setTimeout)return setTimeout(a,
0);if((p===l||!p)&&setTimeout)return p=setTimeout,setTimeout(a,0);try{return p(a,0)}catch(u){try{return p.call(null,a,0)}catch(t){return p.call(this,a,0)}}}function g(a){if(h===clearTimeout)return clearTimeout(a);if((h===m||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(a);try{return h(a)}catch(u){try{return h.call(null,a)}catch(t){return h.call(this,a)}}}function a(){A&&B&&(A=!1,B.length?q=B.concat(q):v=-1,q.length&&e())}function e(){if(!A){var d=c(a);A=!0;for(var e=q.length;e;){B=q;for(q=
[];++v<e;)B&&B[v].run();v=-1;e=q.length}B=null;A=!1;g(d)}}function d(a,d){this.fun=a;this.array=d}function n(){}b=k.exports={};var p,h;try{p="function"===typeof setTimeout?setTimeout:l}catch(r){p=l}try{h="function"===typeof clearTimeout?clearTimeout:m}catch(r){h=m}var q=[],A=!1,B,v=-1;b.nextTick=function(a){var g=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)g[n-1]=arguments[n];q.push(new d(a,g));1!==q.length||A||c(e)};d.prototype.run=function(){this.fun.apply(null,
this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};b.on=n;b.addListener=n;b.once=n;b.off=n;b.removeListener=n;b.removeAllListeners=n;b.emit=n;b.binding=function(a){throw Error("process.binding is not supported");};b.cwd=function(){return"/"};b.chdir=function(a){throw Error("process.chdir is not supported");};b.umask=function(){return 0}},{}],24:[function(b,k,f){(function(b){(function(m){function c(a){throw new RangeError(w[a]);}function g(a,d){for(var e=a.length,
c=[];e--;)c[e]=d(a[e]);return c}function a(a,d){var e=a.split("@"),c="";1<e.length&&(c=e[0]+"@",a=e[1]);a=a.replace(t,".");e=a.split(".");e=g(e,d).join(".");return c+e}function e(a){for(var d=[],e=0,c=a.length,g,n;e<c;)g=a.charCodeAt(e++),55296<=g&&56319>=g&&e<c?(n=a.charCodeAt(e++),56320==(n&64512)?d.push(((g&1023)<<10)+(n&1023)+65536):(d.push(g),e--)):d.push(g);return d}function d(a){return g(a,function(a){var d="";65535<a&&(a-=65536,d+=D(a>>>10&1023|55296),a=56320|a&1023);return d+=D(a)}).join("")}
function n(a,d){return a+22+75*(26>a)-((0!=d)<<5)}function p(a,d,e){var c=0;a=e?x(a/700):a>>1;for(a+=x(a/d);455<a;c+=36)a=x(a/35);return x(c+36*a/(a+38))}function h(a){var e=[],g=a.length,n,h=0,b=128,q=72,m,A,l,f,B;m=a.lastIndexOf("-");0>m&&(m=0);for(A=0;A<m;++A)128<=a.charCodeAt(A)&&c("not-basic"),e.push(a.charCodeAt(A));for(m=0<m?m+1:0;m<g;){A=h;n=1;for(l=36;;l+=36){m>=g&&c("invalid-input");f=a.charCodeAt(m++);f=10>f-48?f-22:26>f-65?f-65:26>f-97?f-97:36;(36<=f||f>x((2147483647-h)/n))&&c("overflow");
h+=f*n;B=l<=q?1:l>=q+26?26:l-q;if(f<B)break;f=36-B;n>x(2147483647/f)&&c("overflow");n*=f}n=e.length+1;q=p(h-A,n,0==A);x(h/n)>2147483647-b&&c("overflow");b+=x(h/n);h%=n;e.splice(h++,0,b)}return d(e)}function q(a){var d,g,h,b,q,m,A,f,l,B=[],v,t,r;a=e(a);v=a.length;d=128;g=0;q=72;for(m=0;m<v;++m)l=a[m],128>l&&B.push(D(l));for((h=b=B.length)&&B.push("-");h<v;){A=2147483647;for(m=0;m<v;++m)l=a[m],l>=d&&l<A&&(A=l);t=h+1;A-d>x((2147483647-g)/t)&&c("overflow");g+=(A-d)*t;d=A;for(m=0;m<v;++m)if(l=a[m],l<d&&
2147483647<++g&&c("overflow"),l==d){f=g;for(A=36;;A+=36){l=A<=q?1:A>=q+26?26:A-q;if(f<l)break;r=f-l;f=36-l;B.push(D(n(l+r%f,0)));f=x(r/f)}B.push(D(n(f,0)));q=p(g,t,h==b);g=0;++h}++g;++d}return B.join("")}var A="object"==typeof f&&f&&!f.nodeType&&f,l="object"==typeof k&&k&&!k.nodeType&&k,v="object"==typeof b&&b;if(v.global===v||v.window===v||v.self===v)m=v;var r=/^xn--/,u=/[^\x20-\x7E]/,t=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)",
"invalid-input":"Invalid input"},x=Math.floor,D=String.fromCharCode,y,v={version:"1.4.1",ucs2:{decode:e,encode:d},decode:h,encode:q,toASCII:function(d){return a(d,function(a){return u.test(a)?"xn--"+q(a):a})},toUnicode:function(d){return a(d,function(a){return r.test(a)?h(a.slice(4).toLowerCase()):a})}};if(A&&l)if(k.exports==A)l.exports=v;else for(y in v)v.hasOwnProperty(y)&&(A[y]=v[y]);else m.punycode=v})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],25:[function(b,k,f){k.exports=function(b,c,g,a){g=g||"=";var e={};if("string"!==typeof b||0===b.length)return e;var d=/\+/g;b=b.split(c||"&");c=1E3;a&&"number"===typeof a.maxKeys&&(c=a.maxKeys);a=b.length;0<c&&a>c&&(a=c);for(c=0;c<a;++c){var n=b[c].replace(d,"%20"),p=n.indexOf(g),h;0<=p?(h=n.substr(0,p),n=n.substr(p+1)):(h=n,n="");h=decodeURIComponent(h);n=decodeURIComponent(n);Object.prototype.hasOwnProperty.call(e,h)?l(e[h])?e[h].push(n):e[h]=[e[h],n]:e[h]=n}return e};
var l=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}},{}],26:[function(b,k,f){function l(a,e){if(a.map)return a.map(e);for(var d=[],c=0;c<a.length;c++)d.push(e(a[c],c));return d}var m=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};k.exports=function(a,e,d,n){e=e||"&";d=d||"=";null===a&&(a=void 0);return"object"===typeof a?l(g(a),function(g){var n=encodeURIComponent(m(g))+
d;return c(a[g])?l(a[g],function(a){return n+encodeURIComponent(m(a))}).join(e):n+encodeURIComponent(m(a[g]))}).join(e):n?encodeURIComponent(m(n))+d+encodeURIComponent(m(a)):""};var c=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=Object.keys||function(a){var e=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&e.push(d);return e}},{}],27:[function(b,k,f){f.decode=f.parse=b("./decode");f.encode=f.stringify=b("./encode")},{"./decode":25,"./encode":26}],
28:[function(b,k,f){function l(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function m(a,d,e){if(a&&g.isObject(a)&&a instanceof l)return a;var c=new l;c.parse(a,d,e);return c}var c=b("punycode"),g=b("./util");f.parse=m;f.resolve=function(a,d){return m(a,!1,!0).resolve(d)};f.resolveObject=function(a,d){return a?m(a,!1,!0).resolveObject(d):d};f.format=function(a){g.isString(a)&&(a=m(a));return a instanceof
l?a.format():l.prototype.format.call(a)};f.Url=l;var a=/^([a-z0-9.+-]+:)/i,e=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;k="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var n=["'"].concat(k),p=["%","/","?",";","#"].concat(n),h=["/","?","#"],q=/^[+a-z0-9A-Z_-]{0,63}$/,A=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,B={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},r={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},u=b("querystring");
l.prototype.parse=function(e,b,m){if(!g.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var f=e.indexOf("?"),f=-1!==f&&f<e.indexOf("#")?"?":"#";e=e.split(f);e[0]=e[0].replace(/\\/g,"/");e=e.join(f);f=e.trim();if(!m&&1===e.split("#").length&&(e=d.exec(f)))return this.href=this.path=f,this.pathname=e[1],e[2]?(this.search=e[2],this.query=b?u.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this;if(e=a.exec(f)){e=e[0];var l=e.toLowerCase();
this.protocol=l;f=f.substr(e.length)}if(m||e||f.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===f.substr(0,2);!k||e&&v[e]||(f=f.substr(2),this.slashes=!0)}if(!v[e]&&(k||e&&!r[e])){k=-1;for(m=0;m<h.length;m++)e=f.indexOf(h[m]),-1!==e&&(-1===k||e<k)&&(k=e);k=-1===k?f.lastIndexOf("@"):f.lastIndexOf("@",k);-1!==k&&(m=f.slice(0,k),f=f.slice(k+1),this.auth=decodeURIComponent(m));k=-1;for(m=0;m<p.length;m++)e=f.indexOf(p[m]),-1!==e&&(-1===k||e<k)&&(k=e);-1===k&&(k=f.length);this.host=f.slice(0,k);f=f.slice(k);
this.parseHost();this.hostname=this.hostname||"";k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k){var t=this.hostname.split(/\./);m=0;for(e=t.length;m<e;m++){var w=t[m];if(w&&!w.match(q)){for(var x="",F=0,L=w.length;F<L;F++)x=127<w.charCodeAt(F)?x+"x":x+w[F];if(!x.match(q)){e=t.slice(0,m);m=t.slice(m+1);if(w=w.match(A))e.push(w[1]),m.unshift(w[2]);m.length&&(f="/"+m.join(".")+f);this.hostname=e.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();
k||(this.hostname=c.toASCII(this.hostname));m=this.port?":"+this.port:"";this.host=(this.hostname||"")+m;this.href+=this.host;k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==f[0]&&(f="/"+f))}if(!B[l])for(m=0,e=n.length;m<e;m++)k=n[m],-1!==f.indexOf(k)&&(w=encodeURIComponent(k),w===k&&(w=escape(k)),f=f.split(k).join(w));m=f.indexOf("#");-1!==m&&(this.hash=f.substr(m),f=f.slice(0,m));m=f.indexOf("?");-1!==m?(this.search=f.substr(m),this.query=f.substr(m+1),b&&(this.query=u.parse(this.query)),
f=f.slice(0,m)):b&&(this.search="",this.query={});f&&(this.pathname=f);r[l]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)m=this.pathname||"",this.path=m+(this.search||"");this.href=this.format();return this};l.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var d=this.protocol||"",e=this.pathname||"",c=this.hash||"",n=!1,h="";this.host?n=a+this.host:this.hostname&&(n=a+(-1===this.hostname.indexOf(":")?
this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port));this.query&&g.isObject(this.query)&&Object.keys(this.query).length&&(h=u.stringify(this.query));a=this.search||h&&"?"+h||"";d&&":"!==d.substr(-1)&&(d+=":");this.slashes||(!d||r[d])&&!1!==n?(n="//"+(n||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):n||(n="");c&&"#"!==c.charAt(0)&&(c="#"+c);a&&"?"!==a.charAt(0)&&(a="?"+a);e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)});a=a.replace("#","%23");return d+n+e+a+c};l.prototype.resolve=
function(a){return this.resolveObject(m(a,!1,!0)).format()};l.prototype.resolveObject=function(a){if(g.isString(a)){var d=new l;d.parse(a,!1,!0);a=d}for(var d=new l,e=Object.keys(this),c=0;c<e.length;c++){var n=e[c];d[n]=this[n]}d.hash=a.hash;if(""===a.href)return d.href=d.format(),d;if(a.slashes&&!a.protocol){e=Object.keys(a);for(c=0;c<e.length;c++)n=e[c],"protocol"!==n&&(d[n]=a[n]);r[d.protocol]&&d.hostname&&!d.pathname&&(d.path=d.pathname="/");d.href=d.format();return d}if(a.protocol&&a.protocol!==
d.protocol){if(!r[a.protocol]){e=Object.keys(a);for(c=0;c<e.length;c++)n=e[c],d[n]=a[n];d.href=d.format();return d}d.protocol=a.protocol;if(a.host||v[a.protocol])d.pathname=a.pathname;else{for(var h=(a.pathname||"").split("/");h.length&&!(a.host=h.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==h[0]&&h.unshift("");2>h.length&&h.unshift("");d.pathname=h.join("/")}d.search=a.search;d.query=a.query;d.host=a.host||"";d.auth=a.auth;d.hostname=a.hostname||a.host;d.port=a.port;if(d.pathname||
d.search)d.path=(d.pathname||"")+(d.search||"");d.slashes=d.slashes||a.slashes;d.href=d.format();return d}var e=d.pathname&&"/"===d.pathname.charAt(0),b=a.host||a.pathname&&"/"===a.pathname.charAt(0),p=e=b||e||d.host&&a.pathname,c=d.pathname&&d.pathname.split("/")||[],h=a.pathname&&a.pathname.split("/")||[];if(n=d.protocol&&!r[d.protocol])d.hostname="",d.port=null,d.host&&(""===c[0]?c[0]=d.host:c.unshift(d.host)),d.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===h[0]?h[0]=a.host:h.unshift(a.host)),
a.host=null),e=e&&(""===h[0]||""===c[0]);if(b)d.host=a.host||""===a.host?a.host:d.host,d.hostname=a.hostname||""===a.hostname?a.hostname:d.hostname,d.search=a.search,d.query=a.query,c=h;else if(h.length)c||(c=[]),c.pop(),c=c.concat(h),d.search=a.search,d.query=a.query;else if(!g.isNullOrUndefined(a.search))return n&&(d.hostname=d.host=c.shift(),n=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=n.shift(),d.host=d.hostname=n.shift()),d.search=a.search,d.query=a.query,g.isNull(d.pathname)&&
g.isNull(d.search)||(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.href=d.format(),d;if(!c.length)return d.pathname=null,d.path=d.search?"/"+d.search:null,d.href=d.format(),d;for(var b=c.slice(-1)[0],h=(d.host||a.host||1<c.length)&&("."===b||".."===b)||""===b,q=0,m=c.length;0<=m;m--)b=c[m],"."===b?c.splice(m,1):".."===b?(c.splice(m,1),q++):q&&(c.splice(m,1),q--);if(!e&&!p)for(;q--;q)c.unshift("..");!e||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift("");h&&"/"!==c.join("/").substr(-1)&&
c.push("");p=""===c[0]||c[0]&&"/"===c[0].charAt(0);n&&(d.hostname=d.host=p?"":c.length?c.shift():"",n=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=n.shift(),d.host=d.hostname=n.shift());(e=e||d.host&&c.length)&&!p&&c.unshift("");c.length?d.pathname=c.join("/"):(d.pathname=null,d.path=null);g.isNull(d.pathname)&&g.isNull(d.search)||(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:""));d.auth=a.auth||d.auth;d.slashes=d.slashes||a.slashes;d.href=d.format();return d};l.prototype.parseHost=
function(){var a=this.host,d=e.exec(a);d&&(d=d[0],":"!==d&&(this.port=d.substr(1)),a=a.substr(0,a.length-d.length));a&&(this.hostname=a)}},{"./util":29,punycode:24,querystring:27}],29:[function(b,k,f){k.exports={isString:function(b){return"string"===typeof b},isObject:function(b){return"object"===typeof b&&null!==b},isNull:function(b){return null===b},isNullOrUndefined:function(b){return null==b}}},{}],30:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var m=
"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};k=b("mini-signals");var c=l(k);k=b("parse-uri");var g=l(k),a=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e]);d["default"]=a;return d}(b("./async"));b=b("./Resource");var e=l(b),d=/(#[\w\-]+)?$/;b=function(){function n(){var d=
this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.baseUrl=e;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._boundLoadResource=function(a,e){return d._loadResource(a,e)};this._queue=a.queue(this._boundLoadResource,g);this._queue.pause();this.resources={};this.onProgress=new c["default"];
this.onError=new c["default"];this.onLoad=new c["default"];this.onStart=new c["default"];this.onComplete=new c["default"]}n.prototype.add=function(a,d,c,g){if(Array.isArray(a)){for(d=0;d<a.length;++d)this.add(a[d]);return this}"object"===("undefined"===typeof a?"undefined":m(a))&&(g=d||a.callback||a.onComplete,c=a,d=a.url,a=a.name||a.key||a.url);"string"!==typeof d&&(g=c,c=d,d=a);if("string"!==typeof d)throw Error("No url passed to add resource to loader.");"function"===typeof c&&(g=c,c=null);if(this.loading&&
(!c||!c.parentResource))throw Error("Cannot add resources while the loader is running.");if(this.resources[a])throw Error('Resource named "'+a+'" already exists.');d=this._prepareUrl(d);this.resources[a]=new e["default"](a,d,c);if("function"===typeof g)this.resources[a].onAfterMiddleware.once(g);if(this.loading)for(d=c.parentResource,c=d.progressChunk*(d.children.length+1)/(d.children.length+2),d.children.push(this.resources[a]),d.progressChunk=c,g=0;g<d.children.length;++g)d.children[g].progressChunk=
c;this._queue.push(this.resources[a]);return this};n.prototype.pre=function(a){this._beforeMiddleware.push(a);return this};n.prototype.use=function(a){this._afterMiddleware.push(a);return this};n.prototype.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var a in this.resources){var d=this.resources[a];d._onLoadBinding&&d._onLoadBinding.detach();d.isLoading&&d.abort()}this.resources={};return this};n.prototype.load=function(a){if("function"===typeof a)this.onComplete.once(a);
if(this.loading)return this;a=100/this._queue._tasks.length;for(var d=0;d<this._queue._tasks.length;++d)this._queue._tasks[d].data.progressChunk=a;this.loading=!0;this.onStart.dispatch(this);this._queue.resume();return this};n.prototype._prepareUrl=function(a){var e=(0,g["default"])(a,{strictMode:!0});a=e.protocol||!e.path||0===a.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a;this.defaultQueryString&&
(e=d.exec(a)[0],a=a.substr(0,a.length-e.length),a=-1!==a.indexOf("?")?a+("&"+this.defaultQueryString):a+("?"+this.defaultQueryString),a+=e);return a};n.prototype._loadResource=function(d,e){var c=this;d._dequeue=e;a.eachSeries(this._beforeMiddleware,function(a,e){a.call(c,d,function(){e(d.isComplete?{}:null)})},function(){d.isComplete?c._onLoad(d):(d._onLoadBinding=d.onComplete.once(c._onLoad,c),d.load())})};n.prototype._onComplete=function(){this.loading=!1;this.onComplete.dispatch(this,this.resources)};
n.prototype._onLoad=function(d){var e=this;d._onLoadBinding=null;a.eachSeries(this._afterMiddleware,function(a,c){a.call(e,d,c)},function(){d.onAfterMiddleware.dispatch(d);e.progress+=d.progressChunk;e.onProgress.dispatch(e,d);d.error?e.onError.dispatch(d.error,e,d):e.onLoad.dispatch(e,d);d._dequeue();e._queue.idle()&&(e.progress=100,e._onComplete())})};return n}();f["default"]=b},{"./Resource":31,"./async":32,"mini-signals":36,"parse-uri":37}],31:[function(b,k,f){function l(){}function m(a,d,e){d&&
0===d.indexOf(".")&&(d=d.substring(1));d&&(a[d]=e)}function c(a){return a.toString().replace("object ","")}f.__esModule=!0;var g=function(){function a(a,d){for(var e=0;e<d.length;e++){var c=d[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(d,e,c){e&&a(d.prototype,e);c&&a(d,c);return d}}(),a=(k=b("parse-uri"))&&k.__esModule?k:{"default":k},e=(b=b("mini-signals"))&&b.__esModule?b:{"default":b},d=!(!window.XDomainRequest||
"withCredentials"in new XMLHttpRequest),n=null;b=function(){function b(a,d,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if("string"!==typeof a||"string"!==typeof d)throw Error("Both name and url are required for constructing a resource.");c=c||{};this._flags=0;this._setFlag(b.STATUS_FLAGS.DATA_URL,0===d.indexOf("data:"));this.name=a;this.url=d;this.data=null;this.crossOrigin=!0===c.crossOrigin?"anonymous":c.crossOrigin;this.loadType=c.loadType||this._determineLoadType();
this.xhrType=c.xhrType;this.metadata=c.metadata||{};this.xhr=this.error=null;this.children=[];this.type=b.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=l;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);
this.onStart=new e["default"];this.onProgress=new e["default"];this.onComplete=new e["default"];this.onAfterMiddleware=new e["default"]}b.setExtensionLoadType=function(a,d){m(b._loadTypeMap,a,d)};b.setExtensionXhrType=function(a,d){m(b._xhrTypeMap,a,d)};b.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,
!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw Error("Complete called again for an already completed resource.");
this._setFlag(b.STATUS_FLAGS.COMPLETE,!0);this._setFlag(b.STATUS_FLAGS.LOADING,!1);this.onComplete.dispatch(this)};b.prototype.abort=function(a){if(!this.error){this.error=Error(a);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=b.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}};b.prototype.load=function(a){var e=this;if(!this.isLoading)if(this.isComplete)a&&setTimeout(function(){return a(e)},
1);else{if(a)this.onComplete.once(a);this._setFlag(b.STATUS_FLAGS.LOADING,!0);this.onStart.dispatch(this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=this._determineCrossOrigin(this.url);switch(this.loadType){case b.LOAD_TYPE.IMAGE:this.type=b.TYPE.IMAGE;this._loadElement("image");break;case b.LOAD_TYPE.AUDIO:this.type=b.TYPE.AUDIO;this._loadSourceElement("audio");break;case b.LOAD_TYPE.VIDEO:this.type=b.TYPE.VIDEO;this._loadSourceElement("video");break;default:d&&
this.crossOrigin?this._loadXdr():this._loadXhr()}}};b.prototype._hasFlag=function(a){return!!(this._flags&a)};b.prototype._setFlag=function(a,d){this._flags=d?this._flags|a:this._flags&~a};b.prototype._loadElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===a&&"undefined"!==typeof window.Image?new Image:document.createElement(a);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);this.data.addEventListener("error",
this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1)};b.prototype._loadSourceElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===a&&"undefined"!==typeof window.Audio?new Audio:document.createElement(a);if(null===this.data)this.abort("Unsupported element: "+a);else{if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;
else if(Array.isArray(this.url))for(var d=0;d<this.url.length;++d)this.data.appendChild(this._createSource(a,this.url[d]));else this.data.appendChild(this._createSource(a,this.url));this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()}};b.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&
(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest;a.open("GET",this.url,!0);a.responseType=this.xhrType===b.XHR_RESPONSE_TYPE.JSON||this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT?b.XHR_RESPONSE_TYPE.TEXT:this.xhrType;a.addEventListener("error",this._boundXhrOnError,!1);a.addEventListener("abort",this._boundXhrOnAbort,!1);a.addEventListener("progress",this._boundOnProgress,!1);a.addEventListener("load",this._boundXhrOnLoad,!1);a.send()};b.prototype._loadXdr=function(){"string"!==
typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=5E3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXdrOnTimeout;a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,!0);setTimeout(function(){return a.send()},1)};b.prototype._createSource=function(a,d,e){e||(e=a+"/"+d.substr(d.lastIndexOf(".")+1));a=document.createElement("source");a.src=d;a.type=e;return a};b.prototype._onError=function(a){this.abort("Failed to load element using: "+
a.target.nodeName)};b.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)};b.prototype._xhrOnError=function(){var a=this.xhr;this.abort(c(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')};b.prototype._xhrOnAbort=function(){this.abort(c(this.xhr)+" Request was aborted by the user.")};b.prototype._xdrOnTimeout=function(){this.abort(c(this.xhr)+" Request timed out.")};b.prototype._xhrOnLoad=function(){var a=this.xhr,d="undefined"===
typeof a.status?a.status:200;if(200===d||204===d||0===d&&0<a.responseText.length){if(this.xhrType===b.XHR_RESPONSE_TYPE.TEXT)this.data=a.responseText,this.type=b.TYPE.TEXT;else if(this.xhrType===b.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(a.responseText),this.type=b.TYPE.JSON}catch(B){this.abort("Error trying to parse loaded json: "+B);return}else if(this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(a.responseText,"text/xml");else{var e=
document.createElement("div");e.innerHTML=a.responseText;this.data=e}this.type=b.TYPE.XML}catch(B){this.abort("Error trying to parse loaded xml: "+B);return}else this.data=a.response||a.responseText;this.complete()}else this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL)};b.prototype._determineCrossOrigin=function(d,e){if(0===d.indexOf("data:"))return"";e=e||window.location;n||(n=document.createElement("a"));n.href=d;d=(0,a["default"])(n.href,{strictMode:!0});var c=!d.port&&""===e.port||
d.port===e.port,g=d.protocol?d.protocol+":":"";return d.host===e.hostname&&c&&g===e.protocol?"":"anonymous"};b.prototype._determineXhrType=function(){return b._xhrTypeMap[this._getExtension()]||b.XHR_RESPONSE_TYPE.TEXT};b.prototype._determineLoadType=function(){return b._loadTypeMap[this._getExtension()]||b.LOAD_TYPE.XHR};b.prototype._getExtension=function(){var a=this.url;if(this.isDataUrl)var d=a.indexOf("/"),a=a.substring(d+1,a.indexOf(";",d));else d=a.indexOf("?"),-1!==d&&(a=a.substring(0,d)),
a=a.substring(a.lastIndexOf(".")+1);return a.toLowerCase()};b.prototype._getMimeFromXhrType=function(a){switch(a){case b.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case b.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case b.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case b.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}};g(b,[{key:"isDataUrl",get:function(){return this._hasFlag(b.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(b.STATUS_FLAGS.COMPLETE)}},
{key:"isLoading",get:function(){return this._hasFlag(b.STATUS_FLAGS.LOADING)}}]);return b}();f["default"]=b;b.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};b.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};b.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};b.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};b._loadTypeMap={gif:b.LOAD_TYPE.IMAGE,png:b.LOAD_TYPE.IMAGE,bmp:b.LOAD_TYPE.IMAGE,jpg:b.LOAD_TYPE.IMAGE,jpeg:b.LOAD_TYPE.IMAGE,
tif:b.LOAD_TYPE.IMAGE,tiff:b.LOAD_TYPE.IMAGE,webp:b.LOAD_TYPE.IMAGE,tga:b.LOAD_TYPE.IMAGE,svg:b.LOAD_TYPE.IMAGE,"svg+xml":b.LOAD_TYPE.IMAGE,mp3:b.LOAD_TYPE.AUDIO,ogg:b.LOAD_TYPE.AUDIO,wav:b.LOAD_TYPE.AUDIO,mp4:b.LOAD_TYPE.VIDEO,webm:b.LOAD_TYPE.VIDEO};b._xhrTypeMap={xhtml:b.XHR_RESPONSE_TYPE.DOCUMENT,html:b.XHR_RESPONSE_TYPE.DOCUMENT,htm:b.XHR_RESPONSE_TYPE.DOCUMENT,xml:b.XHR_RESPONSE_TYPE.DOCUMENT,tmx:b.XHR_RESPONSE_TYPE.DOCUMENT,svg:b.XHR_RESPONSE_TYPE.DOCUMENT,tsx:b.XHR_RESPONSE_TYPE.DOCUMENT,
gif:b.XHR_RESPONSE_TYPE.BLOB,png:b.XHR_RESPONSE_TYPE.BLOB,bmp:b.XHR_RESPONSE_TYPE.BLOB,jpg:b.XHR_RESPONSE_TYPE.BLOB,jpeg:b.XHR_RESPONSE_TYPE.BLOB,tif:b.XHR_RESPONSE_TYPE.BLOB,tiff:b.XHR_RESPONSE_TYPE.BLOB,webp:b.XHR_RESPONSE_TYPE.BLOB,tga:b.XHR_RESPONSE_TYPE.BLOB,json:b.XHR_RESPONSE_TYPE.JSON,text:b.XHR_RESPONSE_TYPE.TEXT,txt:b.XHR_RESPONSE_TYPE.TEXT,ttf:b.XHR_RESPONSE_TYPE.BUFFER,otf:b.XHR_RESPONSE_TYPE.BUFFER};b.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},
{"mini-signals":36,"parse-uri":37}],32:[function(b,k,f){function l(){}function m(c){return function(){if(null===c)throw Error("Callback was already called.");var g=c;c=null;g.apply(this,arguments)}}f.__esModule=!0;f.eachSeries=function(c,g,a){var e=0,d=c.length;(function p(b){b||e===d?a&&a(b):g(c[e++],p)})()};f.queue=function(c,g){function a(a,d,e){if(null!=e&&"function"!==typeof e)throw Error("task callback must be a function");n.started=!0;null==a&&n.idle()?setTimeout(function(){return n.drain()},
1):(a={data:a,callback:"function"===typeof e?e:l},d?n._tasks.unshift(a):n._tasks.push(a),setTimeout(function(){return n.process()},1))}function e(a){return function(){--d;a.callback.apply(a,arguments);null!=arguments[0]&&n.error(arguments[0],a.data);d<=n.concurrency-n.buffer&&n.unsaturated();n.idle()&&n.drain();n.process()}}if(null==g)g=1;else if(0===g)throw Error("Concurrency must not be zero");var d=0,n={_tasks:[],concurrency:g,saturated:l,unsaturated:l,buffer:g/4,empty:l,drain:l,error:l,started:!1,
paused:!1,push:function(d,e){a(d,!1,e)},kill:function(){d=0;n.drain=l;n.started=!1;n._tasks=[]},unshift:function(d,e){a(d,!0,e)},process:function(){for(;!n.paused&&d<n.concurrency&&n._tasks.length;){var a=n._tasks.shift();0===n._tasks.length&&n.empty();d+=1;d===n.concurrency&&n.saturated();c(a.data,m(e(a)))}},length:function(){return n._tasks.length},running:function(){return d},idle:function(){return 0===n._tasks.length+d},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==
n.paused){n.paused=!1;for(var a=1;a<=n.concurrency;a++)n.process()}}};return n}},{}],33:[function(b,k,f){f.__esModule=!0;f.encodeBinary=function(b){for(var c="",g=0;g<b.length;){for(var a=[0,0,0],e=[0,0,0,0],d=0;d<a.length;++d)a[d]=g<b.length?b.charCodeAt(g++)&255:0;e[0]=a[0]>>2;e[1]=(a[0]&3)<<4|a[1]>>4;e[2]=(a[1]&15)<<2|a[2]>>6;e[3]=a[2]&63;switch(g-(b.length-1)){case 2:e[3]=64;e[2]=64;break;case 1:e[3]=64}for(a=0;a<e.length;++a)c+=l.charAt(e[a])}return c};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},
{}],34:[function(b,k,f){function l(a){if(a&&a.__esModule)return a;var e={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(e[d]=a[d]);e["default"]=a;return e}f.__esModule=!0;var m=b("./Loader"),m=m&&m.__esModule?m:{"default":m},c=b("./Resource"),c=c&&c.__esModule?c:{"default":c},g=b("./async"),g=l(g);b=b("./b64");b=l(b);m["default"].Resource=c["default"];m["default"].async=g;m["default"].base64=b;k.exports=m["default"];f["default"]=m["default"]},{"./Loader":30,"./Resource":31,
"./async":32,"./b64":33}],35:[function(b,k,f){f.__esModule=!0;var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};f.blobMiddlewareFactory=function(){return function(a,e){if(a.data&&a.xhr&&a.xhrType===m["default"].XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof a.data){var d=a.xhr.getResponseHeader("content-type");if(d&&0===d.indexOf("image")){a.data=
new Image;a.data.src="data:"+d+";base64,"+c["default"].encodeBinary(a.xhr.responseText);a.type=m["default"].TYPE.IMAGE;a.data.onload=function(){a.data.onload=null;e()};return}}else if(0===a.data.type.indexOf("image")&&(d=function(){var d=g.createObjectURL(a.data);a.blob=a.data;a.data=new Image;a.data.src=d;a.type=m["default"].TYPE.IMAGE;a.data.onload=function(){g.revokeObjectURL(d);a.data.onload=null;e()};return{v:void 0}}(),"object"===("undefined"===typeof d?"undefined":l(d))))return d.v;e()}};var m=
(k=b("../../Resource"))&&k.__esModule?k:{"default":k},c=(b=b("../../b64"))&&b.__esModule?b:{"default":b},g=window.URL||window.webkitURL},{"../../Resource":31,"../../b64":33}],36:[function(b,k,f){function l(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function");}function m(a,e){a._head?(a._tail._next=e,e._prev=a._tail):a._head=e;a._tail=e;e._owner=a;return e}Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,d){for(var e=0;e<d.length;e++){var c=
d[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(e,d,c){d&&a(e.prototype,d);c&&a(e,c);return e}}(),g=function(){function a(e,d,c){void 0===d&&(d=!1);l(this,a);this._fn=e;this._once=d;this._thisArg=c;this._next=this._prev=this._owner=null}c(a,[{key:"detach",value:function(){if(null===this._owner)return!1;this._owner.detach(this);return!0}}]);return a}();b=function(){function a(){l(this,a);this._head=this._tail=void 0}
c(a,[{key:"handlers",value:function(){var a=this._head;if(0>=arguments.length||void 0===arguments[0]?0:arguments[0])return!!a;for(var d=[];a;)d.push(a),a=a._next;return d}},{key:"has",value:function(a){if(!(a instanceof g))throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return a._owner===this}},{key:"dispatch",value:function(){var a=this._head;if(!a)return!1;for(;a;)a._once&&this.detach(a),a._fn.apply(a._thisArg,arguments),a=a._next;return!0}},{key:"add",value:function(a){var d=
1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof a)throw Error("MiniSignal#add(): First arg must be a Function.");return m(this,new g(a,!1,d))}},{key:"once",value:function(a){var d=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof a)throw Error("MiniSignal#once(): First arg must be a Function.");return m(this,new g(a,!0,d))}},{key:"detach",value:function(a){if(!(a instanceof g))throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");
if(a._owner!==this)return this;a._prev&&(a._prev._next=a._next);a._next&&(a._next._prev=a._prev);a===this._head?(this._head=a._next,null===a._next&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null);a._owner=null;return this}},{key:"detachAll",value:function(){var a=this._head;if(!a)return this;for(this._head=this._tail=null;a;)a._owner=null,a=a._next;return this}}]);return a}();b.MiniSignalBinding=g;f["default"]=b;k.exports=f["default"]},{}],37:[function(b,k,f){k.exports=
function(b,m){m=m||{};for(var c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),g={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[m.strictMode?
"strict":"loose"].exec(b),a={},e=14;e--;)a[c[e]]=g[e]||"";a.queryKey={};a[c[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(d,e,c){e&&(a.queryKey[e]=c)});return a}},{}],38:[function(b,k,f){f.__esModule=!0;var l=function(c){if(c&&c.__esModule)return c;var g={};if(null!=c)for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(g[a]=c[a]);g["default"]=c;return g}(b("../core")),m=(k=b("ismobilejs"))&&k.__esModule?k:{"default":k};b=b("./accessibleTarget");Object.assign(l.DisplayObject.prototype,(b&&
b.__esModule?b:{"default":b})["default"]);b=function(){function c(g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!m["default"].tablet&&!m["default"].phone||navigator.isCocoonJS||this.createTouchHook();var a=document.createElement("div");a.style.width="100px";a.style.height="100px";a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.zIndex=2;this.div=a;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=g;this.children=[];this._onKeyDown=
this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isMobileAccessabillity=this.isActive=!1;window.addEventListener("keydown",this._onKeyDown,!1)}c.prototype.createTouchHook=function(){var c=this,a=document.createElement("button");a.style.width="1px";a.style.height="1px";a.style.position="absolute";a.style.top="-1000px";a.style.left="-1000px";a.style.zIndex=2;a.style.backgroundColor="#FF0000";a.title="HOOK DIV";a.addEventListener("focus",function(){c.isMobileAccessabillity=
!0;c.activate();document.body.removeChild(a)});document.body.appendChild(a)};c.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))};c.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",
this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};c.prototype.updateAccessibleObjects=function(c){if(c.visible){c.accessible&&c.interactive&&(c._accessibleActive||this.addChild(c),c.renderId=this.renderId);c=c.children;for(var a=c.length-1;0<=a;a--)this.updateAccessibleObjects(c[a])}};c.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);
var c=this.renderer.view.getBoundingClientRect(),a=c.width/this.renderer.width,e=c.height/this.renderer.height,d=this.div;d.style.left=c.left+"px";d.style.top=c.top+"px";d.style.width=this.renderer.width+"px";d.style.height=this.renderer.height+"px";for(c=0;c<this.children.length;c++){var b=this.children[c];if(b.renderId!==this.renderId)b._accessibleActive=!1,l.utils.removeItems(this.children,c,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,c--,0===
this.children.length&&this.deactivate();else{var d=b._accessibleDiv,p=b.hitArea,h=b.worldTransform;b.hitArea?(d.style.left=(h.tx+p.x*h.a)*a+"px",d.style.top=(h.ty+p.y*h.d)*e+"px",d.style.width=p.width*h.a*a+"px",d.style.height=p.height*h.d*e+"px"):(p=b.getBounds(),this.capHitArea(p),d.style.left=p.x*a+"px",d.style.top=p.y*e+"px",d.style.width=p.width*a+"px",d.style.height=p.height*e+"px")}}this.renderId++}};c.prototype.capHitArea=function(c){0>c.x&&(c.width+=c.x,c.x=0);0>c.y&&(c.height+=c.y,c.y=0);
c.x+c.width>this.renderer.width&&(c.width=this.renderer.width-c.x);c.y+c.height>this.renderer.height&&(c.height=this.renderer.height-c.y)};c.prototype.addChild=function(c){var a=this.pool.pop();a||(a=document.createElement("button"),a.style.width="100px",a.style.height="100px",a.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",a.style.position="absolute",a.style.zIndex=2,a.style.borderStyle="none",a.addEventListener("click",this._onClick.bind(this)),a.addEventListener("focus",this._onFocus.bind(this)),
a.addEventListener("focusout",this._onFocusOut.bind(this)));c.accessibleTitle?a.title=c.accessibleTitle:c.accessibleTitle||c.accessibleHint||(a.title="displayObject "+this.tabIndex);c.accessibleHint&&a.setAttribute("aria-label",c.accessibleHint);c._accessibleActive=!0;c._accessibleDiv=a;a.displayObject=c;this.children.push(c);this.div.appendChild(c._accessibleDiv);c._accessibleDiv.tabIndex=c.tabIndex};c.prototype._onClick=function(c){var a=this.renderer.plugins.interaction;a.dispatchEvent(c.target.displayObject,
"click",a.eventData)};c.prototype._onFocus=function(c){var a=this.renderer.plugins.interaction;a.dispatchEvent(c.target.displayObject,"mouseover",a.eventData)};c.prototype._onFocusOut=function(c){var a=this.renderer.plugins.interaction;a.dispatchEvent(c.target.displayObject,"mouseout",a.eventData)};c.prototype._onKeyDown=function(c){9===c.keyCode&&this.activate()};c.prototype._onMouseMove=function(){this.deactivate()};c.prototype.destroy=function(){this.div=null;for(var c=0;c<this.children.length;c++)this.children[c].div=
null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null};return c}();f["default"]=b;l.WebGLRenderer.registerPlugin("accessibility",b);l.CanvasRenderer.registerPlugin("accessibility",b)},{"../core":61,"./accessibleTarget":39,ismobilejs:4}],39:[function(b,k,f){f.__esModule=!0;f["default"]={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},
{}],40:[function(b,k,f){f.__esModule=!0;var l=b("./accessibleTarget");Object.defineProperty(f,"accessibleTarget",{enumerable:!0,get:function(){return(l&&l.__esModule?l:{"default":l})["default"]}});var m=b("./AccessibilityManager");Object.defineProperty(f,"AccessibilityManager",{enumerable:!0,get:function(){return(m&&m.__esModule?m:{"default":m})["default"]}})},{"./AccessibilityManager":38,"./accessibleTarget":39}],41:[function(b,k,f){function l(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+
typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function m(g){if(g instanceof Array)"precision"!==g[0].substring(0,9)&&(g=g.slice(0),g.unshift("precision "+c+" float;"));else if("precision"!==g.substring(0,9))return"precision "+c+" float;\n"+g;return g}f.__esModule=!0;k=b("pixi-gl-core");b=b("./settings");var c=(b&&b.__esModule?b:{"default":b})["default"].PRECISION;
b=function(c){function a(e,d,g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");e=c.call(this,e,m(d),m(g));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}l(a,c);return a}(k.GLShader);f["default"]=b},{"./settings":97,"pixi-gl-core":12}],42:[function(b,k,f){f.__esModule=!0;f.VERSION="4.3.2";f.PI_2=2*Math.PI;f.RAD_TO_DEG=180/Math.PI;f.DEG_TO_RAD=Math.PI/180;f.RENDERER_TYPE=
{UNKNOWN:0,WEBGL:1,CANVAS:2};f.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16};f.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};f.SCALE_MODES={LINEAR:0,NEAREST:1};f.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};f.GC_MODES={AUTO:0,MANUAL:1};f.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;f.DATA_URI=
/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i;f.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;f.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};f.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};f.TRANSFORM_MODE={STATIC:0,DYNAMIC:1};f.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1}},{}],43:[function(b,k,f){f.__esModule=!0;var l=b("../math");b=function(){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=null}b.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};b.prototype.clear=function(){this.updateID++;this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};b.prototype.getRectangle=function(c){if(this.minX>this.maxX||this.minY>this.maxY)return l.Rectangle.EMPTY;c=c||new l.Rectangle(0,0,1,1);c.x=this.minX;c.y=this.minY;c.width=this.maxX-
this.minX;c.height=this.maxY-this.minY;return c};b.prototype.addPoint=function(c){this.minX=Math.min(this.minX,c.x);this.maxX=Math.max(this.maxX,c.x);this.minY=Math.min(this.minY,c.y);this.maxY=Math.max(this.maxY,c.y)};b.prototype.addQuad=function(c){var g=this.minX,a=this.minY,e=this.maxX,d=this.maxY,b=c[0],p=c[1],g=b<g?b:g,a=p<a?p:a,e=b>e?b:e,d=p>d?p:d,b=c[2],p=c[3],g=b<g?b:g,a=p<a?p:a,e=b>e?b:e,d=p>d?p:d,b=c[4],p=c[5],g=b<g?b:g,a=p<a?p:a,e=b>e?b:e,d=p>d?p:d,b=c[6],p=c[7];this.minX=b<g?b:g;this.minY=
p<a?p:a;this.maxX=b>e?b:e;this.maxY=p>d?p:d};b.prototype.addFrame=function(c,g,a,e,d){var b=c.worldTransform;c=b.a;var p=b.b,h=b.c,q=b.d,m=b.tx,b=b.ty,f=this.minX,l=this.minY,k=this.maxX,u=this.maxY,t=c*g+h*a+m,w=p*g+q*a+b,f=t<f?t:f,l=w<l?w:l,k=t>k?t:k,u=w>u?w:u,t=c*e+h*a+m,w=p*e+q*a+b,f=t<f?t:f,l=w<l?w:l,k=t>k?t:k,u=w>u?w:u,t=c*g+h*d+m,w=p*g+q*d+b,f=t<f?t:f,l=w<l?w:l,k=t>k?t:k,u=w>u?w:u,t=c*e+h*d+m,w=p*e+q*d+b;this.minX=t<f?t:f;this.minY=w<l?w:l;this.maxX=t>k?t:k;this.maxY=w>u?w:u};b.prototype.addVertices=
function(c,g,a,e){var d=c.worldTransform;c=d.a;for(var b=d.b,p=d.c,h=d.d,q=d.tx,d=d.ty,m=this.minX,f=this.minY,l=this.maxX,k=this.maxY;a<e;a+=2)var u=g[a],t=g[a+1],w=c*u+p*t+q,u=h*t+b*u+d,m=w<m?w:m,f=u<f?u:f,l=w>l?w:l,k=u>k?u:k;this.minX=m;this.minY=f;this.maxX=l;this.maxY=k};b.prototype.addBounds=function(c){var g=this.minX,a=this.minY,e=this.maxX,d=this.maxY;this.minX=c.minX<g?c.minX:g;this.minY=c.minY<a?c.minY:a;this.maxX=c.maxX>e?c.maxX:e;this.maxY=c.maxY>d?c.maxY:d};b.prototype.addBoundsMask=
function(c,g){var a=c.minX>g.minX?c.minX:g.minX,e=c.minY>g.minY?c.minY:g.minY,d=c.maxX<g.maxX?c.maxX:g.maxX,b=c.maxY<g.maxY?c.maxY:g.maxY;if(a<=d&&e<=b){var p=this.minX,h=this.minY,q=this.maxX,m=this.maxY;this.minX=a<p?a:p;this.minY=e<h?e:h;this.maxX=d>q?d:q;this.maxY=b>m?b:m}};b.prototype.addBoundsArea=function(c,g){var a=c.minX>g.x?c.minX:g.x,e=c.minY>g.y?c.minY:g.y,d=c.maxX<g.x+g.width?c.maxX:g.x+g.width,b=c.maxY<g.y+g.height?c.maxY:g.y+g.height;if(a<=d&&e<=b){var p=this.minX,h=this.minY,q=this.maxX,
m=this.maxY;this.minX=a<p?a:p;this.minY=e<h?e:h;this.maxX=d>q?d:q;this.maxY=b>m?b:m}};return b}();f["default"]=b},{"../math":66}],44:[function(b,k,f){function l(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}f.__esModule=!0;var m=function(){function c(a,
e){for(var d=0;d<e.length;d++){var c=e[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(a,e,d){e&&c(a.prototype,e);d&&c(a,d);return a}}(),c=b("../utils");b=b("./DisplayObject");b=function(g){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var e;e=g.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&
"function"!==typeof e?this:e;e.children=[];return e}l(a,g);a.prototype.onChildrenChange=function(){};a.prototype.addChild=function(a){var d=arguments.length;if(1<d)for(var e=0;e<d;e++)this.addChild(arguments[e]);else a.parent&&a.parent.removeChild(a),a.parent=this,this.transform._parentID=-1,this._boundsID++,this.children.push(a),this.onChildrenChange(this.children.length-1),a.emit("added",this);return a};a.prototype.addChildAt=function(a,d){if(0>d||d>this.children.length)throw Error(a+"addChildAt: The index "+
d+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;this.children.splice(d,0,a);this.onChildrenChange(d);a.emit("added",this);return a};a.prototype.swapChildren=function(a,d){if(a!==d){var e=this.getChildIndex(a),c=this.getChildIndex(d);this.children[e]=d;this.children[c]=a;this.onChildrenChange(e<c?e:c)}};a.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(-1===a)throw Error("The supplied DisplayObject must be a child of the caller");
return a};a.prototype.setChildIndex=function(a,d){if(0>d||d>=this.children.length)throw Error("The supplied index is out of bounds");var e=this.getChildIndex(a);(0,c.removeItems)(this.children,e,1);this.children.splice(d,0,a);this.onChildrenChange(d)};a.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};a.prototype.removeChild=function(a){var d=arguments.length;if(1<d)for(var e=0;e<d;e++)this.removeChild(arguments[e]);
else{d=this.children.indexOf(a);if(-1===d)return null;a.parent=null;(0,c.removeItems)(this.children,d,1);this.transform._parentID=-1;this._boundsID++;this.onChildrenChange(d);a.emit("removed",this)}return a};a.prototype.removeChildAt=function(a){var d=this.getChildAt(a);d.parent=null;(0,c.removeItems)(this.children,a,1);this.onChildrenChange(a);d.emit("removed",this);return d};a.prototype.removeChildren=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=arguments[1],d="number"===
typeof d?d:this.children.length,c=d-a;if(0<c&&c<=d){d=this.children.splice(a,c);for(c=0;c<d.length;++c)d[c].parent=null;this.onChildrenChange(a);for(a=0;a<d.length;++a)d[a].emit("removed",this);return d}if(0===c&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};a.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=
0,d=this.children.length;a<d;++a){var c=this.children[a];c.visible&&c.updateTransform()}};a.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var a=0;a<this.children.length;a++){var d=this.children[a];d.visible&&d.renderable&&(d.calculateBounds(),d._mask?(d._mask.calculateBounds(),this._bounds.addBoundsMask(d._bounds,d._mask._bounds)):d.filterArea?this._bounds.addBoundsArea(d._bounds,d.filterArea):this._bounds.addBounds(d._bounds))}this._lastBoundsID=this._boundsID};
a.prototype._calculateBounds=function(){};a.prototype.renderWebGL=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var d=0,e=this.children.length;d<e;++d)this.children[d].renderWebGL(a)}};a.prototype.renderAdvancedWebGL=function(a){a.flush();var d=this._filters,e=this._mask;if(d){this._enabledFilters||(this._enabledFilters=[]);for(var c=this._enabledFilters.length=0;c<d.length;c++)d[c].enabled&&
this._enabledFilters.push(d[c]);this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}e&&a.maskManager.pushMask(this,this._mask);this._renderWebGL(a);for(var c=0,g=this.children.length;c<g;c++)this.children[c].renderWebGL(a);a.flush();e&&a.maskManager.popMask(this,this._mask);d&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter()};a.prototype._renderWebGL=function(a){};a.prototype._renderCanvas=function(a){};a.prototype.renderCanvas=function(a){if(this.visible&&
!(0>=this.worldAlpha)&&this.renderable){this._mask&&a.maskManager.pushMask(this._mask);this._renderCanvas(a);for(var d=0,e=this.children.length;d<e;++d)this.children[d].renderCanvas(a);this._mask&&a.maskManager.popMask(a)}};a.prototype.destroy=function(a){g.prototype.destroy.call(this);var d="boolean"===typeof a?a:a&&a.children,e=this.removeChildren(0,this.children.length);if(d)for(d=0;d<e.length;++d)e[d].destroy(a)};m(a,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},
set:function(a){var d=this.getLocalBounds().width;this.scale.x=0!==d?a/d:1;this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var d=this.getLocalBounds().height;this.scale.y=0!==d?a/d:1;this._height=a}}]);return a}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b;b.prototype.containerUpdateTransform=b.prototype.updateTransform},{"../utils":117,"./DisplayObject":45}],45:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}
function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;var c=function(){function a(a,d){for(var e=0;e<d.length;e++){var c=d[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,
c.key,c)}}return function(d,e,c){e&&a(d.prototype,e);c&&a(d,c);return d}}();k=b("eventemitter3");k=l(k);var g=b("../const"),a=b("../settings"),e=l(a),a=b("./TransformStatic"),d=l(a),a=b("./Transform"),n=l(a),a=b("./Bounds"),p=l(a),h=b("../math");b=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c;c=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==
typeof c?this:c;var h=e["default"].TRANSFORM_MODE===g.TRANSFORM_MODE.STATIC?d["default"]:n["default"];c.tempDisplayObjectParent=null;c.transform=new h;c.alpha=1;c.visible=!0;c.renderable=!0;c.parent=null;c.worldAlpha=1;c.filterArea=null;c._filters=null;c._enabledFilters=null;c._bounds=new p["default"];c._boundsID=0;c._lastBoundsID=-1;c._boundsRect=null;c._localBoundsRect=null;c._mask=null;return c}m(b,a);b.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform);
this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++};b.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};b.prototype.getBounds=function(a,d){a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=
null));this._boundsID!==this._lastBoundsID&&this.calculateBounds();d||(this._boundsRect||(this._boundsRect=new h.Rectangle),d=this._boundsRect);return this._bounds.getRectangle(d)};b.prototype.getLocalBounds=function(a){var d=this.transform,e=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;a||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),a=this._localBoundsRect);a=this.getBounds(!1,a);this.parent=e;this.transform=d;return a};b.prototype.toGlobal=
function(a,d){2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(a,d)};b.prototype.toLocal=function(a,d,e,c){d&&(a=d.toGlobal(a,e,c));c||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),
this.parent=null));return this.worldTransform.applyInverse(a,e)};b.prototype.renderWebGL=function(a){};b.prototype.renderCanvas=function(a){};b.prototype.setParent=function(a){if(!a||!a.addChild)throw Error("setParent: Argument must be a Container");a.addChild(this);return a};b.prototype.setTransform=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,c=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:0,g=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,b=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,n=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,h=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;this.position.x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.position.y=a;this.scale.x=d?d:1;this.scale.y=e?e:1;this.rotation=c;this.skew.x=g;this.skew.y=b;this.pivot.x=n;this.pivot.y=h;return this};b.prototype.destroy=
function(){this.removeAllListeners();this.parent&&this.parent.removeChild(this);this.filterArea=this._mask=this._currentBounds=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1};c(b,[{key:"_tempDisplayObjectParent",get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new b);return this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},{key:"y",get:function(){return this.position.y},
set:function(a){this.transform.position.y=a}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},{key:"scale",get:function(){return this.transform.scale},set:function(a){this.transform.scale.copy(a)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copy(a)}},
{key:"skew",get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},{key:"worldVisible",get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0);if(this._mask=a)this._mask.renderable=!1}},{key:"filters",get:function(){return this._filters&&
this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}]);return b}(k["default"]);f["default"]=b;b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},{"../const":42,"../math":66,"../settings":97,"./Bounds":43,"./Transform":46,"./TransformStatic":48,eventemitter3:3}],46:[function(b,k,f){function l(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,
enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}f.__esModule=!0;var m=function(){function c(a,e){for(var d=0;d<e.length;d++){var c=e[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(a,e,d){e&&c(a.prototype,e);d&&c(a,d);return a}}(),c=b("../math");b=b("./TransformBase");b=function(g){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var e;e=g.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.position=new c.Point(0,0);e.scale=new c.Point(1,1);e.skew=new c.ObservablePoint(e.updateSkew,e,0,0);e.pivot=new c.Point(0,0);e._rotation=0;e._cx=1;e._sx=0;e._cy=0;e._sy=1;return e}l(a,g);a.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-
this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x)};a.prototype.updateLocalTransform=function(){var a=this.localTransform;a.a=this._cx*this.scale.x;a.b=this._sx*this.scale.x;a.c=this._cy*this.scale.y;a.d=this._sy*this.scale.y;a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c);a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d)};a.prototype.updateTransform=function(a){var d=this.localTransform;d.a=this._cx*this.scale.x;d.b=this._sx*this.scale.x;d.c=this._cy*this.scale.y;d.d=this._sy*
this.scale.y;d.tx=this.position.x-(this.pivot.x*d.a+this.pivot.y*d.c);d.ty=this.position.y-(this.pivot.x*d.b+this.pivot.y*d.d);a=a.worldTransform;var c=this.worldTransform;c.a=d.a*a.a+d.b*a.c;c.b=d.a*a.b+d.b*a.d;c.c=d.c*a.a+d.d*a.c;c.d=d.c*a.b+d.d*a.d;c.tx=d.tx*a.a+d.ty*a.c+a.tx;c.ty=d.tx*a.b+d.ty*a.d+a.ty;this._worldID++};a.prototype.setFromMatrix=function(a){a.decompose(this)};m(a,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a;this.updateSkew()}}]);return a}((b&&
b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"../math":66,"./TransformBase":47}],47:[function(b,k,f){f.__esModule=!0;var l=b("../math");b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.worldTransform=new l.Matrix;this.localTransform=new l.Matrix;this._parentID=this._worldID=0}b.prototype.updateLocalTransform=function(){};b.prototype.updateTransform=function(c){c=c.worldTransform;var g=this.worldTransform,a=this.localTransform;
g.a=a.a*c.a+a.b*c.c;g.b=a.a*c.b+a.b*c.d;g.c=a.c*c.a+a.d*c.c;g.d=a.c*c.b+a.d*c.d;g.tx=a.tx*c.a+a.ty*c.c+c.tx;g.ty=a.tx*c.b+a.ty*c.d+c.ty;this._worldID++};return b}();f["default"]=b;b.prototype.updateWorldTransform=b.prototype.updateTransform;b.IDENTITY=new b},{"../math":66}],48:[function(b,k,f){function l(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,
writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}f.__esModule=!0;var m=function(){function c(a,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,e,d){e&&c(a.prototype,e);d&&c(a,d);return a}}(),c=b("../math");b=b("./TransformBase");b=function(g){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var e;e=g.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.position=new c.ObservablePoint(e.onChange,e,0,0);e.scale=new c.ObservablePoint(e.onChange,e,1,1);e.pivot=new c.ObservablePoint(e.onChange,e,0,0);e.skew=new c.ObservablePoint(e.updateSkew,e,0,0);e._rotation=0;e._cx=1;e._sx=0;e._cy=0;e._sy=1;e._localID=0;e._currentLocalID=0;return e}l(a,g);a.prototype.onChange=function(){this._localID++};
a.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);this._localID++};a.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*
a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)};a.prototype.updateTransform=function(a){var d=this.localTransform;this._localID!==this._currentLocalID&&(d.a=this._cx*this.scale._x,d.b=this._sx*this.scale._x,d.c=this._cy*this.scale._y,d.d=this._sy*this.scale._y,d.tx=this.position._x-(this.pivot._x*d.a+this.pivot._y*d.c),d.ty=this.position._y-(this.pivot._x*d.b+this.pivot._y*d.d),this._currentLocalID=this._localID,this._parentID=
-1);if(this._parentID!==a._worldID){var c=a.worldTransform,e=this.worldTransform;e.a=d.a*c.a+d.b*c.c;e.b=d.a*c.b+d.b*c.d;e.c=d.c*c.a+d.d*c.c;e.d=d.c*c.b+d.d*c.d;e.tx=d.tx*c.a+d.ty*c.c+c.tx;e.ty=d.tx*c.b+d.ty*c.d+c.ty;this._parentID=a._worldID;this._worldID++}};a.prototype.setFromMatrix=function(a){a.decompose(this);this._localID++};m(a,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a;this.updateSkew()}}]);return a}((b&&b.__esModule?b:{"default":b})["default"]);
f["default"]=b},{"../math":66,"./TransformBase":47}],49:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;k=b("../display/Container");k=l(k);var c=b("../textures/RenderTexture"),
g=l(c),c=b("../textures/Texture"),a=l(c),c=b("./GraphicsData"),e=l(c),c=b("../sprites/Sprite"),d=l(c),n=b("../math"),p=b("../utils"),h=b("../const"),c=b("../display/Bounds"),q=l(c),c=b("./utils/bezierCurveTo"),A=l(c);b=b("../renderers/canvas/CanvasRenderer");var B=l(b),v=void 0,r=new n.Matrix,u=new n.Point,t=new Float32Array(4),w=new Float32Array(4);b=function(c){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a;a=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.fillAlpha=1;a.lineWidth=0;a.lineColor=0;a.graphicsData=[];a.tint=16777215;a._prevTint=16777215;a.blendMode=h.BLEND_MODES.NORMAL;a.currentPath=null;a._webGL={};a.isMask=!1;a.boundsPadding=0;a._localBounds=new q["default"];a.dirty=0;a.fastRectDirty=-1;a.clearDirty=0;a.boundsDirty=-1;a.cachedSpriteDirty=!1;a._spriteRect=null;a._fastRect=!1;return a}m(b,c);b.prototype.clone=function(){var a=new b;a.renderable=this.renderable;a.fillAlpha=this.fillAlpha;
a.lineWidth=this.lineWidth;a.lineColor=this.lineColor;a.tint=this.tint;a.blendMode=this.blendMode;a.isMask=this.isMask;a.boundsPadding=this.boundsPadding;a.dirty=0;a.cachedSpriteDirty=this.cachedSpriteDirty;for(var d=0;d<this.graphicsData.length;++d)a.graphicsData.push(this.graphicsData[d].clone());a.currentPath=a.graphicsData[a.graphicsData.length-1];a.updateLocalBounds();return a};b.prototype.lineStyle=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:1;this.lineWidth=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.lineColor=a;this.lineAlpha=d;this.currentPath&&(this.currentPath.shape.points.length?(a=new n.Polygon(this.currentPath.shape.points.slice(-2)),a.closed=!1,this.drawShape(a)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha));return this};b.prototype.moveTo=function(a,d){var c=new n.Polygon([a,d]);c.closed=!1;
this.drawShape(c);return this};b.prototype.lineTo=function(a,d){this.currentPath.shape.points.push(a,d);this.dirty++;return this};b.prototype.quadraticCurveTo=function(a,d,c,e){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var g=this.currentPath.shape.points,b,n;0===g.length&&this.moveTo(0,0);for(var h=g[g.length-2],p=g[g.length-1],q=1;20>=q;++q){var m=q/20;b=h+(a-h)*m;n=p+(d-p)*m;g.push(b+(a+(c-a)*m-b)*m,n+(d+(e-d)*m-n)*m)}this.dirty++;
return this};b.prototype.bezierCurveTo=function(a,d,c,e,g,b){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n=this.currentPath.shape.points,h=n[n.length-2],p=n[n.length-1];n.length-=2;(0,A["default"])(h,p,a,d,c,e,g,b,n);this.dirty++;return this};b.prototype.arcTo=function(a,d,c,e,g){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(a,d):this.moveTo(a,d);var b=this.currentPath.shape.points,
n=b[b.length-1]-d,h=b[b.length-2]-a;e-=d;c-=a;var p=Math.abs(n*c-h*e);if(1E-8>p||0===g)b[b.length-2]===a&&b[b.length-1]===d||b.push(a,d);else{var q=n*n+h*h,m=e*e+c*c,f=n*e+h*c,b=g*Math.sqrt(q)/p,p=g*Math.sqrt(m)/p,q=b*f/q,m=p*f/m,f=b*c+p*h,l=b*e+p*n;this.arc(f+a,l+d,g,Math.atan2(n*(p+q)-l,h*(p+q)-f),Math.atan2(e*(b+m)-l,c*(b+m)-f),h*e>c*n)}this.dirty++;return this};b.prototype.arc=function(a,d,c,e,b){var g=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(e===b)return this;!g&&b<=e?b+=
2*Math.PI:g&&e<=b&&(e+=2*Math.PI);var n=b-e,h=40*Math.ceil(Math.abs(n)/(2*Math.PI));if(0===n)return this;var p=a+Math.cos(e)*c,q=d+Math.sin(e)*c;(g=this.currentPath?this.currentPath.shape.points:null)?g[g.length-2]===p&&g[g.length-1]===q||g.push(p,q):(this.moveTo(p,q),g=this.currentPath.shape.points);for(var n=n/(2*h),p=2*n,q=Math.cos(n),m=Math.sin(n),h=h-1,f=h%1/h,l=0;l<=h;++l){var A=n+e+p*(l+f*l),k=Math.cos(A),A=-Math.sin(A);g.push((q*k+m*A)*c+a,(q*-A+m*k)*c+d)}this.dirty++;return this};b.prototype.beginFill=
function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.filling=!0;this.fillColor=a;this.fillAlpha=d;this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha);return this};b.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};b.prototype.drawRect=function(a,
d,c,e){this.drawShape(new n.Rectangle(a,d,c,e));return this};b.prototype.drawRoundedRect=function(a,d,c,e,g){this.drawShape(new n.RoundedRectangle(a,d,c,e,g));return this};b.prototype.drawCircle=function(a,d,c){this.drawShape(new n.Circle(a,d,c));return this};b.prototype.drawEllipse=function(a,d,c,e){this.drawShape(new n.Ellipse(a,d,c,e));return this};b.prototype.drawPolygon=function(a){var d=a,c=!0;d instanceof n.Polygon&&(c=d.closed,d=d.points);if(!Array.isArray(d))for(var d=Array(arguments.length),
e=0;e<d.length;++e)d[e]=arguments[e];d=new n.Polygon(d);d.closed=c;this.drawShape(d);return this};b.prototype.clear=function(){if(this.lineWidth||this.filling||0<this.graphicsData.length)this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0;this._spriteRect=this.currentPath=null;return this};b.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===h.SHAPES.RECT&&!this.graphicsData[0].lineWidth};
b.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect());this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this))};b.prototype._renderSpriteRect=function(c){var e=this.graphicsData[0].shape;if(!this._spriteRect){if(!b._SPRITE_TEXTURE){b._SPRITE_TEXTURE=g["default"].create(10,10);var n=document.createElement("canvas");n.width=10;n.height=10;var h=n.getContext("2d");
h.fillStyle="white";h.fillRect(0,0,10,10);b._SPRITE_TEXTURE=a["default"].fromCanvas(n)}this._spriteRect=new d["default"](b._SPRITE_TEXTURE)}16777215===this.tint?this._spriteRect.tint=this.graphicsData[0].fillColor:((0,p.hex2rgb)(this.graphicsData[0].fillColor,t),(0,p.hex2rgb)(this.tint,w),t[0]*=w[0],t[1]*=w[1],t[2]*=w[2],this._spriteRect.tint=(0,p.rgb2hex)(t));this._spriteRect.alpha=this.graphicsData[0].fillAlpha;this._spriteRect.worldAlpha=this.worldAlpha*this._spriteRect.alpha;b._SPRITE_TEXTURE._frame.width=
e.width;b._SPRITE_TEXTURE._frame.height=e.height;this._spriteRect.transform.worldTransform=this.transform.worldTransform;this._spriteRect.anchor.set(-e.x/e.width,-e.y/e.height);this._spriteRect._onAnchorUpdate();this._spriteRect._renderWebGL(c)};b.prototype._renderCanvas=function(a){!0!==this.isMask&&a.plugins.graphics.render(this)};b.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var a=this._localBounds;
this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)};b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,u);a=this.graphicsData;for(var d=0;d<a.length;++d){var c=a[d];if(c.fill&&c.shape&&c.shape.contains(u.x,u.y))return!0}return!1};b.prototype.updateLocalBounds=function(){var a=Infinity,d=-Infinity,c=Infinity,e=-Infinity;if(this.graphicsData.length)for(var g,b,n,p,q,m=0;m<this.graphicsData.length;m++){g=this.graphicsData[m];n=g.type;var f=g.lineWidth;g=g.shape;if(n===
h.SHAPES.RECT||n===h.SHAPES.RREC)b=g.x-f/2,n=g.y-f/2,p=g.width+f,q=g.height+f,a=b<a?b:a,d=b+p>d?b+p:d,c=n<c?n:c,e=n+q>e?n+q:e;else if(n===h.SHAPES.CIRC)b=g.x,n=g.y,p=g.radius+f/2,q=g.radius+f/2,a=b-p<a?b-p:a,d=b+p>d?b+p:d,c=n-q<c?n-q:c,e=n+q>e?n+q:e;else if(n===h.SHAPES.ELIP)b=g.x,n=g.y,p=g.width+f/2,q=g.height+f/2,a=b-p<a?b-p:a,d=b+p>d?b+p:d,c=n-q<c?n-q:c,e=n+q>e?n+q:e;else{g=g.points;for(var l,A,k,v,B,r=0;r+2<g.length;r+=2)b=g[r],n=g[r+1],l=g[r+2],A=g[r+3],k=Math.abs(l-b),v=Math.abs(A-n),q=f,p=
Math.sqrt(k*k+v*v),1E-9>p||(B=(q/p*v+k)/2,p=(q/p*k+v)/2,b=(l+b)/2,n=(A+n)/2,a=b-B<a?b-B:a,d=b+B>d?b+B:d,c=n-p<c?n-p:c,e=n+p>e?n+p:e)}}else e=c=d=a=0;m=this.boundsPadding;this._localBounds.minX=a-m;this._localBounds.maxX=d+2*m;this._localBounds.minY=c-m;this._localBounds.maxY=e+2*m};b.prototype.drawShape=function(a){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop();this.currentPath=null;a=new e["default"](this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,
this.fillAlpha,this.filling,a);this.graphicsData.push(a);a.type===h.SHAPES.POLY&&(a.shape.closed=a.shape.closed||this.filling,this.currentPath=a);this.dirty++;return a};b.prototype.generateCanvasTexture=function(d){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,e=this.getLocalBounds(),b=g["default"].create(e.width,e.height,d,c);v||(v=new B["default"]);r.tx=-e.x;r.ty=-e.y;v.render(this,b,!1,r);e=a["default"].fromCanvas(b.baseTexture._canvasRenderTarget.canvas,d);e.baseTexture.resolution=
c;e.baseTexture.update();return e};b.prototype.closePath=function(){var a=this.currentPath;a&&a.shape&&a.shape.close();return this};b.prototype.addHole=function(){var a=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(a.shape);this.currentPath=null;return this};b.prototype.destroy=function(a){c.prototype.destroy.call(this,a);for(a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();for(var d in this._webgl)for(a=0;a<this._webgl[d].data.length;++a)this._webgl[d].data[a].destroy();
this._spriteRect&&this._spriteRect.destroy();this._localBounds=this._webgl=this.currentPath=this.graphicsData=null};return b}(k["default"]);f["default"]=b;b._SPRITE_TEXTURE=null},{"../const":42,"../display/Bounds":43,"../display/Container":44,"../math":66,"../renderers/canvas/CanvasRenderer":73,"../sprites/Sprite":98,"../textures/RenderTexture":108,"../textures/Texture":109,"../utils":117,"./GraphicsData":50,"./utils/bezierCurveTo":52}],50:[function(b,k,f){f.__esModule=!0;b=function(){function b(m,
c,g,a,e,d,n){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.lineWidth=m;this.lineColor=c;this.lineAlpha=g;this._lineTint=c;this.fillColor=a;this.fillAlpha=e;this._fillTint=a;this.fill=d;this.holes=[];this.shape=n;this.type=n.type}b.prototype.clone=function(){return new b(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)};b.prototype.addHole=function(b){this.holes.push(b)};b.prototype.destroy=function(){this.holes=
this.shape=null};return b}();f["default"]=b},{}],51:[function(b,k,f){f.__esModule=!0;k=(k=b("../../renderers/canvas/CanvasRenderer"))&&k.__esModule?k:{"default":k};var l=b("../../const");b=function(){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=c}b.prototype.render=function(c){var b=this.renderer,a=b.context,e=c.worldAlpha,d=c.transform.worldTransform,n=b.resolution;this._prevTint!==this.tint&&(this.dirty=!0);a.setTransform(d.a*n,d.b*
n,d.c*n,d.d*n,d.tx*n,d.ty*n);c.dirty&&(this.updateGraphicsTint(c),c.dirty=!1);b.setBlendMode(c.blendMode);for(b=0;b<c.graphicsData.length;b++){var d=c.graphicsData[b],p=d.shape,n=d._fillTint,h=d._lineTint;a.lineWidth=d.lineWidth;if(d.type===l.SHAPES.POLY){a.beginPath();this.renderPolygon(p.points,p.closed,a);for(var q=0;q<d.holes.length;q++)this.renderPolygon(d.holes[q].points,!0,a);d.fill&&(a.globalAlpha=d.fillAlpha*e,a.fillStyle="#"+("00000"+(n|0).toString(16)).substr(-6),a.fill());d.lineWidth&&
(a.globalAlpha=d.lineAlpha*e,a.strokeStyle="#"+("00000"+(h|0).toString(16)).substr(-6),a.stroke())}else if(d.type===l.SHAPES.RECT){if(d.fillColor||0===d.fillColor)a.globalAlpha=d.fillAlpha*e,a.fillStyle="#"+("00000"+(n|0).toString(16)).substr(-6),a.fillRect(p.x,p.y,p.width,p.height);d.lineWidth&&(a.globalAlpha=d.lineAlpha*e,a.strokeStyle="#"+("00000"+(h|0).toString(16)).substr(-6),a.strokeRect(p.x,p.y,p.width,p.height))}else if(d.type===l.SHAPES.CIRC)a.beginPath(),a.arc(p.x,p.y,p.radius,0,2*Math.PI),
a.closePath(),d.fill&&(a.globalAlpha=d.fillAlpha*e,a.fillStyle="#"+("00000"+(n|0).toString(16)).substr(-6),a.fill()),d.lineWidth&&(a.globalAlpha=d.lineAlpha*e,a.strokeStyle="#"+("00000"+(h|0).toString(16)).substr(-6),a.stroke());else if(d.type===l.SHAPES.ELIP){var m=2*p.width,f=2*p.height,q=p.x-m/2,p=p.y-f/2;a.beginPath();var k=m/2*.5522848,r=f/2*.5522848,u=q+m,t=p+f,m=q+m/2,f=p+f/2;a.moveTo(q,f);a.bezierCurveTo(q,f-r,m-k,p,m,p);a.bezierCurveTo(m+k,p,u,f-r,u,f);a.bezierCurveTo(u,f+r,m+k,t,m,t);a.bezierCurveTo(m-
k,t,q,f+r,q,f);a.closePath();d.fill&&(a.globalAlpha=d.fillAlpha*e,a.fillStyle="#"+("00000"+(n|0).toString(16)).substr(-6),a.fill());d.lineWidth&&(a.globalAlpha=d.lineAlpha*e,a.strokeStyle="#"+("00000"+(h|0).toString(16)).substr(-6),a.stroke())}else if(d.type===l.SHAPES.RREC){q=p.x;f=p.y;k=p.width;r=p.height;p=p.radius;u=Math.min(k,r)/2|0;p=p>u?u:p;a.beginPath();a.moveTo(q,f+p);a.lineTo(q,f+r-p);a.quadraticCurveTo(q,f+r,q+p,f+r);a.lineTo(q+k-p,f+r);a.quadraticCurveTo(q+k,f+r,q+k,f+r-p);a.lineTo(q+
k,f+p);a.quadraticCurveTo(q+k,f,q+k-p,f);a.lineTo(q+p,f);a.quadraticCurveTo(q,f,q,f+p);a.closePath();if(d.fillColor||0===d.fillColor)a.globalAlpha=d.fillAlpha*e,a.fillStyle="#"+("00000"+(n|0).toString(16)).substr(-6),a.fill();d.lineWidth&&(a.globalAlpha=d.lineAlpha*e,a.strokeStyle="#"+("00000"+(h|0).toString(16)).substr(-6),a.stroke())}}};b.prototype.updateGraphicsTint=function(c){c._prevTint=c.tint;for(var b=(c.tint>>16&255)/255,a=(c.tint>>8&255)/255,e=(c.tint&255)/255,d=0;d<c.graphicsData.length;++d){var n=
c.graphicsData[d],p=n.fillColor|0,h=n.lineColor|0;n._fillTint=((p>>16&255)/255*b*255<<16)+((p>>8&255)/255*a*255<<8)+(p&255)/255*e*255;n._lineTint=((h>>16&255)/255*b*255<<16)+((h>>8&255)/255*a*255<<8)+(h&255)/255*e*255}};b.prototype.renderPolygon=function(c,b,a){a.moveTo(c[0],c[1]);for(var e=1;e<c.length/2;++e)a.lineTo(c[2*e],c[2*e+1]);b&&a.closePath()};b.prototype.destroy=function(){this.renderer=null};return b}();f["default"]=b;k["default"].registerPlugin("graphics",b)},{"../../const":42,"../../renderers/canvas/CanvasRenderer":73}],
52:[function(b,k,f){f.__esModule=!0;f["default"]=function(b,m,c,g,a,e,d,n){var p=8<arguments.length&&void 0!==arguments[8]?arguments[8]:[],h,q,f,l,k;p.push(b,m);for(var r=1,u;20>=r;++r)u=r/20,h=1-u,q=h*h,f=q*h,l=u*u,k=l*u,p.push(f*b+3*q*u*c+3*h*l*a+k*d,f*m+3*q*u*g+3*h*l*e+k*n);return p}},{}],53:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);
a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;var c=b("../../utils"),g=b("../../const");k=b("../../renderers/webgl/utils/ObjectRenderer");var a=l(k);k=b("../../renderers/webgl/WebGLRenderer");k=l(k);var e=b("./WebGLGraphicsData"),d=l(e),e=b("./shaders/PrimitiveShader"),n=l(e),e=b("./utils/buildPoly"),p=l(e),e=b("./utils/buildRectangle"),h=l(e),e=b("./utils/buildRoundedRectangle"),
q=l(e);b=b("./utils/buildCircle");var A=l(b);b=function(e){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d;d=e.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.graphicsDataPool=[];d.primitiveShader=null;d.gl=a.gl;d.CONTEXT_UID=0;return d}m(b,e);b.prototype.onContextChange=function(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;
this.primitiveShader=new n["default"](this.gl)};b.prototype.destroy=function(){a["default"].prototype.destroy.call(this);for(var d=0;d<this.graphicsDataPool.length;++d)this.graphicsDataPool[d].destroy();this.graphicsDataPool=null};b.prototype.render=function(a){var d=this.renderer,e=d.gl,b,g=a._webGL[this.CONTEXT_UID];g&&a.dirty===g.dirty||(this.updateGraphics(a),g=a._webGL[this.CONTEXT_UID]);d.bindShader(this.primitiveShader);d.state.setBlendMode(a.blendMode);for(var n=0,h=g.data.length;n<h;n++){b=
g.data[n];var p=b.shader;d.bindShader(p);p.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);p.uniforms.tint=(0,c.hex2rgb)(a.tint);p.uniforms.alpha=a.worldAlpha;d.bindVao(b.vao);b.vao.draw(e.TRIANGLE_STRIP,b.indices.length)}};b.prototype.updateGraphics=function(a){var d=this.renderer.gl,c=a._webGL[this.CONTEXT_UID];c||(c=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:d,clearDirty:-1,dirty:-1});c.dirty=a.dirty;if(a.clearDirty!==c.clearDirty){c.clearDirty=a.clearDirty;for(d=0;d<
c.data.length;d++)this.graphicsDataPool.push(c.data[d]);c.data.length=0;c.lastIndex=0}for(var e=c.lastIndex;e<a.graphicsData.length;e++){var b=a.graphicsData[e],d=this.getWebGLData(c,0);b.type===g.SHAPES.POLY&&(0,p["default"])(b,d);b.type===g.SHAPES.RECT?(0,h["default"])(b,d):b.type===g.SHAPES.CIRC||b.type===g.SHAPES.ELIP?(0,A["default"])(b,d):b.type===g.SHAPES.RREC&&(0,q["default"])(b,d);c.lastIndex++}this.renderer.bindVao(null);for(a=0;a<c.data.length;a++)d=c.data[a],d.dirty&&d.upload()};b.prototype.getWebGLData=
function(a,c){var e=a.data[a.data.length-1];if(!e||32E4<e.points.length)e=this.graphicsDataPool.pop()||new d["default"](this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),e.reset(c),a.data.push(e);e.dirty=!0;return e};return b}(a["default"]);f["default"]=b;k["default"].registerPlugin("graphics",b)},{"../../const":42,"../../renderers/webgl/WebGLRenderer":80,"../../renderers/webgl/utils/ObjectRenderer":90,"../../utils":117,"./WebGLGraphicsData":54,"./shaders/PrimitiveShader":55,
"./utils/buildCircle":56,"./utils/buildPoly":58,"./utils/buildRectangle":59,"./utils/buildRoundedRectangle":60}],54:[function(b,k,f){f.__esModule=!0;var l=(b=b("pixi-gl-core"))&&b.__esModule?b:{"default":b};b=function(){function b(c,g,a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.gl=c;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=l["default"].GLBuffer.createVertexBuffer(c);this.indexBuffer=l["default"].GLBuffer.createIndexBuffer(c);this.dirty=
!0;this.glIndices=this.glPoints=null;this.shader=g;this.vao=(new l["default"].VertexArrayObject(c,a)).addIndex(this.indexBuffer).addAttribute(this.buffer,g.attributes.aVertexPosition,c.FLOAT,!1,24,0).addAttribute(this.buffer,g.attributes.aColor,c.FLOAT,!1,24,8)}b.prototype.reset=function(){this.points.length=0;this.indices.length=0};b.prototype.upload=function(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);
this.dirty=!1};b.prototype.destroy=function(){this.indices=this.points=this.color=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.glIndices=this.glPoints=this.indexBuffer=this.buffer=this.gl=null};return b}();f["default"]=b},{"pixi-gl-core":12}],55:[function(b,k,f){function l(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,
writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}f.__esModule=!0;b=b("../../../Shader");b=function(b){function c(g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");g=b.call(this,g,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
"varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!==typeof g&&"function"!==typeof g?this:g}l(c,b);return c}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"../../../Shader":41}],56:[function(b,k,f){f.__esModule=!0;f["default"]=function(b,a){var e=b.shape,d=e.x,g=e.y,p,h;b.type===m.SHAPES.CIRC?h=p=e.radius:(p=e.width,h=e.height);var e=Math.floor(30*
Math.sqrt(e.radius))||Math.floor(15*Math.sqrt(e.width+e.height)),q=2*Math.PI/e;if(b.fill){var f=(0,c.hex2rgb)(b.fillColor),k=b.fillAlpha,v=f[0]*k,r=f[1]*k,f=f[2]*k,u=a.points,t=a.indices,w=u.length/6;t.push(w);for(var x=0;x<e+1;x++)u.push(d,g,v,r,f,k),u.push(d+Math.sin(q*x)*p,g+Math.cos(q*x)*h,v,r,f,k),t.push(w++,w++);t.push(w-1)}if(b.lineWidth){k=b.points;b.points=[];for(v=0;v<e+1;v++)b.points.push(d+Math.sin(q*v)*p,g+Math.cos(q*v)*h);(0,l["default"])(b,a);b.points=k}};var l=(k=b("./buildLine"))&&
k.__esModule?k:{"default":k},m=b("../../../const"),c=b("../../../utils")},{"../../../const":42,"../../../utils":117,"./buildLine":57}],57:[function(b,k,f){f.__esModule=!0;f["default"]=function(c,b){var a=c.points;if(0!==a.length){var e=new l.Point(a[0],a[1]),d=new l.Point(a[a.length-2],a[a.length-1]);if(e.x===d.x&&e.y===d.y){a=a.slice();a.pop();a.pop();var d=new l.Point(a[a.length-2],a[a.length-1]),g=d.x+.5*(e.x-d.x),e=d.y+.5*(e.y-d.y);a.unshift(g,e);a.push(g,e)}var p=b.points,g=b.indices,h=a.length/
2,e=a.length,d=p.length/6,q=c.lineWidth/2,f=(0,m.hex2rgb)(c.lineColor),k=c.lineAlpha,v=f[0]*k,r=f[1]*k,f=f[2]*k,u=a[0],t=a[1],w=a[2],x=a[3],D,y,z=-(t-x),C=u-w,E,G,F=Math.sqrt(z*z+C*C),z=z/F*q,C=C/F*q;p.push(u-z,t-C,v,r,f,k);p.push(u+z,t+C,v,r,f,k);for(var L=1;L<h-1;++L){u=a[2*(L-1)];t=a[2*(L-1)+1];w=a[2*L];x=a[2*L+1];D=a[2*(L+1)];y=a[2*(L+1)+1];z=-(t-x);C=u-w;F=Math.sqrt(z*z+C*C);z/=F;C/=F;z*=q;C*=q;E=-(x-y);G=w-D;F=Math.sqrt(E*E+G*G);E/=F;G/=F;E*=q;G*=q;var F=-C+t-(-C+x),O=-z+w-(-z+u),u=(-z+u)*(-C+
x)-(-z+w)*(-C+t),t=-G+y-(-G+x),P=-E+w-(-E+D);D=(-E+D)*(-G+x)-(-E+w)*(-G+y);y=F*P-t*O;.1>Math.abs(y)?(p.push(w-z,x-C,v,r,f,k),p.push(w+z,x+C,v,r,f,k)):(O=(O*D-P*u)/y,F=(t*u-F*D)/y,(O-w)*(O-w)+(F-x)*(F-x)>196*q*q?(z-=E,C-=G,F=Math.sqrt(z*z+C*C),z/=F,C/=F,z*=q,C*=q,p.push(w-z,x-C),p.push(v,r,f,k),p.push(w+z,x+C),p.push(v,r,f,k),p.push(w-z,x-C),p.push(v,r,f,k),e++):(p.push(O,F),p.push(v,r,f,k),p.push(w-(O-w),x-(F-x)),p.push(v,r,f,k)))}u=a[2*(h-2)];t=a[2*(h-2)+1];w=a[2*(h-1)];x=a[2*(h-1)+1];z=-(t-x);C=
u-w;F=Math.sqrt(z*z+C*C);z=z/F*q;C=C/F*q;p.push(w-z,x-C);p.push(v,r,f,k);p.push(w+z,x+C);p.push(v,r,f,k);g.push(d);for(a=0;a<e;++a)g.push(d++);g.push(d-1)}};var l=b("../../../math"),m=b("../../../utils")},{"../../../math":66,"../../../utils":117}],58:[function(b,k,f){f.__esModule=!0;f["default"]=function(b,a){b.points=b.shape.points.slice();var e=b.points;if(b.fill&&6<=e.length){for(var d=[],g=b.holes,p=0;p<g.length;p++){var h=g[p];d.push(e.length/2);e=e.concat(h.points)}var g=a.points,q=a.indices,
p=e.length/2,f=(0,m.hex2rgb)(b.fillColor),h=b.fillAlpha,k=f[0]*h,v=f[1]*h,f=f[2]*h,d=(0,c["default"])(e,d,2);if(!d)return;for(var r=g.length/6,u=0;u<d.length;u+=3)q.push(d[u]+r),q.push(d[u]+r),q.push(d[u+1]+r),q.push(d[u+2]+r),q.push(d[u+2]+r);for(d=0;d<p;d++)g.push(e[2*d],e[2*d+1],k,v,f,h)}0<b.lineWidth&&(0,l["default"])(b,a)};var l=(k=b("./buildLine"))&&k.__esModule?k:{"default":k},m=b("../../../utils"),c=(b=b("earcut"))&&b.__esModule?b:{"default":b}},{"../../../utils":117,"./buildLine":57,earcut:2}],
59:[function(b,k,f){f.__esModule=!0;f["default"]=function(c,b){var a=c.shape,e=a.x,d=a.y,g=a.width,a=a.height;if(c.fill){var p=(0,m.hex2rgb)(c.fillColor),h=c.fillAlpha,q=p[0]*h,f=p[1]*h,p=p[2]*h,k=b.points,v=b.indices,r=k.length/6;k.push(e,d);k.push(q,f,p,h);k.push(e+g,d);k.push(q,f,p,h);k.push(e,d+a);k.push(q,f,p,h);k.push(e+g,d+a);k.push(q,f,p,h);v.push(r,r,r+1,r+2,r+3,r+3)}c.lineWidth&&(h=c.points,c.points=[e,d,e+g,d,e+g,d+a,e,d+a,e,d],(0,l["default"])(c,b),c.points=h)};var l=(k=b("./buildLine"))&&
k.__esModule?k:{"default":k},m=b("../../../utils")},{"../../../utils":117,"./buildLine":57}],60:[function(b,k,f){function l(a,c,d,b,g,h){for(var e=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],n,p,m,f,l=0,k;20>=l;++l)k=l/20,n=a+(d-a)*k,p=c+(b-c)*k,m=d+(g-d)*k,f=b+(h-b)*k,n+=(m-n)*k,p+=(f-p)*k,e.push(n,p);return e}f.__esModule=!0;f["default"]=function(a,e){var d=a.shape,b=d.x,p=d.y,h=d.width,q=d.height,f=d.radius,d=[];d.push(b,p+f);l(b,p+q-f,b,p+q,b+f,p+q,d);l(b+h-f,p+q,b+h,p+q,b+h,p+q-
f,d);l(b+h,p+f,b+h,p,b+h-f,p,d);l(b+f,p,b,p,b,p+f+1E-10,d);if(a.fill){for(var q=(0,g.hex2rgb)(a.fillColor),b=a.fillAlpha,p=q[0]*b,h=q[1]*b,q=q[2]*b,f=e.points,k=e.indices,v=f.length/6,r=(0,m["default"])(d,null,2),u=0,t=r.length;u<t;u+=3)k.push(r[u]+v),k.push(r[u]+v),k.push(r[u+1]+v),k.push(r[u+2]+v),k.push(r[u+2]+v);k=0;for(v=d.length;k<v;k++)f.push(d[k],d[++k],p,h,q,b)}a.lineWidth&&(b=a.points,a.points=d,(0,c["default"])(a,e),a.points=b)};var m=(k=b("earcut"))&&k.__esModule?k:{"default":k},c=(k=
b("./buildLine"))&&k.__esModule?k:{"default":k},g=b("../../../utils")},{"../../../utils":117,"./buildLine":57,earcut:2}],61:[function(b,k,f){function l(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}function m(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;f.Filter=f.SpriteMaskFilter=f.Quad=f.RenderTarget=f.ObjectRenderer=f.WebGLManager=f.Shader=f.CanvasRenderTarget=f.TextureUvs=f.VideoBaseTexture=
f.BaseRenderTexture=f.RenderTexture=f.BaseTexture=f.Texture=f.CanvasGraphicsRenderer=f.GraphicsRenderer=f.GraphicsData=f.Graphics=f.TextStyle=f.Text=f.SpriteRenderer=f.CanvasTinter=f.CanvasSpriteRenderer=f.Sprite=f.TransformBase=f.TransformStatic=f.Transform=f.Container=f.DisplayObject=f.Bounds=f.glCore=f.WebGLRenderer=f.CanvasRenderer=f.ticker=f.utils=f.settings=void 0;var c=b("./const");Object.keys(c).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(f,a,{enumerable:!0,
get:function(){return c[a]}})});var g=b("./math");Object.keys(g).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(f,a,{enumerable:!0,get:function(){return g[a]}})});var a=b("pixi-gl-core");Object.defineProperty(f,"glCore",{enumerable:!0,get:function(){return m(a)["default"]}});var e=b("./display/Bounds");Object.defineProperty(f,"Bounds",{enumerable:!0,get:function(){return m(e)["default"]}});var d=b("./display/DisplayObject");Object.defineProperty(f,"DisplayObject",{enumerable:!0,
get:function(){return m(d)["default"]}});var n=b("./display/Container");Object.defineProperty(f,"Container",{enumerable:!0,get:function(){return m(n)["default"]}});var p=b("./display/Transform");Object.defineProperty(f,"Transform",{enumerable:!0,get:function(){return m(p)["default"]}});var h=b("./display/TransformStatic");Object.defineProperty(f,"TransformStatic",{enumerable:!0,get:function(){return m(h)["default"]}});var q=b("./display/TransformBase");Object.defineProperty(f,"TransformBase",{enumerable:!0,
get:function(){return m(q)["default"]}});var A=b("./sprites/Sprite");Object.defineProperty(f,"Sprite",{enumerable:!0,get:function(){return m(A)["default"]}});var B=b("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(f,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return m(B)["default"]}});var v=b("./sprites/canvas/CanvasTinter");Object.defineProperty(f,"CanvasTinter",{enumerable:!0,get:function(){return m(v)["default"]}});var r=b("./sprites/webgl/SpriteRenderer");Object.defineProperty(f,
"SpriteRenderer",{enumerable:!0,get:function(){return m(r)["default"]}});var u=b("./text/Text");Object.defineProperty(f,"Text",{enumerable:!0,get:function(){return m(u)["default"]}});var t=b("./text/TextStyle");Object.defineProperty(f,"TextStyle",{enumerable:!0,get:function(){return m(t)["default"]}});var w=b("./graphics/Graphics");Object.defineProperty(f,"Graphics",{enumerable:!0,get:function(){return m(w)["default"]}});var x=b("./graphics/GraphicsData");Object.defineProperty(f,"GraphicsData",{enumerable:!0,
get:function(){return m(x)["default"]}});var D=b("./graphics/webgl/GraphicsRenderer");Object.defineProperty(f,"GraphicsRenderer",{enumerable:!0,get:function(){return m(D)["default"]}});var y=b("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(f,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return m(y)["default"]}});var z=b("./textures/Texture");Object.defineProperty(f,"Texture",{enumerable:!0,get:function(){return m(z)["default"]}});var C=b("./textures/BaseTexture");Object.defineProperty(f,
"BaseTexture",{enumerable:!0,get:function(){return m(C)["default"]}});var E=b("./textures/RenderTexture");Object.defineProperty(f,"RenderTexture",{enumerable:!0,get:function(){return m(E)["default"]}});var G=b("./textures/BaseRenderTexture");Object.defineProperty(f,"BaseRenderTexture",{enumerable:!0,get:function(){return m(G)["default"]}});var F=b("./textures/VideoBaseTexture");Object.defineProperty(f,"VideoBaseTexture",{enumerable:!0,get:function(){return m(F)["default"]}});var L=b("./textures/TextureUvs");
Object.defineProperty(f,"TextureUvs",{enumerable:!0,get:function(){return m(L)["default"]}});var O=b("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(f,"CanvasRenderTarget",{enumerable:!0,get:function(){return m(O)["default"]}});var P=b("./Shader");Object.defineProperty(f,"Shader",{enumerable:!0,get:function(){return m(P)["default"]}});var Q=b("./renderers/webgl/managers/WebGLManager");Object.defineProperty(f,"WebGLManager",{enumerable:!0,get:function(){return m(Q)["default"]}});
var K=b("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(f,"ObjectRenderer",{enumerable:!0,get:function(){return m(K)["default"]}});var J=b("./renderers/webgl/utils/RenderTarget");Object.defineProperty(f,"RenderTarget",{enumerable:!0,get:function(){return m(J)["default"]}});var M=b("./renderers/webgl/utils/Quad");Object.defineProperty(f,"Quad",{enumerable:!0,get:function(){return m(M)["default"]}});var R=b("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(f,
"SpriteMaskFilter",{enumerable:!0,get:function(){return m(R)["default"]}});var I=b("./renderers/webgl/filters/Filter");Object.defineProperty(f,"Filter",{enumerable:!0,get:function(){return m(I)["default"]}});f.autoDetectRenderer=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:800,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:600,c=arguments[2];return!arguments[3]&&N.isWebGLSupported()?new U["default"](a,d,c):new V["default"](a,d,c)};k=b("./utils");var N=l(k);k=b("./ticker");
k=l(k);var H=b("./settings"),H=m(H),T=b("./renderers/canvas/CanvasRenderer"),V=m(T);b=b("./renderers/webgl/WebGLRenderer");var U=m(b);f.settings=H["default"];f.utils=N;f.ticker=k;f.CanvasRenderer=V["default"];f.WebGLRenderer=U["default"]},{"./Shader":41,"./const":42,"./display/Bounds":43,"./display/Container":44,"./display/DisplayObject":45,"./display/Transform":46,"./display/TransformBase":47,"./display/TransformStatic":48,"./graphics/Graphics":49,"./graphics/GraphicsData":50,"./graphics/canvas/CanvasGraphicsRenderer":51,
"./graphics/webgl/GraphicsRenderer":53,"./math":66,"./renderers/canvas/CanvasRenderer":73,"./renderers/canvas/utils/CanvasRenderTarget":75,"./renderers/webgl/WebGLRenderer":80,"./renderers/webgl/filters/Filter":82,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":85,"./renderers/webgl/managers/WebGLManager":89,"./renderers/webgl/utils/ObjectRenderer":90,"./renderers/webgl/utils/Quad":91,"./renderers/webgl/utils/RenderTarget":92,"./settings":97,"./sprites/Sprite":98,"./sprites/canvas/CanvasSpriteRenderer":99,
"./sprites/canvas/CanvasTinter":100,"./sprites/webgl/SpriteRenderer":102,"./text/Text":104,"./text/TextStyle":105,"./textures/BaseRenderTexture":106,"./textures/BaseTexture":107,"./textures/RenderTexture":108,"./textures/Texture":109,"./textures/TextureUvs":110,"./textures/VideoBaseTexture":111,"./ticker":113,"./utils":117,"pixi-gl-core":12}],62:[function(b,k,f){function l(a){return 0>a?-1:0<a?1:0}f.__esModule=!0;var m=(b=b("./Matrix"))&&b.__esModule?b:{"default":b},c=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,
-1,-1,0,1],g=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],e=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],d=[],n=[];(function(){for(var b=0;16>b;b++){var p=[];n.push(p);for(var f=0;16>f;f++)for(var k=l(c[b]*c[f]+a[b]*g[f]),v=l(g[b]*c[f]+e[b]*g[f]),r=l(c[b]*a[f]+a[b]*e[f]),u=l(g[b]*a[f]+e[b]*e[f]),t=0;16>t;t++)if(c[t]===k&&g[t]===v&&a[t]===r&&e[t]===u){p.push(t);break}}for(b=0;16>b;b++)p=new m["default"],p.set(c[b],g[b],a[b],e[b],0,0),d.push(p)})();var p={E:0,SE:1,S:2,
SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return c[a]},uY:function(a){return g[a]},vX:function(d){return a[d]},vY:function(a){return e[a]},inv:function(a){return a&8?a&15:-a&7},add:function(a,d){return n[a][d]},sub:function(a,d){return n[a][p.inv(d)]},rotate180:function(a){return a^4},isSwapWidthHeight:function(a){return 2===(a&3)},byDirection:function(a,d){return 2*Math.abs(a)<=Math.abs(d)?0<=d?p.S:p.N:2*Math.abs(d)<=Math.abs(a)?0<a?p.E:p.W:0<d?0<a?p.SE:p.SW:0<
a?p.NE:p.NW},matrixAppendRotationInv:function(a,c){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,g=d[p.inv(c)];g.tx=e;g.ty=b;a.append(g)}};f["default"]=p},{"./Matrix":63}],63:[function(b,k,f){f.__esModule=!0;var l=function(){function c(c,a){for(var e=0;e<a.length;e++){var d=a[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(b,a,e){a&&c(b.prototype,
a);e&&c(b,e);return b}}(),m=(b=b("./Point"))&&b.__esModule?b:{"default":b};b=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;this.array=null}c.prototype.fromArray=function(c){this.a=c[0];this.b=c[1];this.c=c[3];this.d=c[4];this.tx=c[2];this.ty=c[5]};c.prototype.set=function(c,a,e,d,b,p){this.a=c;this.b=a;this.c=e;this.d=d;this.tx=b;this.ty=p;return this};c.prototype.toArray=function(c,a){this.array||
(this.array=new Float32Array(9));var e=a||this.array;c?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0);e[8]=1;return e};c.prototype.apply=function(c,a){a=a||new m["default"];var e=c.x,d=c.y;a.x=this.a*e+this.c*d+this.tx;a.y=this.b*e+this.d*d+this.ty;return a};c.prototype.applyInverse=function(c,a){a=a||new m["default"];var e=1/(this.a*this.d+this.c*-this.b),d=c.x,b=c.y;
a.x=this.d*e*d+-this.c*e*b+(this.ty*this.c-this.tx*this.d)*e;a.y=this.a*e*b+-this.b*e*d+(-this.ty*this.a+this.tx*this.b)*e;return a};c.prototype.translate=function(c,a){this.tx+=c;this.ty+=a;return this};c.prototype.scale=function(c,a){this.a*=c;this.d*=a;this.c*=c;this.b*=a;this.tx*=c;this.ty*=a;return this};c.prototype.rotate=function(c){var a=Math.cos(c);c=Math.sin(c);var e=this.a,d=this.c,b=this.tx;this.a=e*a-this.b*c;this.b=e*c+this.b*a;this.c=d*a-this.d*c;this.d=d*c+this.d*a;this.tx=b*a-this.ty*
c;this.ty=b*c+this.ty*a;return this};c.prototype.append=function(c){var a=this.a,e=this.b,d=this.c,b=this.d;this.a=c.a*a+c.b*d;this.b=c.a*e+c.b*b;this.c=c.c*a+c.d*d;this.d=c.c*e+c.d*b;this.tx=c.tx*a+c.ty*d+this.tx;this.ty=c.tx*e+c.ty*b+this.ty;return this};c.prototype.setTransform=function(c,a,e,d,b,p,h,q,f){var g=Math.sin(h),n=Math.cos(h);h=Math.cos(f);f=Math.sin(f);var m=-Math.sin(q);q=Math.cos(q);var l=n*b;b*=g;g=-g*p;p*=n;this.a=h*l+f*g;this.b=h*b+f*p;this.c=m*l+q*g;this.d=m*b+q*p;this.tx=c+(e*
l+d*g);this.ty=a+(e*b+d*p);return this};c.prototype.prepend=function(c){var a=this.tx;if(1!==c.a||0!==c.b||0!==c.c||1!==c.d){var e=this.a,d=this.c;this.a=e*c.a+this.b*c.c;this.b=e*c.b+this.b*c.d;this.c=d*c.a+this.d*c.c;this.d=d*c.b+this.d*c.d}this.tx=a*c.a+this.ty*c.c+c.tx;this.ty=a*c.b+this.ty*c.d+c.ty;return this};c.prototype.decompose=function(c){var a=this.a,e=this.b,d=this.c,b=this.d,g=-Math.atan2(-d,b),h=Math.atan2(e,a);1E-5>Math.abs(g+h)?(c.rotation=h,0>a&&0<=b&&(c.rotation+=0>=c.rotation?
Math.PI:-Math.PI),c.skew.x=c.skew.y=0):(c.skew.x=g,c.skew.y=h);c.scale.x=Math.sqrt(a*a+e*e);c.scale.y=Math.sqrt(d*d+b*b);c.position.x=this.tx;c.position.y=this.ty;return c};c.prototype.invert=function(){var c=this.a,a=this.b,e=this.c,d=this.d,b=this.tx,p=c*d-a*e;this.a=d/p;this.b=-a/p;this.c=-e/p;this.d=c/p;this.tx=(e*this.ty-d*b)/p;this.ty=-(c*this.ty-a*b)/p;return this};c.prototype.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};c.prototype.clone=function(){var b=
new c;b.a=this.a;b.b=this.b;b.c=this.c;b.d=this.d;b.tx=this.tx;b.ty=this.ty;return b};c.prototype.copy=function(c){c.a=this.a;c.b=this.b;c.c=this.c;c.d=this.d;c.tx=this.tx;c.ty=this.ty;return c};l(c,null,[{key:"IDENTITY",get:function(){return new c}},{key:"TEMP_MATRIX",get:function(){return new c}}]);return c}();f["default"]=b},{"./Point":65}],64:[function(b,k,f){f.__esModule=!0;var l=function(){function b(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;
"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,g,a){g&&b(c.prototype,g);a&&b(c,a);return c}}();b=function(){function b(c,g){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._x=a;this._y=e;this.cb=c;this.scope=g}b.prototype.set=function(c,b){var a=c||0,e=b||(0!==b?a:0);if(this._x!==a||this._y!==e)this._x=a,this._y=
e,this.cb.call(this.scope)};b.prototype.copy=function(c){if(this._x!==c.x||this._y!==c.y)this._x=c.x,this._y=c.y,this.cb.call(this.scope)};l(b,[{key:"x",get:function(){return this._x},set:function(c){this._x!==c&&(this._x=c,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(c){this._y!==c&&(this._y=c,this.cb.call(this.scope))}}]);return b}();f["default"]=b},{}],65:[function(b,k,f){f.__esModule=!0;b=function(){function b(){var f=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.x=f;this.y=c}b.prototype.clone=function(){return new b(this.x,this.y)};b.prototype.copy=function(b){this.set(b.x,b.y)};b.prototype.equals=function(b){return b.x===this.x&&b.y===this.y};b.prototype.set=function(b,c){this.x=b||0;this.y=c||(0!==c?this.x:0)};return b}();f["default"]=b},{}],66:[function(b,k,f){function l(a){return a&&a.__esModule?
a:{"default":a}}f.__esModule=!0;var m=b("./Point");Object.defineProperty(f,"Point",{enumerable:!0,get:function(){return l(m)["default"]}});var c=b("./ObservablePoint");Object.defineProperty(f,"ObservablePoint",{enumerable:!0,get:function(){return l(c)["default"]}});var g=b("./Matrix");Object.defineProperty(f,"Matrix",{enumerable:!0,get:function(){return l(g)["default"]}});var a=b("./GroupD8");Object.defineProperty(f,"GroupD8",{enumerable:!0,get:function(){return l(a)["default"]}});var e=b("./shapes/Circle");
Object.defineProperty(f,"Circle",{enumerable:!0,get:function(){return l(e)["default"]}});var d=b("./shapes/Ellipse");Object.defineProperty(f,"Ellipse",{enumerable:!0,get:function(){return l(d)["default"]}});var n=b("./shapes/Polygon");Object.defineProperty(f,"Polygon",{enumerable:!0,get:function(){return l(n)["default"]}});var p=b("./shapes/Rectangle");Object.defineProperty(f,"Rectangle",{enumerable:!0,get:function(){return l(p)["default"]}});var h=b("./shapes/RoundedRectangle");Object.defineProperty(f,
"RoundedRectangle",{enumerable:!0,get:function(){return l(h)["default"]}})},{"./GroupD8":62,"./Matrix":63,"./ObservablePoint":64,"./Point":65,"./shapes/Circle":67,"./shapes/Ellipse":68,"./shapes/Polygon":69,"./shapes/Rectangle":70,"./shapes/RoundedRectangle":71}],67:[function(b,k,f){f.__esModule=!0;var l=(k=b("./Rectangle"))&&k.__esModule?k:{"default":k},m=b("../../const");b=function(){function c(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.x=b;this.y=a;this.radius=e;this.type=m.SHAPES.CIRC}c.prototype.clone=function(){return new c(this.x,this.y,this.radius)};c.prototype.contains=function(c,a){if(0>=this.radius)return!1;var e=this.x-c,d=this.y-a;return e*e+d*d<=this.radius*this.radius};c.prototype.getBounds=function(){return new l["default"](this.x-this.radius,this.y-this.radius,
2*this.radius,2*this.radius)};return c}();f["default"]=b},{"../../const":42,"./Rectangle":70}],68:[function(b,k,f){f.__esModule=!0;var l=(k=b("./Rectangle"))&&k.__esModule?k:{"default":k},m=b("../../const");b=function(){function c(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.x=b;this.y=a;this.width=e;this.height=d;this.type=m.SHAPES.ELIP}c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height)};c.prototype.contains=function(c,a){if(0>=this.width||0>=this.height)return!1;var e=(c-this.x)/this.width,d=(a-this.y)/this.height;return 1>=e*e+d*d};c.prototype.getBounds=function(){return new l["default"](this.x-this.width,this.y-this.height,this.width,this.height)};return c}();f["default"]=b},{"../../const":42,"./Rectangle":70}],69:[function(b,k,f){f.__esModule=
!0;var l=(k=b("../Point"))&&k.__esModule?k:{"default":k},m=b("../../const");b=function(){function c(){for(var b=arguments.length,a=Array(b),e=0;e<b;e++)a[e]=arguments[e];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");Array.isArray(a[0])&&(a=a[0]);if(a[0]instanceof l["default"]){for(var b=[],e=0,d=a.length;e<d;e++)b.push(a[e].x,a[e].y);a=b}this.closed=!0;this.points=a;this.type=m.SHAPES.POLY}c.prototype.clone=function(){return new c(this.points.slice())};c.prototype.close=
function(){var c=this.points;c[0]===c[c.length-2]&&c[1]===c[c.length-1]||c.push(c[0],c[1])};c.prototype.contains=function(c,a){for(var e=!1,d=this.points.length/2,b=0,g=d-1;b<d;g=b++){var h=this.points[2*b],q=this.points[2*b+1],f=this.points[2*g],g=this.points[2*g+1];q>a!==g>a&&c<(a-q)/(g-q)*(f-h)+h&&(e=!e)}return e};return c}();f["default"]=b},{"../../const":42,"../Point":65}],70:[function(b,k,f){f.__esModule=!0;var l=function(){function c(c,a){for(var e=0;e<a.length;e++){var d=a[e];d.enumerable=
d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),m=b("../../const");b=function(){function c(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.x=b;this.y=a;this.width=e;this.height=d;this.type=m.SHAPES.RECT}c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height)};c.prototype.copy=function(c){this.x=c.x;this.y=c.y;this.width=c.width;this.height=c.height;return this};c.prototype.contains=function(c,a){return 0>=this.width||0>=this.height?!1:c>=this.x&&c<this.x+this.width&&a>=this.y&&a<this.y+this.height?!0:!1};c.prototype.pad=function(c,a){c=c||0;a=a||(0!==a?c:0);this.x-=c;this.y-=a;this.width+=2*c;this.height+=
2*a};c.prototype.fit=function(c){this.x<c.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=c.x);this.y<c.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=c.y);this.x+this.width>c.x+c.width&&(this.width=c.width-this.x,0>this.width&&(this.width=0));this.y+this.height>c.y+c.height&&(this.height=c.height-this.y,0>this.height&&(this.height=0))};c.prototype.enlarge=function(b){if(b!==c.EMPTY){var a=Math.min(this.x,b.x),e=Math.max(this.x+this.width,b.x+b.width),d=Math.min(this.y,b.y);
b=Math.max(this.y+this.height,b.y+b.height);this.x=a;this.width=e-a;this.y=d;this.height=b-d}};l(c,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new c(0,0,0,0)}}]);return c}();f["default"]=b},{"../../const":42}],71:[function(b,k,f){f.__esModule=!0;var l=b("../../const");b=function(){function b(){var c=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:0,g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,d=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.x=c;this.y=g;this.width=a;this.height=e;this.radius=d;this.type=l.SHAPES.RREC}b.prototype.clone=function(){return new b(this.x,this.y,this.width,
this.height,this.radius)};b.prototype.contains=function(c,b){if(0>=this.width||0>=this.height)return!1;if(c>=this.x&&c<=this.x+this.width&&b>=this.y&&b<=this.y+this.height){if(b>=this.y+this.radius&&b<=this.y+this.height-this.radius||c>=this.x+this.radius&&c<=this.x+this.width-this.radius)return!0;var a=c-(this.x+this.radius),e=b-(this.y+this.radius),d=this.radius*this.radius;if(a*a+e*e<=d)return!0;a=c-(this.x+this.width-this.radius);if(a*a+e*e<=d)return!0;e=b-(this.y+this.height-this.radius);if(a*
a+e*e<=d)return!0;a=c-(this.x+this.radius);if(a*a+e*e<=d)return!0}return!1};return b}();f["default"]=b},{"../../const":42}],72:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=
d)}f.__esModule=!0;var c=function(){function a(a,d){for(var c=0;c<d.length;c++){var e=d[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(d,c,e){c&&a(d.prototype,c);e&&a(d,e);return d}}(),g=b("../utils");k=b("../math");var a=b("../const"),e=b("../settings"),d=l(e),e=b("../display/Container"),n=l(e),e=b("../textures/RenderTexture"),p=l(e);b=b("eventemitter3");b=l(b);var h=new k.Matrix;k=function(e){function b(c,h,p,f){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var q;q=e.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");q=!q||"object"!==typeof q&&"function"!==typeof q?this:q;(0,g.sayHello)(c);if(f)for(var m in d["default"].RENDER_OPTIONS)"undefined"===typeof f[m]&&(f[m]=d["default"].RENDER_OPTIONS[m]);else f=d["default"].RENDER_OPTIONS;q.type=a.RENDERER_TYPE.UNKNOWN;q.width=h||800;q.height=p||600;q.view=f.view||document.createElement("canvas");
q.resolution=f.resolution||d["default"].RESOLUTION;q.transparent=f.transparent;q.autoResize=f.autoResize||!1;q.blendModes=null;q.preserveDrawingBuffer=f.preserveDrawingBuffer;q.clearBeforeRender=f.clearBeforeRender;q.roundPixels=f.roundPixels;q._backgroundColor=0;q._backgroundColorRgba=[0,0,0,0];q._backgroundColorString="#000000";q.backgroundColor=f.backgroundColor||q._backgroundColor;q._tempDisplayObjectParent=new n["default"];q._lastObjectRendered=q._tempDisplayObjectParent;return q}m(b,e);b.prototype.resize=
function(a,d){this.width=a*this.resolution;this.height=d*this.resolution;this.view.width=this.width;this.view.height=this.height;this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")};b.prototype.generateTexture=function(a,d,c){var e=a.getLocalBounds();d=p["default"].create(e.width|0,e.height|0,d,c);h.tx=-e.x;h.ty=-e.y;this.render(a,d,!1,h,!0);return d};b.prototype.destroy=function(d){d&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);
this.type=a.RENDERER_TYPE.UNKNOWN;this.height=this.width=0;this.view=null;this.resolution=0;this.autoResize=this.transparent=!1;this.blendModes=null;this.roundPixels=this.clearBeforeRender=this.preserveDrawingBuffer=!1;this._backgroundColor=0;this._backgroundColorString=this._backgroundColorRgba=null;this.backgroundColor=0;this._lastObjectRendered=this._tempDisplayObjectParent=null};c(b,[{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a;this._backgroundColorString=
(0,g.hex2string)(a);(0,g.hex2rgb)(a,this._backgroundColorRgba)}}]);return b}(b["default"]);f["default"]=k},{"../const":42,"../display/Container":44,"../math":66,"../settings":97,"../textures/RenderTexture":108,"../utils":117,eventemitter3:3}],73:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;k=b("../SystemRenderer");k=l(k);var c=b("./utils/CanvasMaskManager"),g=l(c),c=b("./utils/CanvasRenderTarget"),a=l(c),c=b("./utils/mapCanvasBlendModesToPixi"),e=l(c),c=b("../../utils"),d=b("../../const");b=b("../../settings");var n=l(b);b=function(c){function b(a,n){var h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
h=c.call(this,"Canvas",a,n,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.type=d.RENDERER_TYPE.CANVAS;h.rootContext=h.view.getContext("2d",{alpha:h.transparent});h.refresh=!0;h.maskManager=new g["default"](h);h.smoothProperty="imageSmoothingEnabled";h.rootContext.imageSmoothingEnabled||(h.rootContext.webkitImageSmoothingEnabled?h.smoothProperty="webkitImageSmoothingEnabled":h.rootContext.mozImageSmoothingEnabled?
h.smoothProperty="mozImageSmoothingEnabled":h.rootContext.oImageSmoothingEnabled?h.smoothProperty="oImageSmoothingEnabled":h.rootContext.msImageSmoothingEnabled&&(h.smoothProperty="msImageSmoothingEnabled"));h.initPlugins();h.blendModes=(0,e["default"])();h._activeBlendMode=null;h.context=null;h.renderingToScreen=!1;h.resize(a,n);return h}m(b,c);b.prototype.render=function(c,e,b,g,n){if(this.view){this.renderingToScreen=!e;this.emit("prerender");var h=this.resolution;e?(e=e.baseTexture||e,e._canvasRenderTarget||
(e._canvasRenderTarget=new a["default"](e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var p=this.context;e||(this._lastObjectRendered=c);n||(e=c.parent,n=this._tempDisplayObjectParent.transform.worldTransform,g?g.copy(n):n.identity(),c.parent=this._tempDisplayObjectParent,c.updateTransform(),c.parent=e);p.setTransform(1,0,0,1,0,0);p.globalAlpha=
1;p.globalCompositeOperation=this.blendModes[d.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&(p.fillStyle="black",p.clear());(void 0!==b?b:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?p.clearRect(0,0,this.width,this.height):(p.fillStyle=this._backgroundColorString,p.fillRect(0,0,this.width,this.height)));b=this.context;this.context=p;c.renderCanvas(this);this.context=b;this.resolution=h;this.emit("postrender")}};b.prototype.clear=function(a){var d=this.context;
a=a||this._backgroundColorString;!this.transparent&&a?(d.fillStyle=a,d.fillRect(0,0,this.width,this.height)):d.clearRect(0,0,this.width,this.height)};b.prototype.setBlendMode=function(a){this._activeBlendMode!==a&&(this._activeBlendMode=a,this.context.globalCompositeOperation=this.blendModes[a])};b.prototype.destroy=function(a){this.destroyPlugins();c.prototype.destroy.call(this,a);this.context=null;this.refresh=!0;this.maskManager.destroy();this.smoothProperty=this.maskManager=null};b.prototype.resize=
function(a,e){c.prototype.resize.call(this,a,e);this.smoothProperty&&(this.rootContext[this.smoothProperty]=n["default"].SCALE_MODE===d.SCALE_MODES.LINEAR)};return b}(k["default"]);f["default"]=b;c.pluginTarget.mixin(b)},{"../../const":42,"../../settings":97,"../../utils":117,"../SystemRenderer":72,"./utils/CanvasMaskManager":74,"./utils/CanvasRenderTarget":75,"./utils/mapCanvasBlendModesToPixi":77}],74:[function(b,k,f){f.__esModule=!0;var l=b("../../../const");b=function(){function b(c){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.renderer=c}b.prototype.pushMask=function(c){var b=this.renderer;b.context.save();var a=c.alpha,e=c.transform.worldTransform,d=b.resolution;b.context.setTransform(e.a*d,e.b*d,e.c*d,e.d*d,e.tx*d,e.ty*d);c._texture||(this.renderGraphicsShape(c),b.context.clip());c.worldAlpha=a};b.prototype.renderGraphicsShape=function(c){var b=this.renderer.context,a=c.graphicsData.length;if(0!==a){b.beginPath();for(var e=0;e<a;e++){var d=c.graphicsData[e],
n=d.shape;if(d.type===l.SHAPES.POLY){d=n.points;b.moveTo(d[0],d[1]);for(var p=1;p<d.length/2;p++)b.lineTo(d[2*p],d[2*p+1]);d[0]===d[d.length-2]&&d[1]===d[d.length-1]&&b.closePath()}else if(d.type===l.SHAPES.RECT)b.rect(n.x,n.y,n.width,n.height),b.closePath();else if(d.type===l.SHAPES.CIRC)b.arc(n.x,n.y,n.radius,0,2*Math.PI),b.closePath();else if(d.type===l.SHAPES.ELIP){var h=2*n.width,p=2*n.height,d=n.x-h/2,n=n.y-p/2,f=h/2*.5522848,m=p/2*.5522848,k=d+h,v=n+p,h=d+h/2,p=n+p/2;b.moveTo(d,p);b.bezierCurveTo(d,
p-m,h-f,n,h,n);b.bezierCurveTo(h+f,n,k,p-m,k,p);b.bezierCurveTo(k,p+m,h+f,v,h,v);b.bezierCurveTo(h-f,v,d,p+m,d,p);b.closePath()}else d.type===l.SHAPES.RREC&&(d=n.x,p=n.y,f=n.width,m=n.height,n=n.radius,k=Math.min(f,m)/2|0,n=n>k?k:n,b.moveTo(d,p+n),b.lineTo(d,p+m-n),b.quadraticCurveTo(d,p+m,d+n,p+m),b.lineTo(d+f-n,p+m),b.quadraticCurveTo(d+f,p+m,d+f,p+m-n),b.lineTo(d+f,p+n),b.quadraticCurveTo(d+f,p,d+f-n,p),b.lineTo(d+n,p),b.quadraticCurveTo(d,p,d,p+n),b.closePath())}}};b.prototype.popMask=function(c){c.context.restore()};
b.prototype.destroy=function(){};return b}();f["default"]=b},{"../../../const":42}],75:[function(b,k,f){f.__esModule=!0;var l=function(){function c(c,a){for(var e=0;e<a.length;e++){var d=a[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}();b=b("../../../settings");var m=(b&&b.__esModule?b:{"default":b})["default"].RESOLUTION;b=function(){function c(b,a,e){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=e||m;this.resize(b,a)}c.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};c.prototype.resize=function(c,a){this.canvas.width=c*this.resolution;this.canvas.height=a*this.resolution};c.prototype.destroy=function(){this.canvas=this.context=null};l(c,[{key:"width",
get:function(){return this.canvas.width},set:function(c){this.canvas.width=c}},{key:"height",get:function(){return this.canvas.height},set:function(c){this.canvas.height=c}}]);return c}();f["default"]=b},{"../../../settings":97}],76:[function(b,k,f){function l(b){var c=document.createElement("canvas");c.width=6;c.height=1;var g=c.getContext("2d");g.fillStyle=b;g.fillRect(0,0,6,1);return c}f.__esModule=!0;f["default"]=function(){if("undefined"===typeof document)return!1;var b=l("#ff00ff"),c=l("#ffff00"),
g=document.createElement("canvas");g.width=6;g.height=1;g=g.getContext("2d");g.globalCompositeOperation="multiply";g.drawImage(b,0,0);g.drawImage(c,2,0);b=g.getImageData(2,0,1,1);if(!b)return!1;b=b.data;return 255===b[0]&&0===b[1]&&0===b[2]}},{}],77:[function(b,k,f){f.__esModule=!0;f["default"]=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,m["default"])()?(c[l.BLEND_MODES.NORMAL]="source-over",c[l.BLEND_MODES.ADD]="lighter",c[l.BLEND_MODES.MULTIPLY]="multiply",c[l.BLEND_MODES.SCREEN]=
"screen",c[l.BLEND_MODES.OVERLAY]="overlay",c[l.BLEND_MODES.DARKEN]="darken",c[l.BLEND_MODES.LIGHTEN]="lighten",c[l.BLEND_MODES.COLOR_DODGE]="color-dodge",c[l.BLEND_MODES.COLOR_BURN]="color-burn",c[l.BLEND_MODES.HARD_LIGHT]="hard-light",c[l.BLEND_MODES.SOFT_LIGHT]="soft-light",c[l.BLEND_MODES.DIFFERENCE]="difference",c[l.BLEND_MODES.EXCLUSION]="exclusion",c[l.BLEND_MODES.HUE]="hue",c[l.BLEND_MODES.SATURATION]="saturate",c[l.BLEND_MODES.COLOR]="color",c[l.BLEND_MODES.LUMINOSITY]="luminosity"):(c[l.BLEND_MODES.NORMAL]=
"source-over",c[l.BLEND_MODES.ADD]="lighter",c[l.BLEND_MODES.MULTIPLY]="source-over",c[l.BLEND_MODES.SCREEN]="source-over",c[l.BLEND_MODES.OVERLAY]="source-over",c[l.BLEND_MODES.DARKEN]="source-over",c[l.BLEND_MODES.LIGHTEN]="source-over",c[l.BLEND_MODES.COLOR_DODGE]="source-over",c[l.BLEND_MODES.COLOR_BURN]="source-over",c[l.BLEND_MODES.HARD_LIGHT]="source-over",c[l.BLEND_MODES.SOFT_LIGHT]="source-over",c[l.BLEND_MODES.DIFFERENCE]="source-over",c[l.BLEND_MODES.EXCLUSION]="source-over",c[l.BLEND_MODES.HUE]=
"source-over",c[l.BLEND_MODES.SATURATION]="source-over",c[l.BLEND_MODES.COLOR]="source-over",c[l.BLEND_MODES.LUMINOSITY]="source-over");return c};var l=b("../../../const"),m=(b=b("./canUseNewCanvasBlendModes"))&&b.__esModule?b:{"default":b}},{"../../../const":42,"./canUseNewCanvasBlendModes":76}],78:[function(b,k,f){f.__esModule=!0;var l=b("../../const"),m=(b=b("../../settings"))&&b.__esModule?b:{"default":b};b=function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.renderer=b;this.checkCount=this.count=0;this.maxIdle=m["default"].GC_MAX_IDLE;this.checkCountMax=m["default"].GC_MAX_CHECK_COUNT;this.mode=m["default"].GC_MODE}c.prototype.update=function(){this.count++;this.mode!==l.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))};c.prototype.run=function(){for(var c=this.renderer.textureManager,a=c._managedTextures,e=!1,d=0;d<a.length;d++){var b=a[d];!b._glRenderTargets&&this.count-b.touched>this.maxIdle&&
(c.destroyTexture(b,!0),a[d]=null,e=!0)}if(e){for(e=c=0;e<a.length;e++)null!==a[e]&&(a[c++]=a[e]);a.length=c}};c.prototype.unload=function(c){var a=this.renderer.textureManager;c._texture&&c._texture._glRenderTargets&&a.destroyTexture(c._texture,!0);for(a=c.children.length-1;0<=a;a--)this.unload(c.children[a])};return c}();f["default"]=b},{"../../const":42,"../../settings":97}],79:[function(b,k,f){f.__esModule=!0;var l=b("pixi-gl-core"),m=b("../../const"),c=(k=b("./utils/RenderTarget"))&&k.__esModule?
k:{"default":k},g=b("../../utils");b=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=c;this.gl=c.gl;this._managedTextures=[]}a.prototype.bindTexture=function(){};a.prototype.getTexture=function(){};a.prototype.updateTexture=function(a,d){var e=this.gl,b=!!a._glRenderTargets;if(!a.hasLoaded)return null;var g=this.renderer.boundTextures;if(void 0===d)for(var f=d=0;f<g.length;++f)if(g[f]===a){d=f;break}g[d]=a;e.activeTexture(e.TEXTURE0+
d);(e=a._glTextures[this.renderer.CONTEXT_UID])?b?a._glRenderTargets[this.renderer.CONTEXT_UID].resize(a.width,a.height):e.upload(a.source):(b?(b=new c["default"](this.gl,a.width,a.height,a.scaleMode,a.resolution),b.resize(a.width,a.height),a._glRenderTargets[this.renderer.CONTEXT_UID]=b,e=b.texture):(e=new l.GLTexture(this.gl,null,null,null,null),e.bind(d),e.premultiplyAlpha=!0,e.upload(a.source)),a._glTextures[this.renderer.CONTEXT_UID]=e,a.on("update",this.updateTexture,this),a.on("dispose",this.destroyTexture,
this),this._managedTextures.push(a),a.isPowerOfTwo?(a.mipmap&&e.enableMipmap(),a.wrapMode===m.WRAP_MODES.CLAMP?e.enableWrapClamp():a.wrapMode===m.WRAP_MODES.REPEAT?e.enableWrapRepeat():e.enableWrapMirrorRepeat()):e.enableWrapClamp(),a.scaleMode===m.SCALE_MODES.NEAREST?e.enableNearestScaling():e.enableLinearScaling());return e};a.prototype.destroyTexture=function(a,d){a=a.baseTexture||a;if(a.hasLoaded&&a._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(a),a._glTextures[this.renderer.CONTEXT_UID].destroy(),
a.off("update",this.updateTexture,this),a.off("dispose",this.destroyTexture,this),delete a._glTextures[this.renderer.CONTEXT_UID],!d)){var c=this._managedTextures.indexOf(a);-1!==c&&(0,g.removeItems)(this._managedTextures,c,1)}};a.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var d=this._managedTextures[a];d._glTextures[this.renderer.CONTEXT_UID]&&delete d._glTextures[this.renderer.CONTEXT_UID]}};a.prototype.destroy=function(){for(var a=0;a<this._managedTextures.length;++a){var d=
this._managedTextures[a];this.destroyTexture(d,!0);d.off("update",this.updateTexture,this);d.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return a}();f["default"]=b},{"../../const":42,"../../utils":117,"./utils/RenderTarget":92,"pixi-gl-core":12}],80:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&
d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;k=b("../SystemRenderer");var c=l(k);k=b("./managers/MaskManager");var g=l(k);k=b("./managers/StencilManager");var a=l(k);k=b("./managers/FilterManager");var e=l(k);k=b("./utils/RenderTarget");var d=l(k);k=b("./utils/ObjectRenderer");var n=l(k);k=b("./TextureManager");var p=l(k);k=b("../../textures/BaseTexture");var h=l(k);k=b("./TextureGarbageCollector");
var q=l(k);k=b("./WebGLState");var A=l(k);k=b("./utils/mapWebGLDrawModesToPixi");var B=l(k);k=b("./utils/validateContext");var v=l(k);k=b("../../utils");var r=b("pixi-gl-core"),u=l(r),t=b("../../const"),w=0;b=function(b){function f(d,c){var h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var p;p=b.call(this,"WebGL",d,c,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
p=!p||"object"!==typeof p&&"function"!==typeof p?this:p;p.type=t.RENDERER_TYPE.WEBGL;p.handleContextLost=p.handleContextLost.bind(p);p.handleContextRestored=p.handleContextRestored.bind(p);p.view.addEventListener("webglcontextlost",p.handleContextLost,!1);p.view.addEventListener("webglcontextrestored",p.handleContextRestored,!1);p._contextOptions={alpha:p.transparent,antialias:h.antialias,premultipliedAlpha:p.transparent&&"notMultiplied"!==p.transparent,stencil:!0,preserveDrawingBuffer:h.preserveDrawingBuffer};
p._backgroundColorRgba[3]=p.transparent?0:1;p.maskManager=new g["default"](p);p.stencilManager=new a["default"](p);p.emptyRenderer=new n["default"](p);p.currentRenderer=p.emptyRenderer;p.initPlugins();h.context&&(0,v["default"])(h.context);p.gl=h.context||u["default"].createContext(p.view,p._contextOptions);p.CONTEXT_UID=w++;p.state=new A["default"](p.gl);p.renderingToScreen=!0;p.boundTextures=null;p._activeShader=null;p._activeVao=null;p._activeRenderTarget=null;p._initContext();p.filterManager=
new e["default"](p);p.drawModes=(0,B["default"])(p.gl);p._nextTextureLocation=0;p.setBlendMode(0);return p}m(f,b);f.prototype._initContext=function(){var a=this.gl;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext();var c=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=Array(c);this.emptyTextures=Array(c);this.textureManager=new p["default"](this);this.textureGC=new q["default"](this);this.state.resetToDefault();this.rootRenderTarget=
new d["default"](a,this.width,this.height,null,this.resolution,!0);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var e=new u["default"].GLTexture.fromData(a,null,1,1),b={_glTextures:{}};b._glTextures[this.CONTEXT_UID]={};for(var g=0;g<c;g++){var n=new h["default"];n._glTextures[this.CONTEXT_UID]=e;this.boundTextures[g]=b;this.emptyTextures[g]=n;this.bindTexture(null,g)}this.emit("context",a);this.resize(this.width,this.height)};f.prototype.render=
function(a,d,c,e,b){this.renderingToScreen=!d;this.emit("prerender");this.gl&&!this.gl.isContextLost()&&(this._nextTextureLocation=0,d||(this._lastObjectRendered=a),b||(b=a.parent,a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=b),this.bindRenderTexture(d,e),this.currentRenderer.start(),(void 0!==c?c:this.clearBeforeRender)&&this._activeRenderTarget.clear(),a.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"))};f.prototype.setObjectRenderer=
function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())};f.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};f.prototype.resize=function(a,d){c["default"].prototype.resize.call(this,a,d);this.rootRenderTarget.resize(a,d);this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))};
f.prototype.setBlendMode=function(a){this.state.setBlendMode(a)};f.prototype.clear=function(a){this._activeRenderTarget.clear(a)};f.prototype.setTransform=function(a){this._activeRenderTarget.transform=a};f.prototype.bindRenderTexture=function(a,d){var c;a?(c=a.baseTexture,c._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(c,0),this.unbindTexture(c),c=c._glRenderTargets[this.CONTEXT_UID],c.setFrame(a.frame)):c=this.rootRenderTarget;c.transform=d;this.bindRenderTarget(c);return this};
f.prototype.bindRenderTarget=function(a){a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack));return this};f.prototype.bindShader=function(a){this._activeShader!==a&&(this._activeShader=a,a.bind(),a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0));return this};f.prototype.bindTexture=function(a,d,c){a=
a||this.emptyTextures[d];a=a.baseTexture||a;a.touched=this.textureGC.count;if(c)d=d||0;else{for(c=0;c<this.boundTextures.length;c++)if(this.boundTextures[c]===a)return c;void 0===d&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,d=this.boundTextures.length-this._nextTextureLocation-1)}c=this.gl;var e=a._glTextures[this.CONTEXT_UID];e?(this.boundTextures[d]=a,c.activeTexture(c.TEXTURE0+d),c.bindTexture(c.TEXTURE_2D,e.texture)):this.textureManager.updateTexture(a,
d);return d};f.prototype.unbindTexture=function(a){var d=this.gl;a=a.baseTexture||a;for(var c=0;c<this.boundTextures.length;c++)this.boundTextures[c]===a&&(this.boundTextures[c]=this.emptyTextures[c],d.activeTexture(d.TEXTURE0+c),d.bindTexture(d.TEXTURE_2D,this.emptyTextures[c]._glTextures[this.CONTEXT_UID].texture));return this};f.prototype.createVao=function(){return new u["default"].VertexArrayObject(this.gl,this.state.attribState)};f.prototype.bindVao=function(a){if(this._activeVao===a)return this;
a?a.bind():this._activeVao&&this._activeVao.unbind();this._activeVao=a;return this};f.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;this.rootRenderTarget.activate();this.state.resetToDefault();return this};f.prototype.handleContextLost=function(a){a.preventDefault()};f.prototype.handleContextRestored=function(){this._initContext();this.textureManager.removeAll()};f.prototype.destroy=function(a){this.destroyPlugins();
this.view.removeEventListener("webglcontextlost",this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();b.prototype.destroy.call(this,a);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this._contextOptions=this.handleContextRestored=this.handleContextLost=this.currentRenderer=this.textureManager=this.filterManager=this.maskManager=null;this.gl.useProgram(null);this.gl.getExtension("WEBGL_lose_context")&&
this.gl.getExtension("WEBGL_lose_context").loseContext();this.gl=null};return f}(c["default"]);f["default"]=b;k.pluginTarget.mixin(b)},{"../../const":42,"../../textures/BaseTexture":107,"../../utils":117,"../SystemRenderer":72,"./TextureGarbageCollector":78,"./TextureManager":79,"./WebGLState":81,"./managers/FilterManager":86,"./managers/MaskManager":87,"./managers/StencilManager":88,"./utils/ObjectRenderer":90,"./utils/RenderTarget":92,"./utils/mapWebGLDrawModesToPixi":95,"./utils/validateContext":96,
"pixi-gl-core":12}],81:[function(b,k,f){f.__esModule=!0;var l=(b=b("./utils/mapWebGLBlendModesToPixi"))&&b.__esModule?b:{"default":b};b=function(){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=c;this.maxAttribs=c.getParameter(c.MAX_VERTEX_ATTRIBS);this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)};
this.blendModes=(0,l["default"])(c);this.nativeVaoExtension=c.getExtension("OES_vertex_array_object")||c.getExtension("MOZ_OES_vertex_array_object")||c.getExtension("WEBKIT_OES_vertex_array_object")}b.prototype.push=function(){var c=this.stack[++this.stackIndex];c||(c=this.stack[this.stackIndex]=new Uint8Array(16));for(var b=0;b<this.activeState.length;b++)this.activeState[b]=c[b]};b.prototype.pop=function(){var c=this.stack[--this.stackIndex];this.setState(c)};b.prototype.setState=function(c){this.setBlend(c[0]);
this.setDepthTest(c[1]);this.setFrontFace(c[2]);this.setCullFace(c[3]);this.setBlendMode(c[4])};b.prototype.setBlend=function(c){c=c?1:0;this.activeState[0]!==c&&(this.activeState[0]=c,this.gl[c?"enable":"disable"](this.gl.BLEND))};b.prototype.setBlendMode=function(c){c!==this.activeState[4]&&(this.activeState[4]=c,this.gl.blendFunc(this.blendModes[c][0],this.blendModes[c][1]))};b.prototype.setDepthTest=function(c){c=c?1:0;this.activeState[1]!==c&&(this.activeState[1]=c,this.gl[c?"enable":"disable"](this.gl.DEPTH_TEST))};
b.prototype.setCullFace=function(c){c=c?1:0;this.activeState[3]!==c&&(this.activeState[3]=c,this.gl[c?"enable":"disable"](this.gl.CULL_FACE))};b.prototype.setFrontFace=function(c){c=c?1:0;this.activeState[2]!==c&&(this.activeState[2]=c,this.gl.frontFace(this.gl[c?"CW":"CCW"]))};b.prototype.resetAttributes=function(){for(var c=0;c<this.attribState.tempAttribState.length;c++)this.attribState.tempAttribState[c]=0;for(c=0;c<this.attribState.attribState.length;c++)this.attribState.attribState[c]=0;for(c=
1;c<this.maxAttribs;c++)this.gl.disableVertexAttribArray(c)};b.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var c=0;c<this.activeState.length;++c)this.activeState[c]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.setState(this.defaultState)};return b}();f["default"]=b},{"./utils/mapWebGLBlendModesToPixi":94}],82:[function(b,k,f){f.__esModule=!0;var l=function(){function a(a,c){for(var d=0;d<c.length;d++){var e=
c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(d,c,e){c&&a(d.prototype,c);e&&a(d,e);return d}}(),m=(k=b("./extractUniformsFromSrc"))&&k.__esModule?k:{"default":k},c=b("../../../utils"),g=b("../../../const"),a={};b=function(){function e(d,b,p){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.vertexSrc=d||e.defaultVertexSrc;this.fragmentSrc=b||e.defaultFragmentSrc;this.blendMode=
g.BLEND_MODES.NORMAL;this.uniformData=p||(0,m["default"])(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var n in this.uniformData)this.uniforms[n]=this.uniformData[n].value;this.glShaders={};a[this.vertexSrc+this.fragmentSrc]||(a[this.vertexSrc+this.fragmentSrc]=(0,c.uid)());this.glShaderKey=a[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=1;this.enabled=!0}e.prototype.apply=function(a,c,e,b){a.applyFilter(this,c,e,b)};l(e,null,[{key:"defaultVertexSrc",
get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"}}]);
return e}();f["default"]=b},{"../../../const":42,"../../../utils":117,"./extractUniformsFromSrc":83}],83:[function(b,k,f){function l(c){var b=/^(projectionMatrix|uSampler|filterArea)$/,a={},e;c=c.replace(/\s+/g," ").split(/\s*;\s*/);for(var d=0;d<c.length;d++){var n=c[d].trim();if(-1<n.indexOf("uniform")){e=n.split(" ");var n=e[1],p=e[2],h=1;-1<p.indexOf("[")&&(e=p.split(/\[|]/),p=e[0],h*=Number(e[1]));p.match(b)||(a[p]={value:m(n,h),name:p,type:n})}}return a}f.__esModule=!0;f["default"]=function(c,
b,a){c=l(c,a);b=l(b,a);return Object.assign(c,b)};b=b("pixi-gl-core");var m=(b&&b.__esModule?b:{"default":b})["default"].shader.defaultValue},{"pixi-gl-core":12}],84:[function(b,k,f){f.__esModule=!0;f.calculateScreenSpaceMatrix=function(b,c,g){b=b.identity();b.translate(c.x/g.width,c.y/g.height);b.scale(g.width,g.height);return b};f.calculateNormalizedScreenSpaceMatrix=function(b,c,g){b=b.identity();b.translate(c.x/g.width,c.y/g.height);b.scale(g.width/c.width,g.height/c.height);return b};f.calculateSpriteMatrix=
function(b,c,g,a){var e=a.worldTransform.copy(l.Matrix.TEMP_MATRIX),d=a._texture.baseTexture;b=b.identity();var n=g.height/g.width;b.translate(c.x/g.width,c.y/g.height);b.scale(1,n);c=g.width/d.width;g=g.height/d.height;e.tx/=d.width*c;e.ty/=d.width*c;e.invert();b.prepend(e);b.scale(1,1/n);b.scale(c,g);b.translate(a.anchor.x,a.anchor.y);return b};var l=b("../../../math")},{"../../../math":66}],85:[function(b,k,f){function l(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}f.__esModule=!0;k=(k=b("../Filter"))&&k.__esModule?k:{"default":k};var m=b("../../../../math");b("path");b=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=new m.Matrix,d;d=c.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;a.renderable=!1;d.maskSprite=a;d.maskMatrix=e;return d}l(b,c);b.prototype.apply=function(a,c,d){var e=this.maskSprite;this.uniforms.mask=e._texture;this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,e);this.uniforms.alpha=e.worldAlpha;a.applyFilter(this,c,d)};return b}(k["default"]);f["default"]=b},{"../../../../math":66,"../Filter":82,
path:22}],86:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}function c(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function");}f.__esModule=
!0;k=b("./WebGLManager");k=l(k);var g=b("../utils/RenderTarget"),a=l(g),g=b("../utils/Quad"),e=l(g),d=b("../../../math"),g=b("../../../Shader"),n=l(g),p=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(b("../filters/filterTransforms"));b=b("bit-twiddle");var h=l(b),q=function B(){c(this,B);this.renderTarget=null;this.sourceFrame=new d.Rectangle;this.destinationFrame=new d.Rectangle;this.filters=
[];this.target=null;this.resolution=1};b=function(d){function b(a){c(this,b);var g;g=d.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.gl=g.renderer.gl;g.quad=new e["default"](g.gl,a.state.attribState);g.shaderCache={};g.pool={};g.filterData=null;return g}m(b,d);b.prototype.pushFilter=function(a,d){var c=this.renderer,e=this.filterData;if(!e){var b=new q;b.sourceFrame=b.destinationFrame=
this.renderer._activeRenderTarget.size;b.renderTarget=c._activeRenderTarget;this.filterData=this.renderer._activeRenderTarget.filterData=e={index:0,stack:[b]}}(b=e.stack[++e.index])||(b=e.stack[e.index]=new q);var g=d[0].resolution,n=d[0].padding|0,h=a.filterArea||a.getBounds(!0),p=b.sourceFrame,f=b.destinationFrame;p.x=(h.x*g|0)/g;p.y=(h.y*g|0)/g;p.width=(h.width*g|0)/g;p.height=(h.height*g|0)/g;e.stack[0].renderTarget.transform||p.fit(e.stack[0].destinationFrame);p.pad(n);f.width=p.width;f.height=
p.height;e=this.getPotRenderTarget(c.gl,p.width,p.height,g);b.target=a;b.filters=d;b.resolution=g;b.renderTarget=e;e.setFrame(f,p);c.bindRenderTarget(e);e.clear()};b.prototype.popFilter=function(){var a=this.filterData,d=a.stack[a.index-1],c=a.stack[a.index];this.quad.map(c.renderTarget.size,c.sourceFrame).upload();var e=c.filters;if(1===e.length)e[0].apply(this,c.renderTarget,d.renderTarget,!1),this.freePotRenderTarget(c.renderTarget);else{var b=c.renderTarget,g=this.getPotRenderTarget(this.renderer.gl,
c.sourceFrame.width,c.sourceFrame.height,c.resolution);g.setFrame(c.destinationFrame,c.sourceFrame);g.clear();for(c=0;c<e.length-1;++c){e[c].apply(this,b,g,!0);var n=b,b=g,g=n}e[c].apply(this,b,d.renderTarget,!0);this.freePotRenderTarget(b);this.freePotRenderTarget(g)}a.index--;0===a.index&&(this.filterData=null)};b.prototype.applyFilter=function(a,d,c,e){var b=this.renderer,g=b.gl,h=a.glShaders[b.CONTEXT_UID];h||(a.glShaderKey?(h=this.shaderCache[a.glShaderKey],h||(h=new n["default"](this.gl,a.vertexSrc,
a.fragmentSrc),a.glShaders[b.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=h)):h=a.glShaders[b.CONTEXT_UID]=new n["default"](this.gl,a.vertexSrc,a.fragmentSrc),b.bindVao(null),this.quad.initVao(h));b.bindVao(this.quad.vao);b.bindRenderTarget(c);e&&(g.disable(g.SCISSOR_TEST),b.clear(),g.enable(g.SCISSOR_TEST));c===b.maskManager.scissorRenderTarget&&b.maskManager.pushScissorMask(null,b.maskManager.scissorData);b.bindShader(h);this.syncUniforms(h,a);b.state.setBlendMode(a.blendMode);a=this.renderer.boundTextures[0];
g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,d.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);g.bindTexture(g.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)};b.prototype.syncUniforms=function(a,d){var c=d.uniformData,b=d.uniforms,e=1,g;if(a.uniforms.data.filterArea){g=this.filterData.stack[this.filterData.index];var n=a.uniforms.filterArea;n[0]=g.renderTarget.size.width;n[1]=g.renderTarget.size.height;n[2]=g.sourceFrame.x;n[3]=g.sourceFrame.y;a.uniforms.filterArea=
n}a.uniforms.data.filterClamp&&(g=this.filterData.stack[this.filterData.index],n=a.uniforms.filterClamp,n[0]=0,n[1]=0,n[2]=(g.sourceFrame.width-1)/g.renderTarget.size.width,n[3]=(g.sourceFrame.height-1)/g.renderTarget.size.height,a.uniforms.filterClamp=n);for(var h in c)"sampler2D"===c[h].type&&0!==b[h]?(b[h].baseTexture?a.uniforms[h]=this.renderer.bindTexture(b[h].baseTexture,e):(a.uniforms[h]=e,g=this.renderer.gl,this.renderer.boundTextures[e]=this.renderer.emptyTextures[e],g.activeTexture(g.TEXTURE0+
e),b[h].texture.bind()),e++):"mat3"===c[h].type?a.uniforms[h]=void 0!==b[h].a?b[h].toArray(!0):b[h]:"vec2"===c[h].type?void 0!==b[h].x?(g=a.uniforms[h]||new Float32Array(2),g[0]=b[h].x,g[1]=b[h].y,a.uniforms[h]=g):a.uniforms[h]=b[h]:"float"===c[h].type?a.uniforms.data[h].value!==c[h]&&(a.uniforms[h]=b[h]):a.uniforms[h]=b[h]};b.prototype.getRenderTarget=function(a,d){var c=this.filterData.stack[this.filterData.index],b=this.getPotRenderTarget(this.renderer.gl,c.sourceFrame.width,c.sourceFrame.height,
d||c.resolution);b.setFrame(c.destinationFrame,c.sourceFrame);return b};b.prototype.returnRenderTarget=function(a){this.freePotRenderTarget(a)};b.prototype.calculateScreenSpaceMatrix=function(a){var d=this.filterData.stack[this.filterData.index];return p.calculateScreenSpaceMatrix(a,d.sourceFrame,d.renderTarget.size)};b.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var d=this.filterData.stack[this.filterData.index];return p.calculateNormalizedScreenSpaceMatrix(a,d.sourceFrame,d.renderTarget.size,
d.destinationFrame)};b.prototype.calculateSpriteMatrix=function(a,d){var c=this.filterData.stack[this.filterData.index];return p.calculateSpriteMatrix(a,c.sourceFrame,c.renderTarget.size,d)};b.prototype.destroy=function(){this.shaderCache=[];this.emptyPool()};b.prototype.getPotRenderTarget=function(d,c,b,e){c=h["default"].nextPow2(c*e);b=h["default"].nextPow2(b*e);var g=(c&65535)<<16|b&65535;this.pool[g]||(this.pool[g]=[]);g=this.pool[g].pop();if(!g){var n=this.renderer.boundTextures[0];d.activeTexture(d.TEXTURE0);
g=new a["default"](d,c,b,null,1);d.bindTexture(d.TEXTURE_2D,n._glTextures[this.renderer.CONTEXT_UID].texture)}g.resolution=e;g.defaultFrame.width=g.size.width=c/e;g.defaultFrame.height=g.size.height=b/e;return g};b.prototype.emptyPool=function(){for(var a in this.pool){var d=this.pool[a];if(d)for(var c=0;c<d.length;c++)d[c].destroy(!0)}this.pool={}};b.prototype.freePotRenderTarget=function(a){this.pool[(a.size.width*a.resolution&65535)<<16|a.size.height*a.resolution&65535].push(a)};return b}(k["default"]);
f["default"]=b},{"../../../Shader":41,"../../../math":66,"../filters/filterTransforms":84,"../utils/Quad":91,"../utils/RenderTarget":92,"./WebGLManager":89,"bit-twiddle":1}],87:[function(b,k,f){function l(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=
b)}f.__esModule=!0;k=(k=b("./WebGLManager"))&&k.__esModule?k:{"default":k};var m=(b=b("../filters/spriteMask/SpriteMaskFilter"))&&b.__esModule?b:{"default":b};b=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=c.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.scissor=!1;a.scissorData=null;a.scissorRenderTarget=null;a.enableScissor=
!0;a.alphaMaskPool=[];a.alphaMaskIndex=0;return a}l(b,c);b.prototype.pushMask=function(a,c){if(c.texture)this.pushSpriteMask(a,c);else if(this.enableScissor&&!this.scissor&&!this.renderer.stencilManager.stencilMaskStack.length&&c.isFastRect()){var d=c.worldTransform,d=Math.atan2(d.b,d.a),d=Math.round(180/Math.PI*d);d%90?this.pushStencilMask(c):this.pushScissorMask(a,c)}else this.pushStencilMask(c)};b.prototype.popMask=function(a,c){c.texture?this.popSpriteMask(a,c):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?
this.popScissorMask(a,c):this.popStencilMask(a,c)};b.prototype.pushSpriteMask=function(a,c){var d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new m["default"](c)]);d[0].resolution=this.renderer.resolution;d[0].maskSprite=c;a.filterArea=c.getBounds(!0);this.renderer.filterManager.pushFilter(a,d);this.alphaMaskIndex++};b.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter();this.alphaMaskIndex--};b.prototype.pushStencilMask=function(a){this.renderer.currentRenderer.stop();
this.renderer.stencilManager.pushStencil(a)};b.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil()};b.prototype.pushScissorMask=function(a,c){c.renderable=!0;var d=this.renderer._activeRenderTarget,b=c.getBounds();b.fit(d.size);c.renderable=!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var e=this.renderer.resolution;this.renderer.gl.scissor(b.x*e,(d.root?d.size.height-b.y-b.height:b.y)*e,b.width*e,b.height*e);this.scissorRenderTarget=
d;this.scissorData=c;this.scissor=!0};b.prototype.popScissorMask=function(){this.scissorData=this.scissorRenderTarget=null;this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)};return b}(k["default"]);f["default"]=b},{"../filters/spriteMask/SpriteMaskFilter":85,"./WebGLManager":89}],88:[function(b,k,f){function l(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}f.__esModule=!0;var m=(b=b("./WebGLManager"))&&b.__esModule?b:{"default":b};b=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=c.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.stencilMaskStack=null;return a}l(b,
c);b.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var c=this.renderer.gl;0===a.length?c.disable(c.STENCIL_TEST):c.enable(c.STENCIL_TEST)};b.prototype.pushStencil=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var c=this.renderer.gl,d=this.stencilMaskStack;0===d.length&&(c.enable(c.STENCIL_TEST),c.clear(c.STENCIL_BUFFER_BIT),c.stencilFunc(c.ALWAYS,1,1));d.push(a);c.colorMask(!1,!1,!1,!1);c.stencilOp(c.KEEP,
c.KEEP,c.INCR);this.renderer.plugins.graphics.render(a);c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.NOTEQUAL,0,d.length);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)};b.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var a=this.renderer.gl,c=this.stencilMaskStack,d=c.pop();0===c.length?a.disable(a.STENCIL_TEST):(a.colorMask(!1,!1,!1,!1),a.stencilOp(a.KEEP,a.KEEP,a.DECR),this.renderer.plugins.graphics.render(d),a.colorMask(!0,!0,!0,!0),a.stencilFunc(a.NOTEQUAL,0,c.length),
a.stencilOp(a.KEEP,a.KEEP,a.KEEP))};b.prototype.destroy=function(){m["default"].prototype.destroy.call(this);this.stencilMaskStack.stencilStack=null};return b}(m["default"]);f["default"]=b},{"./WebGLManager":89}],89:[function(b,k,f){f.__esModule=!0;b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=f;this.renderer.on("context",this.onContextChange,this)}b.prototype.onContextChange=function(){};b.prototype.destroy=function(){this.renderer.off("context",
this.onContextChange,this);this.renderer=null};return b}();f["default"]=b},{}],90:[function(b,k,f){function l(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}f.__esModule=!0;b=b("../managers/WebGLManager");b=function(b){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");var g=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!==typeof g&&"function"!==typeof g?this:g}l(c,b);c.prototype.start=function(){};c.prototype.stop=function(){this.flush()};c.prototype.flush=function(){};c.prototype.render=function(c){};return c}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"../managers/WebGLManager":89}],91:[function(b,
k,f){f.__esModule=!0;var l=(k=b("pixi-gl-core"))&&k.__esModule?k:{"default":k},m=(b=b("../../../utils/createIndicesForQuads"))&&b.__esModule?b:{"default":b};b=function(){function c(b,a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.gl=b;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(16);for(var e=0;4>e;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*
e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];this.indices=(0,m["default"])(1);this.vertexBuffer=l["default"].GLBuffer.createVertexBuffer(b,this.interleaved,b.STATIC_DRAW);this.indexBuffer=l["default"].GLBuffer.createIndexBuffer(b,this.indices,b.STATIC_DRAW);this.vao=new l["default"].VertexArrayObject(b,a)}c.prototype.initVao=function(c){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,c.attributes.aVertexPosition,this.gl.FLOAT,!1,16,
0).addAttribute(this.vertexBuffer,c.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)};c.prototype.map=function(c,a){var b=0,d=0;this.uvs[0]=b;this.uvs[1]=d;this.uvs[2]=b+a.width/c.width;this.uvs[3]=d;this.uvs[4]=b+a.width/c.width;this.uvs[5]=d+a.height/c.height;this.uvs[6]=b;this.uvs[7]=d+a.height/c.height;b=a.x;d=a.y;this.vertices[0]=b;this.vertices[1]=d;this.vertices[2]=b+a.width;this.vertices[3]=d;this.vertices[4]=b+a.width;this.vertices[5]=d+a.height;this.vertices[6]=b;this.vertices[7]=d+a.height;
return this};c.prototype.upload=function(){for(var c=0;4>c;c++)this.interleaved[4*c]=this.vertices[2*c],this.interleaved[4*c+1]=this.vertices[2*c+1],this.interleaved[4*c+2]=this.uvs[2*c],this.interleaved[4*c+3]=this.uvs[2*c+1];this.vertexBuffer.upload(this.interleaved);return this};c.prototype.destroy=function(){var c=this.gl;c.deleteBuffer(this.vertexBuffer);c.deleteBuffer(this.indexBuffer)};return c}();f["default"]=b},{"../../../utils/createIndicesForQuads":115,"pixi-gl-core":12}],92:[function(b,
k,f){f.__esModule=!0;var l=b("../../../math"),m=b("../../../const"),c=(k=b("../../../settings"))&&k.__esModule?k:{"default":k},g=b("pixi-gl-core");b=function(){function a(b,d,n,p,h,f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.gl=b;this.texture=this.frameBuffer=null;this.clearColor=[0,0,0,0];this.size=new l.Rectangle(0,0,1,1);this.resolution=h||c["default"].RESOLUTION;this.projectionMatrix=new l.Matrix;this.frame=this.transform=null;this.defaultFrame=new l.Rectangle;
this.stencilBuffer=this.sourceFrame=this.destinationFrame=null;this.stencilMaskStack=[];this.filterData=null;this.scaleMode=p||c["default"].SCALE_MODE;(this.root=f)?(this.frameBuffer=new g.GLFramebuffer(b,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=g.GLFramebuffer.createRGBA(b,100,100),this.scaleMode===m.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture);this.setFrame();this.resize(d,
n)}a.prototype.clear=function(a){a=a||this.clearColor;this.frameBuffer.clear(a[0],a[1],a[2],a[3])};a.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};a.prototype.setFrame=function(a,d){this.destinationFrame=a||this.destinationFrame||this.defaultFrame;this.sourceFrame=d||this.sourceFrame||a};a.prototype.activate=function(){var a=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);
this.destinationFrame!==this.sourceFrame?(a.enable(a.SCISSOR_TEST),a.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):a.disable(a.SCISSOR_TEST);a.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};a.prototype.calculateProjection=function(a,d){var c=this.projectionMatrix;d=d||a;c.identity();
this.root?(c.a=1/a.width*2,c.d=-1/a.height*2,c.tx=-1-d.x*c.a,c.ty=1-d.y*c.d):(c.a=1/a.width*2,c.d=1/a.height*2,c.tx=-1-d.x*c.a,c.ty=-1-d.y*c.d)};a.prototype.resize=function(a,d){a|=0;d|=0;if(this.size.width!==a||this.size.height!==d)this.size.width=a,this.size.height=d,this.defaultFrame.width=a,this.defaultFrame.height=d,this.frameBuffer.resize(a*this.resolution,d*this.resolution),this.calculateProjection(this.frame||this.size)};a.prototype.destroy=function(){this.frameBuffer.destroy();this.texture=
this.frameBuffer=null};return a}();f["default"]=b},{"../../../const":42,"../../../math":66,"../../../settings":97,"pixi-gl-core":12}],93:[function(b,k,f){function l(c){for(var a="",b=0;b<c;++b)0<b&&(a+="\nelse "),b<c-1&&(a+="if(test == "+b+".0){}");return a}f.__esModule=!0;f["default"]=function(b,a){var e=!a;if(0===b)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(e){var d=document.createElement("canvas");d.width=1;d.height=1;a=m["default"].createContext(d)}for(d=a.createShader(a.FRAGMENT_SHADER);;){var g=
c.replace(/%forloop%/gi,l(b));a.shaderSource(d,g);a.compileShader(d);if(a.getShaderParameter(d,a.COMPILE_STATUS))break;else b=b/2|0}e&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").loseContext();return b};var m=(b=b("pixi-gl-core"))&&b.__esModule?b:{"default":b},c="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}"},{"pixi-gl-core":12}],94:[function(b,k,f){f.__esModule=!0;f["default"]=function(b){var c=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:[];c[l.BLEND_MODES.NORMAL]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.ADD]=[b.ONE,b.DST_ALPHA];c[l.BLEND_MODES.MULTIPLY]=[b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.SCREEN]=[b.ONE,b.ONE_MINUS_SRC_COLOR];c[l.BLEND_MODES.OVERLAY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.DARKEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.LIGHTEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.COLOR_DODGE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.COLOR_BURN]=[b.ONE,
b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.HARD_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.SOFT_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.DIFFERENCE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.EXCLUSION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.HUE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.SATURATION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.COLOR]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[l.BLEND_MODES.LUMINOSITY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];return c};var l=b("../../../const")},
{"../../../const":42}],95:[function(b,k,f){f.__esModule=!0;f["default"]=function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c[l.DRAW_MODES.POINTS]=b.POINTS;c[l.DRAW_MODES.LINES]=b.LINES;c[l.DRAW_MODES.LINE_LOOP]=b.LINE_LOOP;c[l.DRAW_MODES.LINE_STRIP]=b.LINE_STRIP;c[l.DRAW_MODES.TRIANGLES]=b.TRIANGLES;c[l.DRAW_MODES.TRIANGLE_STRIP]=b.TRIANGLE_STRIP;c[l.DRAW_MODES.TRIANGLE_FAN]=b.TRIANGLE_FAN;return c};var l=b("../../../const")},{"../../../const":42}],96:[function(b,k,f){f.__esModule=
!0;f["default"]=function(b){b.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],97:[function(b,k,f){f.__esModule=!0;k=(k=b("./utils/maxRecommendedTextures"))&&k.__esModule?k:{"default":k};b=(b=b("./utils/canUploadSameBuffer"))&&b.__esModule?b:{"default":b};f["default"]={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,k["default"])(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@(.+)x/,
RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,b["default"])()}},{"./utils/canUploadSameBuffer":114,"./utils/maxRecommendedTextures":118}],98:[function(b,k,f){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;var m=function(){function a(a,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}(),c=b("../math"),g=b("../utils"),a=b("../const"),e=(k=
b("../textures/Texture"))&&k.__esModule?k:{"default":k};b=(b=b("../display/Container"))&&b.__esModule?b:{"default":b};var d=new c.Point;b=function(b){function n(d){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var g;g=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g._anchor=new c.ObservablePoint(g._onAnchorUpdate,g);g._texture=null;g._width=0;g._height=
0;g._tint=null;g._tintRGB=null;g.tint=16777215;g.blendMode=a.BLEND_MODES.NORMAL;g.shader=null;g.cachedTint=16777215;g.texture=d||e["default"].EMPTY;g.vertexData=new Float32Array(8);g.vertexTrimmedData=null;g._transformID=-1;g._textureID=-1;g.pluginName="sprite";return g}l(n,b);n.prototype._onTextureUpdate=function(){this._textureID=-1;this._width&&(this.scale.x=(0,g.sign)(this.scale.x)*this._width/this.texture.orig.width);this._height&&(this.scale.y=(0,g.sign)(this.scale.y)*this._height/this.texture.orig.height)};
n.prototype._onAnchorUpdate=function(){this._transformID=-1};n.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var a=this._texture,d=this.transform.worldTransform,c=d.a,b=d.b,e=d.c,g=d.d,n=d.tx,d=d.ty,p=this.vertexData,f=a.trim,m=a.orig,l=this._anchor,k;f?(k=f.x-l._x*m.width,a=k+f.width,m=f.y-l._y*m.height,f=m+f.height):(a=m.width*(1-l._x),
k=m.width*-l._x,f=m.height*(1-l._y),m=m.height*-l._y);p[0]=c*k+e*m+n;p[1]=g*m+b*k+d;p[2]=c*a+e*m+n;p[3]=g*m+b*a+d;p[4]=c*a+e*f+n;p[5]=g*f+b*a+d;p[6]=c*k+e*f+n;p[7]=g*f+b*k+d}};n.prototype.calculateTrimmedVertices=function(){this.vertexTrimmedData||(this.vertexTrimmedData=new Float32Array(8));var a=this.vertexTrimmedData,d=this._texture.orig,c=this._anchor,b=this.transform.worldTransform,e=b.a,g=b.b,n=b.c,p=b.d,f=b.tx,b=b.ty,m=d.width*(1-c._x),l=d.width*-c._x,k=d.height*(1-c._y),d=d.height*-c._y;a[0]=
e*l+n*d+f;a[1]=p*d+g*l+b;a[2]=e*m+n*d+f;a[3]=p*d+g*m+b;a[4]=e*m+n*k+f;a[5]=p*k+g*m+b;a[6]=e*l+n*k+f;a[7]=p*k+g*l+b};n.prototype._renderWebGL=function(a){this.calculateVertices();a.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};n.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)};n.prototype._calculateBounds=function(){var a=this._texture.trim,d=this._texture.orig;!a||a.width===d.width&&a.height===d.height?(this.calculateVertices(),
this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};n.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),a||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),
a=this._localBoundsRect),this._bounds.getRectangle(a)):b.prototype.getLocalBounds.call(this,a)};n.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,d);var c=this._texture.orig.width;a=this._texture.orig.height;var b=-c*this.anchor.x;return d.x>b&&d.x<b+c&&(c=-a*this.anchor.y,d.y>c&&d.y<c+a)?!0:!1};n.prototype.destroy=function(a){b.prototype.destroy.call(this,a);this._anchor=null;("boolean"===typeof a?a:a&&a.texture)&&this._texture.destroy(!!("boolean"===typeof a?a:a&&a.baseTexture));
this.shader=this._texture=null};n.from=function(a){return new n(e["default"].from(a))};n.fromFrame=function(a){var d=g.TextureCache[a];if(!d)throw Error('The frameId "'+a+'" does not exist in the texture cache');return new n(d)};n.fromImage=function(a,d,c){return new n(e["default"].fromImage(a,d,c))};m(n,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var d=(0,g.sign)(this.scale.x)||1;this.scale.x=d*a/this._texture.orig.width;this._width=a}},{key:"height",
get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){var d=(0,g.sign)(this.scale.y)||1;this.scale.y=d*a/this._texture.orig.height;this._height=a}},{key:"anchor",get:function(){return this._anchor},set:function(a){this._anchor.copy(a)}},{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a;this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a,
this.cachedTint=16777215,this._textureID=-1,a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}}]);return n}(b["default"]);f["default"]=b},{"../const":42,"../display/Container":44,"../math":66,"../textures/Texture":109,"../utils":117}],99:[function(b,k,f){f.__esModule=!0;k=(k=b("../../renderers/canvas/CanvasRenderer"))&&k.__esModule?k:{"default":k};var l=b("../../const"),m=b("../../math"),c=(b=b("./CanvasTinter"))&&b.__esModule?b:{"default":b},g=
new m.Matrix;b=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=c}a.prototype.render=function(a){var d=a._texture,b=this.renderer,e=d._frame.width,h=d._frame.height,f=a.transform.worldTransform,k,B;0>=d.orig.width||0>=d.orig.height||!d.baseTexture.source||(b.setBlendMode(a.blendMode),d.valid&&(b.context.globalAlpha=a.worldAlpha,k=d.baseTexture.scaleMode===l.SCALE_MODES.LINEAR,b.smoothProperty&&b.context[b.smoothProperty]!==k&&
(b.context[b.smoothProperty]=k),d.trim?(k=d.trim.width/2+d.trim.x-a.anchor.x*d.orig.width,B=d.trim.height/2+d.trim.y-a.anchor.y*d.orig.height):(k=(.5-a.anchor.x)*d.orig.width,B=(.5-a.anchor.y)*d.orig.height),d.rotate&&(f.copy(g),f=g,m.GroupD8.matrixAppendRotationInv(f,d.rotate,k,B),B=k=0),k-=e/2,B-=h/2,b.roundPixels?(b.context.setTransform(f.a,f.b,f.c,f.d,f.tx*b.resolution|0,f.ty*b.resolution|0),k|=0,B|=0):b.context.setTransform(f.a,f.b,f.c,f.d,f.tx*b.resolution,f.ty*b.resolution),f=d.baseTexture.resolution,
16777215!==a.tint?(a.cachedTint!==a.tint&&(a.cachedTint=a.tint,a.tintedTexture=c["default"].getTintedTexture(a,a.tint)),b.context.drawImage(a.tintedTexture,0,0,e*f,h*f,k*b.resolution,B*b.resolution,e*b.resolution,h*b.resolution)):b.context.drawImage(d.baseTexture.source,d._frame.x*f,d._frame.y*f,e*f,h*f,k*b.resolution,B*b.resolution,e*b.resolution,h*b.resolution)))};a.prototype.destroy=function(){this.renderer=null};return a}();f["default"]=b;k["default"].registerPlugin("sprite",b)},{"../../const":42,
"../../math":66,"../../renderers/canvas/CanvasRenderer":73,"./CanvasTinter":100}],100:[function(b,k,f){f.__esModule=!0;var l=b("../../utils");b=(b=b("../../renderers/canvas/utils/canUseNewCanvasBlendModes"))&&b.__esModule?b:{"default":b};var m={getTintedTexture:function(c,b){var a=c.texture;b=m.roundColor(b);var e="#"+("00000"+(b|0).toString(16)).substr(-6);a.tintCache=a.tintCache||{};if(a.tintCache[e])return a.tintCache[e];var d=m.canvas||document.createElement("canvas");m.tintMethod(a,b,d);if(m.convertTintToImage){var g=
new Image;g.src=d.toDataURL();a.tintCache[e]=g}else a.tintCache[e]=d,m.canvas=null;return d},tintWithMultiply:function(c,b,a){var e=a.getContext("2d"),d=c._frame.clone(),g=c.baseTexture.resolution;d.x*=g;d.y*=g;d.width*=g;d.height*=g;a.width=d.width;a.height=d.height;e.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);e.fillRect(0,0,d.width,d.height);e.globalCompositeOperation="multiply";e.drawImage(c.baseTexture.source,d.x,d.y,d.width,d.height,0,0,d.width,d.height);e.globalCompositeOperation=
"destination-atop";e.drawImage(c.baseTexture.source,d.x,d.y,d.width,d.height,0,0,d.width,d.height)},tintWithOverlay:function(c,b,a){var e=a.getContext("2d"),d=c._frame.clone(),g=c.baseTexture.resolution;d.x*=g;d.y*=g;d.width*=g;d.height*=g;a.width=d.width;a.height=d.height;e.globalCompositeOperation="copy";e.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);e.fillRect(0,0,d.width,d.height);e.globalCompositeOperation="destination-atop";e.drawImage(c.baseTexture.source,d.x,d.y,d.width,d.height,
0,0,d.width,d.height)},tintWithPerPixel:function(c,b,a){var e=a.getContext("2d"),d=c._frame.clone(),g=c.baseTexture.resolution;d.x*=g;d.y*=g;d.width*=g;d.height*=g;a.width=d.width;a.height=d.height;e.globalCompositeOperation="copy";e.drawImage(c.baseTexture.source,d.x,d.y,d.width,d.height,0,0,d.width,d.height);a=(0,l.hex2rgb)(b);c=a[0];b=a[1];a=a[2];for(var d=e.getImageData(0,0,d.width,d.height),g=d.data,f=0;f<g.length;f+=4)g[f+0]*=c,g[f+1]*=b,g[f+2]*=a;e.putImageData(d,0,0)},roundColor:function(c){var b=
m.cacheStepsPerColorChannel;c=(0,l.hex2rgb)(c);c[0]=Math.min(255,c[0]/b*b);c[1]=Math.min(255,c[1]/b*b);c[2]=Math.min(255,c[2]/b*b);return(0,l.rgb2hex)(c)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,b["default"])(),tintMethod:0};m.tintMethod=m.canUseMultiply?m.tintWithMultiply:m.tintWithPerPixel;f["default"]=m},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":76,"../../utils":117}],101:[function(b,k,f){f.__esModule=!0;b=function(){function b(f){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.vertices=new ArrayBuffer(f);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices)}b.prototype.destroy=function(){this.colors=this.uvs=this.positions=this.vertices=null};return b}();f["default"]=b},{}],102:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;k=b("../../renderers/webgl/utils/ObjectRenderer");k=l(k);var c=b("../../renderers/webgl/WebGLRenderer"),c=l(c),g=b("../../utils/createIndicesForQuads"),a=l(g),g=b("./generateMultiTextureShader"),e=l(g),g=b("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),d=l(g),g=b("./BatchBuffer"),n=l(g),
g=b("../../settings"),p=l(g),g=b("pixi-gl-core"),h=l(g);b=b("bit-twiddle");var q=l(b),A=0,B=0;b=function(c){function b(d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");d=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.vertSize=5;d.vertByteSize=4*d.vertSize;d.size=p["default"].SPRITE_BATCH_SIZE;d.buffers=[];for(var e=1;e<=q["default"].nextPow2(d.size);e*=
2)d.buffers.push(new n["default"](4*e*d.vertByteSize));d.indices=(0,a["default"])(d.size);d.shader=null;A=d.currentIndex=0;d.groups=[];for(e=0;e<d.size;e++)d.groups[e]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};d.sprites=[];d.vertexBuffers=[];d.vaos=[];d.vaoMax=2;d.vertexCount=0;d.renderer.on("prerender",d.onPrerender,d);return d}m(b,c);b.prototype.onContextChange=function(){var a=this.renderer.gl;this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),p["default"].SPRITE_MAX_TEXTURES);
this.MAX_TEXTURES=(0,d["default"])(this.MAX_TEXTURES,a);var c=this.shader=(0,e["default"])(a,this.MAX_TEXTURES);this.indexBuffer=h["default"].GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.renderer.bindVao(null);for(var b=0;b<this.vaoMax;b++)this.vertexBuffers[b]=h["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),this.vaos[b]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[b],c.attributes.aVertexPosition,a.FLOAT,!1,this.vertByteSize,
0).addAttribute(this.vertexBuffers[b],c.attributes.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[b],c.attributes.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[b],c.attributes.aTextureId,a.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=Array(this.MAX_TEXTURES)};b.prototype.onPrerender=function(){this.vertexCount=0};b.prototype.render=function(a){this.currentIndex>=this.size&&
this.flush();a._texture._uvs&&(this.sprites[this.currentIndex++]=a)};b.prototype.flush=function(){if(0!==this.currentIndex){var a=this.renderer.gl,d=this.MAX_TEXTURES,c=q["default"].nextPow2(this.currentIndex),c=q["default"].log2(c),b=this.buffers[c],e=this.sprites,c=this.groups,g=b.float32View,n=b.uint32View,f=this.boundTextures,m=this.renderer.boundTextures,l=this.renderer.textureGC.count,k=0,v,r=void 0,P=1,Q=0,K=c[0],J,M,R=e[0].blendMode;K.textureCount=0;K.start=0;K.blend=R;A++;var I;for(I=0;I<
d;++I)f[I]=m[I],f[I]._virtalBoundId=I;for(I=0;I<this.currentIndex;++I){var N=e[I];v=N._texture.baseTexture;R!==N.blendMode&&(R=N.blendMode,r=null,Q=d,A++);if(r!==v&&(r=v,v._enabled!==A)){Q===d&&(A++,K.size=I-K.start,Q=0,K=c[P++],K.blend=R,K.textureCount=0,K.start=I);v.touched=l;if(-1===v._virtalBoundId)for(J=0;J<d;++J){M=(J+B)%d;var H=f[M];if(H._enabled!==A){B++;H._virtalBoundId=-1;v._virtalBoundId=M;f[M]=v;break}}v._enabled=A;K.textureCount++;K.ids[Q]=v._virtalBoundId;K.textures[Q++]=v}J=N.vertexData;
M=N._texture._uvs.uvsUint32;this.renderer.roundPixels?(H=this.renderer.resolution,g[k]=(J[0]*H|0)/H,g[k+1]=(J[1]*H|0)/H,g[k+5]=(J[2]*H|0)/H,g[k+6]=(J[3]*H|0)/H,g[k+10]=(J[4]*H|0)/H,g[k+11]=(J[5]*H|0)/H,g[k+15]=(J[6]*H|0)/H,g[k+16]=(J[7]*H|0)/H):(g[k]=J[0],g[k+1]=J[1],g[k+5]=J[2],g[k+6]=J[3],g[k+10]=J[4],g[k+11]=J[5],g[k+15]=J[6],g[k+16]=J[7]);n[k+2]=M[0];n[k+7]=M[1];n[k+12]=M[2];n[k+17]=M[3];n[k+3]=n[k+8]=n[k+13]=n[k+18]=N._tintRGB+(255*Math.min(N.worldAlpha,1)<<24);g[k+4]=g[k+9]=g[k+14]=g[k+19]=
v._virtalBoundId;k+=20}K.size=I-K.start;p["default"].CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(b.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vertexBuffers[this.vertexCount]=h["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],
this.shader.attributes.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,a.FLOAT,!1,this.vertByteSize,16)),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(b.vertices,0,!1),this.vertexCount++);for(I=0;I<d;++I)m[I]._virtalBoundId=-1;for(I=0;I<P;++I){d=
c[I];b=d.textureCount;for(e=0;e<b;e++)r=d.textures[e],m[d.ids[e]]!==r&&this.renderer.bindTexture(r,d.ids[e],!0),r._virtalBoundId=-1;this.renderer.state.setBlendMode(d.blend);a.drawElements(a.TRIANGLES,6*d.size,a.UNSIGNED_SHORT,12*d.start)}this.currentIndex=0}};b.prototype.start=function(){this.renderer.bindShader(this.shader);p["default"].CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())};b.prototype.stop=function(){this.flush()};
b.prototype.destroy=function(){for(var a=0;a<this.vaoMax;a++)this.vertexBuffers[a]&&this.vertexBuffers[a].destroy(),this.vaos[a]&&this.vaos[a].destroy();this.indexBuffer&&this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);c.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.sprites=this.indices=this.indexBuffer=this.vaos=this.vertexBuffers=null;for(a=0;a<this.buffers.length;++a)this.buffers[a].destroy()};return b}(k["default"]);f["default"]=
b;c["default"].registerPlugin("sprite",b)},{"../../renderers/webgl/WebGLRenderer":80,"../../renderers/webgl/utils/ObjectRenderer":90,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":93,"../../settings":97,"../../utils/createIndicesForQuads":115,"./BatchBuffer":101,"./generateMultiTextureShader":103,"bit-twiddle":1,"pixi-gl-core":12}],103:[function(b,k,f){function l(c){var a;a="\n\n";for(var b=0;b<c;b++)0<b&&(a+="\nelse "),b<c-1&&(a+="if(textureId == "+b+".0)"),a+="\n{",a+="\n\tcolor = texture2D(uSamplers["+
b+"], vTextureCoord);",a+="\n}";return a+"\n\n"}f.__esModule=!0;f["default"]=function(b,a){for(var e=c,e=e.replace(/%count%/gi,a),e=e.replace(/%forloop%/gi,l(a)),e=new m["default"](b,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
e),d=[],g=0;g<a;g++)d[g]=g;e.bind();e.uniforms.uSamplers=d;return e};var m=(k=b("../../Shader"))&&k.__esModule?k:{"default":k};b("path");var c="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}"},{"../../Shader":41,path:22}],104:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==
typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;var c=function(){function a(a,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(d,
c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}();k=b("../sprites/Sprite");k=l(k);var g=b("../textures/Texture"),a=l(g),e=b("../math"),d=b("../utils"),n=b("../const"),g=b("../settings"),p=l(g);b=b("./TextStyle");var h=l(b),q={texture:!0,children:!1,baseTexture:!0};b=function(b){function g(d,c,n){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");n=n||document.createElement("canvas");n.width=3;n.height=3;var h=a["default"].fromCanvas(n);h.orig=new e.Rectangle;h.trim=new e.Rectangle;
h=b.call(this,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.canvas=n;h.context=h.canvas.getContext("2d");h.resolution=p["default"].RESOLUTION;h._text=null;h._style=null;h._styleListener=null;h._font="";h.text=d;h.style=c;h.localStyleID=-1;return h}m(g,b);g.prototype.updateText=function(a){var d=this._style;this.localStyleID!==d.styleID&&(this.dirty=!0,this.localStyleID=d.styleID);if(this.dirty||
!a){this._font=g.getFontStyle(d);this.context.font=this._font;a=(d.wordWrap?this.wordWrap(this._text):this._text).split(/(?:\r\n|\r|\n)/);for(var c=Array(a.length),b=0,e=g.calculateFontProperties(this._font),n=0;n<a.length;n++){var h=this.context.measureText(a[n]).width+(a[n].length-1)*d.letterSpacing;c[n]=h;b=Math.max(b,h)}n=b+d.strokeThickness;d.dropShadow&&(n+=d.dropShadowDistance);n+=2*d.padding;this.canvas.width=Math.ceil((n+this.context.lineWidth)*this.resolution);n=this.style.lineHeight||e.fontSize+
d.strokeThickness;h=Math.max(n,e.fontSize+d.strokeThickness)+(a.length-1)*n;d.dropShadow&&(h+=d.dropShadowDistance);this.canvas.height=Math.ceil((h+2*this._style.padding)*this.resolution);this.context.scale(this.resolution,this.resolution);this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.font=this._font;this.context.strokeStyle=d.stroke;this.context.lineWidth=d.strokeThickness;this.context.textBaseline=d.textBaseline;this.context.lineJoin=d.lineJoin;this.context.miterLimit=
d.miterLimit;var f;if(d.dropShadow){0<d.dropShadowBlur?(this.context.shadowColor=d.dropShadowColor,this.context.shadowBlur=d.dropShadowBlur):this.context.fillStyle=d.dropShadowColor;for(var p=Math.cos(d.dropShadowAngle)*d.dropShadowDistance,q=Math.sin(d.dropShadowAngle)*d.dropShadowDistance,m=0;m<a.length;m++)h=d.strokeThickness/2,f=d.strokeThickness/2+m*n+e.ascent,"right"===d.align?h+=b-c[m]:"center"===d.align&&(h+=(b-c[m])/2),d.fill&&(this.drawLetterSpacing(a[m],h+p+d.padding,f+q+d.padding),d.stroke&&
d.strokeThickness&&(this.context.strokeStyle=d.dropShadowColor,this.drawLetterSpacing(a[m],h+p+d.padding,f+q+d.padding,!0),this.context.strokeStyle=d.stroke))}this.context.fillStyle=this._generateFillStyle(d,a);for(p=0;p<a.length;p++)h=d.strokeThickness/2,f=d.strokeThickness/2+p*n+e.ascent,"right"===d.align?h+=b-c[p]:"center"===d.align&&(h+=(b-c[p])/2),d.stroke&&d.strokeThickness&&this.drawLetterSpacing(a[p],h+d.padding,f+d.padding,!0),d.fill&&this.drawLetterSpacing(a[p],h+d.padding,f+d.padding);
this.updateTexture()}};g.prototype.drawLetterSpacing=function(a,d,c){var b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,e=this._style.letterSpacing;if(0===e)b?this.context.strokeText(a,d,c):this.context.fillText(a,d,c);else for(var g=String.prototype.split.call(a,""),n=d,h=0,f;h<a.length;)f=g[h++],b?this.context.strokeText(f,n,c):this.context.fillText(f,n,c),n+=this.context.measureText(f).width+e};g.prototype.updateTexture=function(){var a=this._texture,d=this._style;a.baseTexture.hasLoaded=
!0;a.baseTexture.resolution=this.resolution;a.baseTexture.realWidth=this.canvas.width;a.baseTexture.realHeight=this.canvas.height;a.baseTexture.width=this.canvas.width/this.resolution;a.baseTexture.height=this.canvas.height/this.resolution;a.trim.width=a._frame.width=this.canvas.width/this.resolution;a.trim.height=a._frame.height=this.canvas.height/this.resolution;a.trim.x=-d.padding;a.trim.y=-d.padding;a.orig.width=a._frame.width-2*d.padding;a.orig.height=a._frame.height-2*d.padding;this._onTextureUpdate();
a.baseTexture.emit("update",a.baseTexture);this.dirty=!1};g.prototype.renderWebGL=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);b.prototype.renderWebGL.call(this,a)};g.prototype._renderCanvas=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);b.prototype._renderCanvas.call(this,a)};g.prototype.wordWrap=function(a){var d="";a=a.split("\n");for(var c=this._style.wordWrapWidth,b=0;b<
a.length;b++){for(var e=c,g=a[b].split(" "),n=0;n<g.length;n++){var h=this.context.measureText(g[n]).width;if(this._style.breakWords&&h>c)for(var h=g[n].split(""),f=0;f<h.length;f++){var p=this.context.measureText(h[f]).width;p>e?(d+="\n"+h[f],e=c-p):(0===f&&(d+=" "),d+=h[f],e-=p)}else f=h+this.context.measureText(" ").width,0===n||f>e?(0<n&&(d+="\n"),d+=g[n],e=c-h):(e-=f,d+=" "+g[n])}b<a.length-1&&(d+="\n")}return d};g.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();
this._bounds.addQuad(this.vertexData)};g.prototype._onStyleChange=function(){this.dirty=!0};g.prototype._generateFillStyle=function(a,d){if(!Array.isArray(a.fill))return a.fill;if(navigator.isCocoonJS)return a.fill[0];var c,b,e,g;c=this.canvas.width/this.resolution;b=this.canvas.height/this.resolution;if(a.fillGradientType===n.TEXT_GRADIENT.LINEAR_VERTICAL){c=this.context.createLinearGradient(c/2,0,c/2,b);b=(a.fill.length+1)*d.length;for(var h=e=0;h<d.length;h++){e+=1;for(var f=0;f<a.fill.length;f++)g=
e/b,c.addColorStop(g,a.fill[f]),e++}}else for(c=this.context.createLinearGradient(0,b/2,c,b/2),b=a.fill.length+1,e=1,h=0;h<a.fill.length;h++)g=e/b,c.addColorStop(g,a.fill[h]),e++;return c};g.prototype.destroy=function(a){"boolean"===typeof a&&(a={children:a});a=Object.assign({},q,a);b.prototype.destroy.call(this,a);this._style=this.canvas=this.context=null};g.getFontStyle=function(a){a=a||{};a instanceof h["default"]||(a=new h["default"](a));var d="number"===typeof a.fontSize?a.fontSize+"px":a.fontSize,
c=a.fontFamily;Array.isArray(a.fontFamily)||(c=a.fontFamily.split(","));for(var b=c.length-1;0<=b;b--){var e=c[b].trim();/([\"\'])[^\'\"]+\1/.test(e)||(e='"'+e+'"');c[b]=e}return a.fontStyle+" "+a.fontVariant+" "+a.fontWeight+" "+d+" "+c.join(",")};g.calculateFontProperties=function(a){if(g.fontPropertiesCache[a])return g.fontPropertiesCache[a];var d={},c=g.fontPropertiesCanvas,b=g.fontPropertiesContext;b.font=a;var e=Math.ceil(b.measureText("|M\u00c3\u2030q").width),n=Math.ceil(b.measureText("M").width),
h=2*n,n=1.4*n|0;c.width=e;c.height=h;b.fillStyle="#f00";b.fillRect(0,0,e,h);b.font=a;b.textBaseline="alphabetic";b.fillStyle="#000";b.fillText("|M\u00c3\u2030q",0,n);var c=b.getImageData(0,0,e,h).data,b=c.length,e=4*e,f,p=0,m=!1;for(f=0;f<n;++f){for(var q=0;q<e;q+=4)if(255!==c[p+q]){m=!0;break}if(m)break;else p+=e}d.ascent=n-f;p=b-e;m=!1;for(f=h;f>n;--f){for(h=0;h<e;h+=4)if(255!==c[p+h]){m=!0;break}if(m)break;else p-=e}d.descent=f-n;d.fontSize=d.ascent+d.descent;return g.fontPropertiesCache[a]=d};
c(g,[{key:"width",get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){this.updateText(!0);var c=(0,d.sign)(this.scale.x)||1;this.scale.x=c*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var c=(0,d.sign)(this.scale.y)||1;this.scale.y=c*a/this._texture.orig.height;this._height=a}},{key:"style",get:function(){return this._style},
set:function(a){a=a||{};this._style=a instanceof h["default"]?a:new h["default"](a);this.localStyleID=-1;this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=String(a||" ");this._text!==a&&(this._text=a,this.dirty=!0)}}]);return g}(k["default"]);f["default"]=b;b.fontPropertiesCache={};b.fontPropertiesCanvas=document.createElement("canvas");b.fontPropertiesContext=b.fontPropertiesCanvas.getContext("2d")},{"../const":42,"../math":66,"../settings":97,"../sprites/Sprite":98,
"../textures/Texture":109,"../utils":117,"./TextStyle":105}],105:[function(b,k,f){function l(a){if("number"===typeof a)return(0,g.hex2string)(a);"string"===typeof a&&0===a.indexOf("0x")&&(a=a.replace("0x","#"));return a}function m(a){if(Array.isArray(a)){for(var d=0;d<a.length;++d)a[d]=l(a[d]);return a}return l(a)}f.__esModule=!0;var c=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,
b.key,b)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}();k=b("../const");var g=b("../utils"),a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,
textBaseline:"alphabetic",wordWrap:!1,wordWrapWidth:100};b=function(){function b(d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.styleID=0;Object.assign(this,a,d)}b.prototype.clone=function(){var d={},c;for(c in a)d[c]=this[c];return new b(d)};b.prototype.reset=function(){Object.assign(this,a)};c(b,[{key:"align",get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},
set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)}},
{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(a){a=m(a);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(a){a=m(a);this._fill!==a&&(this._fill=a,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},
set:function(a){this._fillGradientType!==a&&(this._fillGradientType=a,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},
set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)}},{key:"lineJoin",
get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(a){a=m(a);this._stroke!==a&&(this._stroke=a,this.styleID++)}},{key:"strokeThickness",
get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(a){this._wordWrapWidth!==
a&&(this._wordWrapWidth=a,this.styleID++)}}]);return b}();f["default"]=b},{"../const":42,"../utils":117}],106:[function(b,k,f){function l(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}f.__esModule=!0;k=(k=b("./BaseTexture"))&&k.__esModule?k:{"default":k};
b=(b=b("../settings"))&&b.__esModule?b:{"default":b};var m=b["default"].RESOLUTION,c=b["default"].SCALE_MODE;b=function(b){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,g=arguments[2],f=arguments[3];if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var h;h=b.call(this,null,g);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||
"object"!==typeof h&&"function"!==typeof h?this:h;h.resolution=f||m;h.width=e;h.height=d;h.realWidth=h.width*h.resolution;h.realHeight=h.height*h.resolution;h.scaleMode=g||c;h.hasLoaded=!0;h._glRenderTargets={};h._canvasRenderTarget=null;h.valid=!1;return h}l(a,b);a.prototype.resize=function(a,d){if(a!==this.width||d!==this.height)this.valid=0<a&&0<d,this.width=a,this.height=d,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this)};
a.prototype.destroy=function(){b.prototype.destroy.call(this,!0);this.renderer=null};return a}(k["default"]);f["default"]=b},{"../settings":97,"./BaseTexture":107}],107:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?
Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=b("../utils");k=b("../settings");var a=l(k);k=b("eventemitter3");k=l(k);var e=b("../utils/determineCrossOrigin"),d=l(e);b=b("bit-twiddle");var n=l(b);b=function(b){function e(d,c,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");
var h;h=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.uid=(0,g.uid)();h.touched=0;h.resolution=n||a["default"].RESOLUTION;h.width=100;h.height=100;h.realWidth=100;h.realHeight=100;h.scaleMode=c||a["default"].SCALE_MODE;h.hasLoaded=!1;h.isLoading=!1;h.source=null;h.origSource=null;h.imageType=null;h.sourceScale=1;h.premultipliedAlpha=!0;h.imageUrl=null;h.isPowerOfTwo=!1;h.mipmap=
a["default"].MIPMAP_TEXTURES;h.wrapMode=a["default"].WRAP_MODE;h._glTextures={};h._enabled=0;h._virtalBoundId=-1;d&&h.loadSource(d);return h}m(e,b);e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=n["default"].isPow2(this.realWidth)&&
n["default"].isPow2(this.realHeight));this.emit("update",this)};e.prototype.loadSource=function(a){var d=this,b=this.isLoading;this.isLoading=this.hasLoaded=!1;b&&this.source&&(this.source.onload=null,this.source.onerror=null);var e=!this.source;this.source=a;if((a.src&&a.complete||a.getContext)&&a.width&&a.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),e&&this.emit("loaded",this);else if(!a.getContext&&(e=function(){d.isLoading=!0;a.onload=function(){d._updateImageType();
a.onload=null;a.onerror=null;d.isLoading&&(d.isLoading=!1,d._sourceLoaded(),"svg"===d.imageType?d._loadSvgSource():d.emit("loaded",d))};a.onerror=function(){a.onload=null;a.onerror=null;d.isLoading&&(d.isLoading=!1,d.emit("error",d))};if(a.complete&&a.src){a.onload=null;a.onerror=null;if("svg"===d.imageType)return d._loadSvgSource(),{v:void 0};d.isLoading=!1;a.width&&a.height?(d._sourceLoaded(),b&&d.emit("loaded",d)):b&&d.emit("error",d)}}(),"object"===("undefined"===typeof e?"undefined":c(e))))return e.v};
e.prototype._updateImageType=function(){if(this.imageUrl){var a=(0,g.decomposeDataUri)(this.imageUrl);if(a&&"image"===a.mediaType){if(a=a.subType.split("+")[0],a=(0,g.getUrlFileExtension)("."+a),!a)throw Error("Invalid image type in data URI.");}else(a=(0,g.getUrlFileExtension)(this.imageUrl))||(a="png");this.imageType=a}};e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var a=(0,g.decomposeDataUri)(this.imageUrl);a?this._loadSvgSourceUsingDataUri(a):this._loadSvgSourceUsingXhr()}};
e.prototype._loadSvgSourceUsingDataUri=function(a){if("base64"===a.encoding){if(!atob)throw Error("Your browser doesn't support base64 conversions.");a=atob(a.data)}else a=a.data;this._loadSvgSourceUsingString(a)};e.prototype._loadSvgSourceUsingXhr=function(){var a=this,d=new XMLHttpRequest;d.onload=function(){if(d.readyState!==d.DONE||200!==d.status)throw Error("Failed to load SVG using XHR.");a._loadSvgSourceUsingString(d.response)};d.onerror=function(){return a.emit("error",a)};d.open("GET",this.imageUrl,
!0);d.send()};e.prototype._loadSvgSourceUsingString=function(a){var d=(0,g.getSvgSize)(a);a=d.width;d=d.height;if(!a||!d)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(a*this.sourceScale);this.realHeight=Math.round(d*this.sourceScale);this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;this.isPowerOfTwo=n["default"].isPow2(this.realWidth)&&n["default"].isPow2(this.realHeight);var c=document.createElement("canvas");
c.width=this.realWidth;c.height=this.realHeight;c._pixiId="canvas_"+(0,g.uid)();c.getContext("2d").drawImage(this.source,0,0,a,d,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=c;g.BaseTextureCache[c._pixiId]=this;this.isLoading=!1;this._sourceLoaded();this.emit("loaded",this)};e.prototype._sourceLoaded=function(){this.hasLoaded=!0;this.update()};e.prototype.destroy=function(){this.imageUrl&&(delete g.BaseTextureCache[this.imageUrl],delete g.TextureCache[this.imageUrl],
this.imageUrl=null,navigator.isCocoonJS||(this.source.src=""));this.source&&this.source._pixiId&&delete g.BaseTextureCache[this.source._pixiId];this.source=null;this.dispose()};e.prototype.dispose=function(){this.emit("dispose",this)};e.prototype.updateSourceImage=function(a){this.source.src=a;this.loadSource(this.source)};e.fromImage=function(a,c,b,n){var h=g.BaseTextureCache[a];if(!h){var f=new Image;void 0===c&&0!==a.indexOf("data:")&&(f.crossOrigin=(0,d["default"])(a));h=new e(f,b);h.imageUrl=
a;n&&(h.sourceScale=n);h.resolution=(0,g.getResolutionOfUrl)(a);f.src=a;g.BaseTextureCache[a]=h}return h};e.fromCanvas=function(a,d){a._pixiId||(a._pixiId="canvas_"+(0,g.uid)());var c=g.BaseTextureCache[a._pixiId];c||(c=new e(a,d),g.BaseTextureCache[a._pixiId]=c);return c};return e}(k["default"]);f["default"]=b},{"../settings":97,"../utils":117,"../utils/determineCrossOrigin":116,"bit-twiddle":1,eventemitter3:3}],108:[function(b,k,f){function l(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}f.__esModule=!0;var m=(k=b("./BaseRenderTexture"))&&k.__esModule?k:{"default":k};b=b("./Texture");b=function(c){function b(a,e,d,g,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var n=null;if(!(a instanceof m["default"])){var p=e;g=g||0;f=f||1;console.warn("Please use RenderTexture.create("+
p+", "+d+") instead of the ctor directly.");n=a;e=null;a=new m["default"](p,d,g,f)}a=c.call(this,a,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.legacyRenderer=n;a.valid=!0;a._updateUvs();return a}l(b,c);b.prototype.resize=function(a,c,d){this.valid=0<a&&0<c;this._frame.width=this.orig.width=a;this._frame.height=this.orig.height=c;d||this.baseTexture.resize(a,c);this._updateUvs()};b.create=
function(a,c,d,g){return new b(new m["default"](a,c,d,g))};return b}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"./BaseRenderTexture":106,"./Texture":109}],109:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&
(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;var c=function(){function a(a,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}();k=b("./BaseTexture");var g=l(k);k=b("./VideoBaseTexture");var a=l(k);k=b("./TextureUvs");var e=l(k);k=b("eventemitter3");k=l(k);var d=b("../math"),n=b("../utils");b=function(b){function h(a,
c,e,g,n){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var f;f=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.noFrame=!1;c||(f.noFrame=!0,c=new d.Rectangle(0,0,1,1));a instanceof h&&(a=a.baseTexture);f.baseTexture=a;f._frame=c;f.trim=g;f.valid=!1;f.requiresUpdate=!1;f._uvs=null;f.orig=e||c;f._rotate=Number(n||0);if(!0===n)f._rotate=2;else if(0!==
f._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");if(a.hasLoaded)f.noFrame&&(c=new d.Rectangle(0,0,a.width,a.height),a.on("update",f.onBaseTextureUpdated,f)),f.frame=c;else a.once("loaded",f.onBaseTextureLoaded,f);f._updateID=0;f.transform=null;return f}m(h,b);h.prototype.update=function(){this.baseTexture.update()};h.prototype.onBaseTextureLoaded=function(a){this._updateID++;this.frame=this.noFrame?new d.Rectangle(0,0,a.width,a.height):this._frame;
this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this)};h.prototype.onBaseTextureUpdated=function(a){this._updateID++;this._frame.width=a.width;this._frame.height=a.height;this.emit("update",this)};h.prototype.destroy=function(a){this.baseTexture&&(a&&(n.TextureCache[this.baseTexture.imageUrl]&&delete n.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,
this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;this.off("dispose",this.dispose,this);this.off("update",this.update,this)};h.prototype.clone=function(){return new h(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};h.prototype._updateUvs=function(){this._uvs||(this._uvs=new e["default"]);this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};h.fromImage=function(a,d,c,b){var e=n.TextureCache[a];e||(e=new h(g["default"].fromImage(a,
d,c,b)),n.TextureCache[a]=e);return e};h.fromFrame=function(a){var d=n.TextureCache[a];if(!d)throw Error('The frameId "'+a+'" does not exist in the texture cache');return d};h.fromCanvas=function(a,d){return new h(g["default"].fromCanvas(a,d))};h.fromVideo=function(d,c){return"string"===typeof d?h.fromVideoUrl(d,c):new h(a["default"].fromVideo(d,c))};h.fromVideoUrl=function(d,c){return new h(a["default"].fromUrl(d,c))};h.from=function(a){if("string"===typeof a){var d=n.TextureCache[a];return d?d:
null!==a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?h.fromVideoUrl(a):h.fromImage(a)}return a instanceof HTMLImageElement?new h(new g["default"](a)):a instanceof HTMLCanvasElement?h.fromCanvas(a):a instanceof HTMLVideoElement?h.fromVideo(a):a instanceof g["default"]?new h(a):a};h.addTextureToCache=function(a,d){n.TextureCache[d]=a};h.removeTextureFromCache=function(a){var d=n.TextureCache[a];delete n.TextureCache[a];delete n.BaseTextureCache[a];return d};c(h,[{key:"frame",get:function(){return this._frame},
set:function(a){this._frame=a;this.noFrame=!1;if(a.x+a.width>this.baseTexture.width||a.y+a.height>this.baseTexture.height)throw Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=a&&a.width&&a.height&&this.baseTexture.hasLoaded;this.trim||this.rotate||(this.orig=a);this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(a){this._rotate=a;this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},
{key:"height",get:function(){return this.orig.height}}]);return h}(k["default"]);f["default"]=b;b.EMPTY=new b(new g["default"]);b.EMPTY.destroy=function(){};b.EMPTY.on=function(){};b.EMPTY.once=function(){};b.EMPTY.emit=function(){}},{"../math":66,"../utils":117,"./BaseTexture":107,"./TextureUvs":110,"./VideoBaseTexture":111,eventemitter3:3}],110:[function(b,k,f){f.__esModule=!0;var l=(b=b("../math/GroupD8"))&&b.__esModule?b:{"default":b};b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4)}b.prototype.set=function(c,b,a){var e=b.width,d=b.height;if(a){b=c.width/2/e;var g=c.height/2/d,e=c.x/e+b;c=c.y/d+g;a=l["default"].add(a,l["default"].NW);this.x0=e+b*l["default"].uX(a);this.y0=c+g*l["default"].uY(a);a=l["default"].add(a,2);this.x1=e+b*l["default"].uX(a);this.y1=c+g*l["default"].uY(a);a=l["default"].add(a,2);this.x2=e+b*l["default"].uX(a);this.y2=c+g*l["default"].uY(a);a=l["default"].add(a,
2);this.x3=e+b*l["default"].uX(a);this.y3=c+g*l["default"].uY(a)}else this.x0=c.x/e,this.y0=c.y/d,this.x1=(c.x+c.width)/e,this.y1=c.y/d,this.x2=(c.x+c.width)/e,this.y2=(c.y+c.height)/d,this.x3=c.x/e,this.y3=(c.y+c.height)/d;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535;this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535;this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535;this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535};return b}();f["default"]=
b},{"../math/GroupD8":62}],111:[function(b,k,f){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}function m(a,d){d||(d="video/"+a.substr(a.lastIndexOf(".")+1));var c=document.createElement("source");c.src=a;c.type=d;return c}f.__esModule=
!0;var c=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}();k=(k=b("./BaseTexture"))&&k.__esModule?k:{"default":k};var g=b("../utils"),a=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(b("../ticker"));b=
function(b){function d(a,c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");if(!a)throw Error("No video source element specified.");(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0);var e;e=b.call(this,a,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.width=a.videoWidth;e.height=a.videoHeight;e._autoUpdate=
!0;e._isAutoUpdating=!1;e.autoPlay=!0;e.update=e.update.bind(e);e._onCanPlay=e._onCanPlay.bind(e);a.addEventListener("play",e._onPlayStart.bind(e));a.addEventListener("pause",e._onPlayStop.bind(e));e.hasLoaded=!1;e.__loaded=!1;e._isSourceReady()?e._onCanPlay():(a.addEventListener("canplay",e._onCanPlay),a.addEventListener("canplaythrough",e._onCanPlay));return e}l(d,b);d.prototype._isSourcePlaying=function(){var a=this.source;return 0<a.currentTime&&!1===a.paused&&!1===a.ended&&2<a.readyState};d.prototype._isSourceReady=
function(){return 3===this.source.readyState||4===this.source.readyState};d.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay();!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this),this._isAutoUpdating=!0)};d.prototype._onPlayStop=function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)};d.prototype._onCanPlay=function(){this.hasLoaded=!0;this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",
this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())};d.prototype.destroy=function(){this._isAutoUpdating&&a.shared.remove(this.update,this);this.source&&this.source._pixiId&&(delete g.BaseTextureCache[this.source._pixiId],delete this.source._pixiId);b.prototype.destroy.call(this)};d.fromVideo=function(a,c){a._pixiId||(a._pixiId=
"video_"+(0,g.uid)());var b=g.BaseTextureCache[a._pixiId];b||(b=new d(a,c),g.BaseTextureCache[a._pixiId]=b);return b};d.fromUrl=function(a,c){var b=document.createElement("video");b.setAttribute("webkit-playsinline","");b.setAttribute("playsinline","");if(Array.isArray(a))for(var e=0;e<a.length;++e)b.appendChild(m(a[e].src||a[e],a[e].mime));else b.appendChild(m(a.src||a,a.mime));b.load();return d.fromVideo(b,c)};c(d,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(d){d!==this._autoUpdate&&
(this._autoUpdate=d,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this),this._isAutoUpdating=!0))}}]);return d}(k["default"]);f["default"]=b;b.fromUrls=b.fromUrl},{"../ticker":113,"../utils":117,"./BaseTexture":107}],112:[function(b,k,f){f.__esModule=!0;var l=function(){function c(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in
b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,b,d){b&&c(a.prototype,b);d&&c(a,d);return a}}(),m=(k=b("../settings"))&&k.__esModule?k:{"default":k},c=(b=b("eventemitter3"))&&b.__esModule?b:{"default":b};b=function(){function b(){var a=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._emitter=new c["default"];this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;this.deltaTime=1;this.elapsedMS=1/m["default"].TARGET_FPMS;this.lastTime=
0;this.speed=1;this.started=!1;this._tick=function(c){a._requestId=null;a.started&&(a.update(c),a.started&&null===a._requestId&&a._emitter.listeners("tick",!0)&&(a._requestId=requestAnimationFrame(a._tick)))}}b.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners("tick",!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};b.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=
null)};b.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};b.prototype.add=function(a,c){this._emitter.on("tick",a,c);this._startIfPossible();return this};b.prototype.addOnce=function(a,c){this._emitter.once("tick",a,c);this._startIfPossible();return this};b.prototype.remove=function(a,c){this._emitter.off("tick",a,c);this._emitter.listeners("tick",!0)||this._cancelIfNeeded();return this};b.prototype.start=function(){this.started||(this.started=
!0,this._requestIfNeeded())};b.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};b.prototype.update=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),c;a>this.lastTime?(c=this.elapsedMS=a-this.lastTime,c>this._maxElapsedMS&&(c=this._maxElapsedMS),this.deltaTime=c*m["default"].TARGET_FPMS*this.speed,this._emitter.emit("tick",this.deltaTime)):this.deltaTime=this.elapsedMS=0;this.lastTime=a};l(b,[{key:"FPS",get:function(){return 1E3/
this.elapsedMS}},{key:"minFPS",get:function(){return 1E3/this._maxElapsedMS},set:function(a){this._maxElapsedMS=1/Math.min(Math.max(0,a)/1E3,m["default"].TARGET_FPMS)}}]);return b}();f["default"]=b},{"../settings":97,eventemitter3:3}],113:[function(b,k,f){f.__esModule=!0;f.Ticker=f.shared=void 0;b=(b=b("./Ticker"))&&b.__esModule?b:{"default":b};k=new b["default"];k.autoStart=!0;f.shared=k;f.Ticker=b["default"]},{"./Ticker":112}],114:[function(b,k,f){f.__esModule=!0;f["default"]=function(){return!(navigator.platform&&
/iPad|iPhone|iPod/.test(navigator.platform))}},{}],115:[function(b,k,f){f.__esModule=!0;f["default"]=function(b){b*=6;for(var f=new Uint16Array(b),c=0,g=0;c<b;c+=6,g+=4)f[c+0]=g+0,f[c+1]=g+1,f[c+2]=g+2,f[c+3]=g+0,f[c+4]=g+2,f[c+5]=g+3;return f}},{}],116:[function(b,k,f){f.__esModule=!0;f["default"]=function(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===c.indexOf("data:"))return"";b=b||window.location;m||(m=document.createElement("a"));m.href=c;c=l["default"].parse(m.href);
var a=!c.port&&""===b.port||c.port===b.port;return c.hostname===b.hostname&&a&&c.protocol===b.protocol?"":"anonymous"};var l=(b=b("url"))&&b.__esModule?b:{"default":b},m=void 0},{url:28}],117:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;f.BaseTextureCache=f.TextureCache=f.pluginTarget=f.EventEmitter=f.isMobile=void 0;f.uid=function(){return++a};f.hex2rgb=function(a,c){c=c||[];c[0]=(a>>16&255)/255;c[1]=(a>>8&255)/255;c[2]=(a&255)/255;return c};f.hex2string=
function(a){a=a.toString(16);a="000000".substr(0,6-a.length)+a;return"#"+a};f.rgb2hex=function(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]};f.getResolutionOfUrl=function(a,b){var d=c["default"].RETINA_PREFIX.exec(a);return d?parseFloat(d[1]):void 0!==b?b:1};f.decomposeDataUri=function(a){if(a=m.DATA_URI.exec(a))return{mediaType:a[1]?a[1].toLowerCase():void 0,subType:a[2]?a[2].toLowerCase():void 0,encoding:a[3]?a[3].toLowerCase():void 0,data:a[4]}};f.getUrlFileExtension=function(a){if(a=m.URL_FILE_EXTENSION.exec(a))return a[1].toLowerCase()};
f.getSvgSize=function(a){a=m.SVG_SIZE.exec(a);var d={};a&&(d[a[1]]=Math.round(parseFloat(a[3])),d[a[5]]=Math.round(parseFloat(a[7])));return d};f.skipHello=function(){e=!0};f.sayHello=function(a){e||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c Pixi.js "+m.VERSION+" - \u2730 "+a+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;",
"background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("Pixi.js "+m.VERSION+" - "+a+" - http://www.pixijs.com/"),e=!0)};f.isWebGLSupported=function(){var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var c=
document.createElement("canvas"),b=c.getContext("webgl",a)||c.getContext("experimental-webgl",a),e=!(!b||!b.getContextAttributes().stencil);if(b){var g=b.getExtension("WEBGL_lose_context");g&&g.loseContext()}return e}catch(A){return!1}};f.sign=function(a){return 0===a?0:0>a?-1:1};f.removeItems=function(a,c,b){var d=a.length;if(!(c>=d||0===b)){b=c+b>d?d-c:b;for(d-=b;c<d;++c)a[c]=a[c+b];a.length=d}};var m=b("../const");k=b("../settings");var c=l(k);k=b("eventemitter3");k=l(k);var g=b("./pluginTarget"),
g=l(g);b=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(b("ismobilejs"));var a=0,e=!1;f.isMobile=b;f.EventEmitter=k["default"];f.pluginTarget=g["default"];f.TextureCache={};f.BaseTextureCache={}},{"../const":42,"../settings":97,"./pluginTarget":119,eventemitter3:3,ismobilejs:4}],118:[function(b,k,f){f.__esModule=!0;f["default"]=function(b){return l["default"].tablet||l["default"].phone?4:b};
var l=(b=b("ismobilejs"))&&b.__esModule?b:{"default":b}},{ismobilejs:4}],119:[function(b,k,f){function l(b){b.__plugins={};b.registerPlugin=function(c,g){b.__plugins[c]=g};b.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var c in b.__plugins)this.plugins[c]=new b.__plugins[c](this)};b.prototype.destroyPlugins=function(){for(var c in this.plugins)this.plugins[c].destroy(),this.plugins[c]=null;this.plugins=null}}f.__esModule=!0;f["default"]={mixin:function(b){l(b)}}},{}],120:[function(b,
k,f){function l(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}function m(a){var d=Error().stack;"undefined"===typeof d?console.warn("Deprecation Warning: ",a):(d=d.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",a),console.warn(d),console.groupEnd()):
(console.warn("Deprecation Warning: ",a),console.warn(d)))}k=b("./core");var c=l(k);k=b("./mesh");var g=l(k);k=b("./particles");var a=l(k);k=b("./extras");var e=l(k);k=b("./filters");k=l(k);f=b("./prepare");f=l(f);b=b("./loaders");var d=l(b);c.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");};c.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.");
};Object.defineProperties(c,{Stage:{enumerable:!0,get:function(){m("You do not need to use a PIXI Stage any more, you can simply render any container.");return c.Container}},DisplayObjectContainer:{enumerable:!0,get:function(){m("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return c.Container}},Strip:{enumerable:!0,get:function(){m("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return g.Mesh}},Rope:{enumerable:!0,
get:function(){m("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return g.Rope}},ParticleContainer:{enumerable:!0,get:function(){m("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");return a.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){m("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return e.AnimatedSprite}},TilingSprite:{enumerable:!0,
get:function(){m("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");return e.TilingSprite}},BitmapText:{enumerable:!0,get:function(){m("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return e.BitmapText}},blendModes:{enumerable:!0,get:function(){m("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return c.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){m("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");
return c.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){m("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");return c.utils.BaseTextureCache}},TextureCache:{enumerable:!0,get:function(){m("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return c.utils.TextureCache}},math:{enumerable:!0,get:function(){m("The math namespace is deprecated, please access members already accessible on PIXI.");
return c}},AbstractFilter:{enumerable:!0,get:function(){m("AstractFilter has been renamed to Filter, please use PIXI.Filter");return c.Filter}},TransformManual:{enumerable:!0,get:function(){m("TransformManual has been renamed to TransformBase, please update your pixi-spine");return c.TransformBase}},TARGET_FPMS:{enumerable:!0,get:function(){m("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return c.settings.TARGET_FPMS},set:function(a){m("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");
c.settings.TARGET_FPMS=a}},FILTER_RESOLUTION:{enumerable:!0,get:function(){m("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return c.settings.FILTER_RESOLUTION},set:function(a){m("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");c.settings.FILTER_RESOLUTION=a}},RESOLUTION:{enumerable:!0,get:function(){m("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return c.settings.RESOLUTION},set:function(a){m("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");
c.settings.RESOLUTION=a}},MIPMAP_TEXTURES:{enumerable:!0,get:function(){m("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return c.settings.MIPMAP_TEXTURES},set:function(a){m("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");c.settings.MIPMAP_TEXTURES=a}},SPRITE_BATCH_SIZE:{enumerable:!0,get:function(){m("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return c.settings.SPRITE_BATCH_SIZE},
set:function(a){m("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");c.settings.SPRITE_BATCH_SIZE=a}},SPRITE_MAX_TEXTURES:{enumerable:!0,get:function(){m("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return c.settings.SPRITE_MAX_TEXTURES},set:function(a){m("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");c.settings.SPRITE_MAX_TEXTURES=a}},RETINA_PREFIX:{enumerable:!0,
get:function(){m("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return c.settings.RETINA_PREFIX},set:function(a){m("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");c.settings.RETINA_PREFIX=a}},DEFAULT_RENDER_OPTIONS:{enumerable:!0,get:function(){m("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");return c.settings.RENDER_OPTIONS}}});var n=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},
{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION"}];b=function(a){var d=n[a];Object.defineProperty(c[d.parent],"DEFAULT",{enumerable:!0,get:function(){m("PIXI."+d.parent+".DEFAULT has been deprecated, please use PIXI.settings."+d.target);return c.settings[d.target]},set:function(a){m("PIXI."+d.parent+".DEFAULT has been deprecated, please use PIXI.settings."+d.target);c.settings[d.target]=
a}})};for(var p=0;p<n.length;p++)b(p);Object.defineProperties(e,{MovieClip:{enumerable:!0,get:function(){m("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return e.AnimatedSprite}}});c.DisplayObject.prototype.generateTexture=function(a,d,c){m("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return a.generateTexture(this,d,c)};c.Graphics.prototype.generateTexture=function(a,d){m("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");
return this.generateCanvasTexture(a,d)};c.RenderTexture.prototype.render=function(a,d,c,b){this.legacyRenderer.render(a,this,c,d,!b);m("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};c.RenderTexture.prototype.getImage=function(a){m("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(a)};c.RenderTexture.prototype.getBase64=function(a){m("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");
return this.legacyRenderer.extract.base64(a)};c.RenderTexture.prototype.getCanvas=function(a){m("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(a)};c.RenderTexture.prototype.getPixels=function(a){m("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(a)};c.Sprite.prototype.setTexture=function(a){this.texture=a;m("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};
e.BitmapText.prototype.setText=function(a){this.text=a;m("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")};c.Text.prototype.setText=function(a){this.text=a;m("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};c.Text.prototype.setStyle=function(a){this.style=a;m("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};c.Text.prototype.determineFontProperties=function(a){m("determineFontProperties is now deprecated, please use the static calculateFontProperties method, e.g : Text.calculateFontProperties(fontStyle);");
return Text.calculateFontProperties(a)};Object.defineProperties(c.TextStyle.prototype,{font:{get:function(){m("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+("number"===typeof this._fontSize?this._fontSize+"px":this._fontSize)+" "+this._fontFamily},set:function(a){m("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");
1<a.indexOf("italic")?this._fontStyle="italic":-1<a.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal";-1<a.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";a=a.split(" ");var d=-1;this._fontSize=26;for(var c=0;c<a.length;++c)if(a[c].match(/(px|pt|em|%)/)){d=c;this._fontSize=a[c];break}this._fontWeight="normal";for(c=0;c<d;++c)if(a[c].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=a[c];break}if(-1<d&&d<a.length-
1){this._fontFamily="";for(d+=1;d<a.length;++d)this._fontFamily+=a[d]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});c.Texture.prototype.setFrame=function(a){this.frame=a;m("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};Object.defineProperties(k,{AbstractFilter:{get:function(){m("AstractFilter has been renamed to Filter, please use PIXI.Filter");return c.AbstractFilter}},SpriteMaskFilter:{get:function(){m("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");
return c.SpriteMaskFilter}}});c.utils.uuid=function(){m("utils.uuid() is deprecated, please use utils.uid() from now on.");return c.utils.uid()};c.utils.canUseNewCanvasBlendModes=function(){m("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return c.CanvasTinter.canUseMultiply};var h=!0;Object.defineProperty(c.utils,"_saidHello",{set:function(a){a&&(m("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello());h=
a},get:function(){return h}});Object.defineProperty(f.canvas,"UPLOADS_PER_FRAME",{set:function(){m("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){m("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});Object.defineProperty(f.webgl,"UPLOADS_PER_FRAME",{set:function(){m("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},
get:function(){m("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});Object.defineProperties(d.Resource.prototype,{isJson:{get:function(){m("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===d.Loader.Resource.TYPE.JSON}},isXml:{get:function(){m("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===d.Loader.Resource.TYPE.XML}},isImage:{get:function(){m("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");
return this.type===d.Loader.Resource.TYPE.IMAGE}},isAudio:{get:function(){m("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===d.Loader.Resource.TYPE.AUDIO}},isVideo:{get:function(){m("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===d.Loader.Resource.TYPE.VIDEO}}});Object.defineProperties(d.Loader.prototype,{before:{get:function(){m("The before() method is deprecated, please use pre().");
return this.pre}},after:{get:function(){m("The after() method is deprecated, please use use().");return this.use}}})},{"./core":61,"./extras":131,"./filters":142,"./loaders":151,"./mesh":160,"./particles":163,"./prepare":173}],121:[function(b,k,f){f.__esModule=!0;var l=function(c){if(c&&c.__esModule)return c;var b={};if(null!=c)for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a]);b["default"]=c;return b}(b("../../core")),m=new l.Rectangle;b=function(){function c(b){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.renderer=b;b.extract=this}c.prototype.image=function(c){var a=new Image;a.src=this.base64(c);return a};c.prototype.base64=function(c){return this.canvas(c).toDataURL()};c.prototype.canvas=function(c){var a=this.renderer,b=void 0,d=void 0;c&&(d=c instanceof l.RenderTexture?c:a.generateTexture(c));d?(c=d.baseTexture._canvasRenderTarget.context,b=d.baseTexture._canvasRenderTarget.resolution,a=d.frame):(c=a.rootContext,a=m,a.width=this.renderer.width,
a.height=this.renderer.height);var g=a.width*b,f=a.height*b,d=new l.CanvasRenderTarget(g,f),b=c.getImageData(a.x*b,a.y*b,g,f);d.context.putImageData(b,0,0);return d.canvas};c.prototype.pixels=function(c){var a=this.renderer,b=void 0,d;d=void 0;c&&(d=c instanceof l.RenderTexture?c:a.generateTexture(c));d?(c=d.baseTexture._canvasRenderTarget.context,b=d.baseTexture._canvasRenderTarget.resolution,d=d.frame):(c=a.rootContext,d=m,d.width=a.width,d.height=a.height);return c.getImageData(0,0,d.width*b,d.height*
b).data};c.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return c}();f["default"]=b;l.CanvasRenderer.registerPlugin("extract",b)},{"../../core":61}],122:[function(b,k,f){f.__esModule=!0;var l=b("./webgl/WebGLExtract");Object.defineProperty(f,"webgl",{enumerable:!0,get:function(){return(l&&l.__esModule?l:{"default":l})["default"]}});var m=b("./canvas/CanvasExtract");Object.defineProperty(f,"canvas",{enumerable:!0,get:function(){return(m&&m.__esModule?m:{"default":m})["default"]}})},
{"./canvas/CanvasExtract":121,"./webgl/WebGLExtract":123}],123:[function(b,k,f){f.__esModule=!0;var l=function(c){if(c&&c.__esModule)return c;var b={};if(null!=c)for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a]);b["default"]=c;return b}(b("../../core")),m=new l.Rectangle;b=function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.renderer=b;b.extract=this}c.prototype.image=function(c){var a=new Image;a.src=this.base64(c);return a};
c.prototype.base64=function(c){return this.canvas(c).toDataURL()};c.prototype.canvas=function(c){var a=this.renderer,b,d,g;g=void 0;c&&(g=c instanceof l.RenderTexture?c:this.renderer.generateTexture(c));g?(b=g.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],c=b.resolution,d=g.frame,g=!1):(b=this.renderer.rootRenderTarget,c=b.resolution,g=!0,d=m,d.width=b.size.width,d.height=b.size.height);var f=d.width*c,h=d.height*c,k=new l.CanvasRenderTarget(f,h);b&&(a.bindRenderTarget(b),b=new Uint8Array(4*
f*h),a=a.gl,a.readPixels(d.x*c,d.y*c,f,h,a.RGBA,a.UNSIGNED_BYTE,b),a=k.context.getImageData(0,0,f,h),a.data.set(b),k.context.putImageData(a,0,0),g&&(k.context.scale(1,-1),k.context.drawImage(k.canvas,0,-h)));return k.canvas};c.prototype.pixels=function(c){var a=this.renderer,b,d;d=void 0;c&&(d=c instanceof l.RenderTexture?c:this.renderer.generateTexture(c));d?(b=d.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],c=b.resolution,d=d.frame):(b=this.renderer.rootRenderTarget,c=b.resolution,d=m,
d.width=b.size.width,d.height=b.size.height);var g=d.width*c,f=d.height*c,h=new Uint8Array(4*g*f);b&&(a.bindRenderTarget(b),a=a.gl,a.readPixels(d.x*c,d.y*c,g,f,a.RGBA,a.UNSIGNED_BYTE,h));return h};c.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return c}();f["default"]=b;l.WebGLRenderer.registerPlugin("extract",b)},{"../../core":61}],124:[function(b,k,f){function l(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+
typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}f.__esModule=!0;var m=function(){function c(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,b,d){b&&c(a.prototype,b);d&&c(a,d);return a}}(),c=function(c){if(c&&c.__esModule)return c;var a={};
if(null!=c)for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b]);a["default"]=c;return a}(b("../core"));b=function(b){function a(e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var d;d=b.call(this,e[0]instanceof c.Texture?e[0]:e[0].texture);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d._textures=null;d._durations=null;d.textures=e;d.animationSpeed=
1;d.loop=!0;d.onComplete=null;d.onFrameChange=null;d._currentTime=0;d.playing=!1;return d}l(a,b);a.prototype.stop=function(){this.playing&&(this.playing=!1,c.ticker.shared.remove(this.update,this))};a.prototype.play=function(){this.playing||(this.playing=!0,c.ticker.shared.add(this.update,this))};a.prototype.gotoAndStop=function(a){this.stop();var d=this.currentFrame;this._currentTime=a;d!==this.currentFrame&&this.updateTexture()};a.prototype.gotoAndPlay=function(a){var d=this.currentFrame;this._currentTime=
a;d!==this.currentFrame&&this.updateTexture();this.play()};a.prototype.update=function(a){var d=this.animationSpeed*a,c=this.currentFrame;if(null!==this._durations){for(var b=this._currentTime%1*this._durations[this.currentFrame],b=b+d/60*1E3;0>b;)this._currentTime--,b+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);b>=this._durations[this.currentFrame];)b-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=
b/this._durations[this.currentFrame]}else this._currentTime+=d;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else c!==this.currentFrame&&this.updateTexture()};a.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame];this._textureID=-1;if(this.onFrameChange)this.onFrameChange(this.currentFrame)};
a.prototype.destroy=function(){this.stop();b.prototype.destroy.call(this)};a.fromFrames=function(b){for(var d=[],e=0;e<b.length;++e)d.push(c.Texture.fromFrame(b[e]));return new a(d)};a.fromImages=function(b){for(var d=[],e=0;e<b.length;++e)d.push(c.Texture.fromImage(b[e]));return new a(d)};m(a,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(a){if(a[0]instanceof c.Texture)this._textures=a,this._durations=null;else{this._textures=
[];this._durations=[];for(var d=0;d<a.length;d++)this._textures.push(a[d].texture),this._durations.push(a[d].time)}}},{key:"currentFrame",get:function(){var a=Math.floor(this._currentTime)%this._textures.length;0>a&&(a+=this._textures.length);return a}}]);return a}(c.Sprite);f["default"]=b},{"../core":61}],125:[function(b,k,f){function l(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?a:d}function m(a,
d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}f.__esModule=!0;var c=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}
return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}(),g=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(b("../core")),a=(b=b("../core/math/ObservablePoint"))&&b.__esModule?b:{"default":b};b=function(b){function d(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var g=l(this,b.call(this));
g._textWidth=0;g._textHeight=0;g._glyphs=[];g._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0};g.font=e.font;g._text=c;g.maxWidth=0;g.maxLineHeight=0;g._anchor=new a["default"](function(){g.dirty=!0},g,0,0);g.dirty=!1;g.updateText();return g}m(d,b);d.prototype.updateText=function(){for(var a=d.fonts[this._font.name],c=this._font.size/a.size,b=new g.Point,e=[],f=[],m=null,l=0,k=0,u=0,t=-1,w=0,x=0,D=0;D<this.text.length;D++){var y=this.text.charCodeAt(D);/(\s)/.test(this.text.charAt(D))&&
(t=D,w=l);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(D)))f.push(l),k=Math.max(k,l),u++,b.x=0,b.y+=a.lineHeight,m=null;else if(-1!==t&&0<this.maxWidth&&b.x*c>this.maxWidth)g.utils.removeItems(e,t,D-t),D=t,t=-1,f.push(w),k=Math.max(k,w),u++,b.x=0,b.y+=a.lineHeight,m=null;else{var z=a.chars[y];z&&(m&&z.kerning[m]&&(b.x+=z.kerning[m]),e.push({texture:z.texture,line:u,charCode:y,position:new g.Point(b.x+z.xOffset,b.y+z.yOffset)}),l=b.x+(z.texture.width+z.xOffset),b.x+=z.xAdvance,x=Math.max(x,z.yOffset+
z.texture.height),m=y)}}f.push(l);k=Math.max(k,l);m=[];for(l=0;l<=u;l++)t=0,"right"===this._font.align?t=k-f[l]:"center"===this._font.align&&(t=(k-f[l])/2),m.push(t);f=e.length;u=this.tint;for(l=0;l<f;l++)(t=this._glyphs[l])?t.texture=e[l].texture:(t=new g.Sprite(e[l].texture),this._glyphs.push(t)),t.position.x=(e[l].position.x+m[e[l].line])*c,t.position.y=e[l].position.y*c,t.scale.x=t.scale.y=c,t.tint=u,t.parent||this.addChild(t);for(e=f;e<this._glyphs.length;++e)this.removeChild(this._glyphs[e]);
this._textWidth=k*c;this._textHeight=(b.y+a.lineHeight)*c;if(0!==this.anchor.x||0!==this.anchor.y)for(a=0;a<f;a++)this._glyphs[a].x-=this._textWidth*this.anchor.x,this._glyphs[a].y-=this._textHeight*this.anchor.y;this.maxLineHeight=x*c};d.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};d.prototype.getLocalBounds=function(){this.validate();return b.prototype.getLocalBounds.call(this)};d.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};
c(d,[{key:"tint",get:function(){return this._font.tint},set:function(a){this._font.tint="number"===typeof a&&0<=a?a:16777215;this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(a){this._font.align=a||"left";this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(a){"number"===typeof a?this._anchor.set(a):this._anchor.copy(a)}},{key:"font",get:function(){return this._font},set:function(a){a&&("string"===typeof a?(a=a.split(" "),this._font.name=1===
a.length?a[0]:a.slice(1).join(" "),this._font.size=2<=a.length?parseInt(a[0],10):d.fonts[this._font.name].size):(this._font.name=a.name,this._font.size="number"===typeof a.size?a.size:parseInt(a.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(a){a=a.toString()||" ";this._text!==a&&(this._text=a,this.dirty=!0)}},{key:"textWidth",get:function(){this.validate();return this._textWidth}},{key:"textHeight",get:function(){this.validate();return this._textHeight}}]);
return d}(g.Container);f["default"]=b;b.fonts={}},{"../core":61,"../core/math/ObservablePoint":64}],126:[function(b,k,f){f.__esModule=!0;var l=function(){function c(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,b,d){b&&c(a.prototype,b);d&&c(a,d);return a}}(),m=(b=b("../core/math/Matrix"))&&b.__esModule?b:{"default":b},c=new m["default"];b=function(){function b(a,c){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this._texture=a;this.mapCoord=new m["default"];this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._lastTextureID=-1;this.clampOffset=0;this.clampMargin="undefined"===typeof c?.5:c}b.prototype.update=function(a){var b=this._texture;if(b&&b.valid&&(a||this._lastTextureID!==b._updateID)){this._lastTextureID=b._updateID;a=b._uvs;this.mapCoord.set(a.x1-a.x0,a.y1-a.y0,a.x3-a.x0,a.y3-a.y0,a.x0,a.y0);a=b.orig;var d=b.trim;
d&&(c.set(a.width/d.width,0,0,a.height/d.height,-d.x/d.width,-d.y/d.height),this.mapCoord.append(c));a=b.baseTexture;var d=this.uClampFrame,g=this.clampMargin/a.resolution,f=this.clampOffset;d[0]=(b._frame.x+g+f)/a.width;d[1]=(b._frame.y+g+f)/a.height;d[2]=(b._frame.x+b._frame.width-g+f)/a.width;d[3]=(b._frame.y+b._frame.height-g+f)/a.height;this.uClampOffset[0]=f/a.realWidth;this.uClampOffset[1]=f/a.realHeight}};l(b,[{key:"texture",get:function(){return this._texture},set:function(a){this._texture=
a;this._lastTextureID=-1}}]);return b}();f["default"]=b},{"../core/math/Matrix":63}],127:[function(b,k,f){function l(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var m=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=
c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}(),c=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(b("../core")),g=(k=b("../core/sprites/canvas/CanvasTinter"))&&k.__esModule?k:{"default":k},a=(b=b("./TextureTransform"))&&b.__esModule?b:{"default":b},e=new c.Point;
b=function(d){function b(e){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var n;n=d.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");n=!n||"object"!==typeof n&&"function"!==typeof n?this:n;n.tileTransform=new c.TransformStatic;n._width=g;n._height=f;n._canvasPattern=null;n.uvTransform=
e.transform||new a["default"](e);n.pluginName="tilingSprite";return n}l(b,d);b.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)};b.prototype._renderWebGL=function(a){var c=this._texture;c&&c.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this))};b.prototype._renderCanvas=function(a){var d=this._texture;if(d.baseTexture.hasLoaded){var b=a.context,
e=this.worldTransform,f=a.resolution,n=d.baseTexture,p=d.baseTexture.resolution,m=this.tilePosition.x/this.tileScale.x%d._frame.width,l=this.tilePosition.y/this.tileScale.y%d._frame.height;if(!this._canvasPattern){var k=new c.CanvasRenderTarget(d._frame.width,d._frame.height,p);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=g["default"].getTintedTexture(this,this.tint)),k.context.drawImage(this.tintedTexture,0,0)):k.context.drawImage(n.source,-d._frame.x,
-d._frame.y);this._canvasPattern=k.context.createPattern(k.canvas,"repeat")}b.globalAlpha=this.worldAlpha;b.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f,e.ty*f);b.scale(this.tileScale.x/p,this.tileScale.y/p);b.translate(m+this.anchor.x*-this._width,l+this.anchor.y*-this._height);a.setBlendMode(this.blendMode);b.fillStyle=this._canvasPattern;b.fillRect(-m,-l,this._width/this.tileScale.x*p,this._height/this.tileScale.y*p)}};b.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,
this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))};b.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),a||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),a=this._localBoundsRect),this._bounds.getRectangle(a)):
d.prototype.getLocalBounds.call(this,a)};b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,e);var c=this._width;a=this._height;var d=-c*this.anchor._x;return e.x>d&&e.x<d+c&&(c=-a*this.anchor._y,e.y>c&&e.y<c+a)?!0:!1};b.prototype.destroy=function(){d.prototype.destroy.call(this);this.uvTransform=this.tileTransform=null};b.from=function(a,d,e){return new b(c.Texture.from(a),d,e)};b.fromFrame=function(a,d,e){var g=c.utils.TextureCache[a];if(!g)throw Error('The frameId "'+a+'" does not exist in the texture cache '+
this);return new b(g,d,e)};b.fromImage=function(a,d,e,g,f){return new b(c.Texture.fromImage(a,g,f),d,e)};m(b,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(a){this.uvTransform.clampMargin=a;this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copy(a)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copy(a)}},{key:"width",
get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]);return b}(c.Sprite);f["default"]=b},{"../core":61,"../core/sprites/canvas/CanvasTinter":100,"./TextureTransform":126}],128:[function(b,k,f){var l=function(c){if(c&&c.__esModule)return c;var a={};if(null!=c)for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b]);a["default"]=c;return a}(b("../core"));b=l.DisplayObject;var m=new l.Matrix;
b.prototype._cacheAsBitmap=!1;b.prototype._cacheData=!1;var c=function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.sprite=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalHitTest=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=this.originalRenderCanvas=this.originalRenderWebGL=null};Object.defineProperties(b.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){this._cacheAsBitmap!==
a&&((this._cacheAsBitmap=a)?(this._cacheData||(this._cacheData=new c),a=this._cacheData,a.originalRenderWebGL=this.renderWebGL,a.originalRenderCanvas=this.renderCanvas,a.originalUpdateTransform=this.updateTransform,a.originalCalculateBounds=this._calculateBounds,a.originalGetLocalBounds=this.getLocalBounds,a.originalDestroy=this.destroy,a.originalContainsPoint=this.containsPoint,a.originalMask=this._mask,a.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=
this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(a=this._cacheData,a.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=a.originalRenderWebGL,this.renderCanvas=a.originalRenderCanvas,this._calculateBounds=a.originalCalculateBounds,this.getLocalBounds=a.originalGetLocalBounds,this.destroy=a.originalDestroy,this.updateTransform=a.originalUpdateTransform,this.containsPoint=a.originalContainsPoint,this._mask=a.originalMask,this.filterArea=a.originalFilterArea))}}});b.prototype._renderCachedWebGL=
function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(a),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(a))};b.prototype._initCachedDisplayObject=function(a){if(!this._cacheData||!this._cacheData.sprite){var c=this.alpha;this.alpha=1;a.currentRenderer.flush();var d=this.getLocalBounds().clone();this._filters&&d.pad(this._filters[0].padding);var b=a._activeRenderTarget,f=a.filterManager.filterStack,
h=l.RenderTexture.create(d.width|0,d.height|0);m.tx=-d.x;m.ty=-d.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;a.render(this,h,!0,m,!0);a.bindRenderTarget(b);a.filterManager.filterStack=f;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this.filterArea=this._mask=null;a=new l.Sprite(h);a.transform.worldTransform=this.transform.worldTransform;a.anchor.x=-(d.x/d.width);a.anchor.y=-(d.y/d.height);a.alpha=
c;a._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=a;this.transform._parentID=-1;this.updateTransform();this.containsPoint=a.containsPoint.bind(a)}};b.prototype._renderCachedCanvas=function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(a))};b.prototype._initCachedDisplayObjectCanvas=
function(a){if(!this._cacheData||!this._cacheData.sprite){var c=this.getLocalBounds(),d=this.alpha;this.alpha=1;var b=a.context,f=l.RenderTexture.create(c.width|0,c.height|0);this.transform.worldTransform.copy(m);m.invert();m.tx-=c.x;m.ty-=c.y;this.renderCanvas=this._cacheData.originalRenderCanvas;a.render(this,f,!0,m,!1);a.context=b;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this.filterArea=this._mask=null;a=new l.Sprite(f);a.transform.worldTransform=
this.transform.worldTransform;a.anchor.x=-(c.x/c.width);a.anchor.y=-(c.y/c.height);a._bounds=this._bounds;a.alpha=d;this.updateTransform();this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=a;this.containsPoint=a.containsPoint.bind(a)}};b.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()};b.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};b.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0);
this._cacheData.sprite=null};b.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1;this.destroy()}},{"../core":61}],129:[function(b,k,f){b=function(b){if(b&&b.__esModule)return b;var f={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(f[c]=b[c]);f["default"]=b;return f}(b("../core"));b.DisplayObject.prototype.name=null;b.Container.prototype.getChildByName=function(b){for(var f=0;f<this.children.length;f++)if(this.children[f].name===b)return this.children[f];return null}},
{"../core":61}],130:[function(b,k,f){var l=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g]);c["default"]=b;return c}(b("../core"));l.DisplayObject.prototype.getGlobalPosition=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new l.Point,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.parent?this.parent.toGlobal(this.position,b,c):(b.x=this.position.x,b.y=this.position.y);return b}},
{"../core":61}],131:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;f.BitmapText=f.TilingSpriteRenderer=f.TilingSprite=f.AnimatedSprite=f.TextureTransform=void 0;var m=b("./TextureTransform");Object.defineProperty(f,"TextureTransform",{enumerable:!0,get:function(){return l(m)["default"]}});var c=b("./AnimatedSprite");Object.defineProperty(f,"AnimatedSprite",{enumerable:!0,get:function(){return l(c)["default"]}});var g=b("./TilingSprite");Object.defineProperty(f,
"TilingSprite",{enumerable:!0,get:function(){return l(g)["default"]}});var a=b("./webgl/TilingSpriteRenderer");Object.defineProperty(f,"TilingSpriteRenderer",{enumerable:!0,get:function(){return l(a)["default"]}});var e=b("./BitmapText");Object.defineProperty(f,"BitmapText",{enumerable:!0,get:function(){return l(e)["default"]}});b("./cacheAsBitmap");b("./getChildByName");b("./getGlobalPosition")},{"./AnimatedSprite":124,"./BitmapText":125,"./TextureTransform":126,"./TilingSprite":127,"./cacheAsBitmap":128,
"./getChildByName":129,"./getGlobalPosition":130,"./webgl/TilingSpriteRenderer":132}],132:[function(b,k,f){function l(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var m=function(a){if(a&&a.__esModule)return a;var c={};if(null!=
a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../../core")),c=b("../../core/const");b("path");var g=new m.Matrix,a=new Float32Array(4);b=function(b){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=b.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.shader=null;a.simpleShader=null;a.quad=
null;return a}l(d,b);d.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new m.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n");
this.simpleShader=new m.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n");
this.renderer.bindVao(null);this.quad=new m.Quad(a,this.renderer.state.attribState);this.quad.initVao(this.shader)};d.prototype.render=function(b){var d=this.renderer,e=this.quad;d.bindVao(e.vao);var f=e.vertices;f[0]=f[6]=b._width*-b.anchor.x;f[1]=f[3]=b._height*-b.anchor.y;f[2]=f[4]=b._width*(1-b.anchor.x);f[5]=f[7]=b._height*(1-b.anchor.y);f=e.uvs;f[0]=f[6]=-b.anchor.x;f[1]=f[3]=-b.anchor.y;f[2]=f[4]=1-b.anchor.x;f[5]=f[7]=1-b.anchor.y;e.upload();var f=b._texture,n=f.baseTexture,l=b.tileTransform.localTransform,
k=b.uvTransform,r=n.isPowerOfTwo&&f.frame.width===n.width&&f.frame.height===n.height;r&&(n._glTextures[d.CONTEXT_UID]?r=n.wrapMode!==c.WRAP_MODES.CLAMP:n.wrapMode===c.WRAP_MODES.CLAMP&&(n.wrapMode=c.WRAP_MODES.REPEAT));n=r?this.simpleShader:this.shader;d.bindShader(n);var u=f.width,t=f.height,w=b._width,x=b._height;g.set(l.a*u/w,l.b*u/x,l.c*t/w,l.d*t/x,l.tx/w,l.ty/x);g.invert();r?g.append(k.mapCoord):(n.uniforms.uMapCoord=k.mapCoord.toArray(!0),n.uniforms.uClampFrame=k.uClampFrame,n.uniforms.uClampOffset=
k.uClampOffset);n.uniforms.uTransform=g.toArray(!0);m.utils.hex2rgb(b.tint,a);a[3]=b.worldAlpha;n.uniforms.uColor=a;n.uniforms.translationMatrix=b.transform.worldTransform.toArray(!0);n.uniforms.uSampler=d.bindTexture(f);d.setBlendMode(b.blendMode);e.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return d}(m.ObjectRenderer);f["default"]=b;m.WebGLRenderer.registerPlugin("tilingSprite",b)},{"../../core":61,"../../core/const":42,path:22}],133:[function(b,k,f){function l(a,c){if("function"!==typeof c&&null!==
c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){b&&a(c.prototype,
b);e&&a(c,e);return c}}();k=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../../core"));var c=b("./BlurXFilter"),g=c&&c.__esModule?c:{"default":c},a=(b=b("./BlurYFilter"))&&b.__esModule?b:{"default":b};b=function(c){function b(d,e,f,m){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var h;h=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.blurXFilter=new g["default"](d,e,f,m);h.blurYFilter=new a["default"](d,e,f,m);h.resolution=1;h.padding=0;h.resolution=f||1;h.quality=e||4;h.blur=d||8;return h}l(b,c);b.prototype.apply=function(a,c,b){var d=a.getRenderTarget(!0);this.blurXFilter.apply(a,c,d,!0);this.blurYFilter.apply(a,d,b,!1);a.returnRenderTarget(d)};m(b,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a;
this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=
a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]);return b}(k.Filter);f["default"]=b},{"../../core":61,"./BlurXFilter":134,"./BlurYFilter":135}],134:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}();k=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../../core"));
var g=b("./generateBlurVertSource"),a=l(g),g=b("./generateBlurFragSource"),e=l(g);b=b("./getMaxBlurKernelSize");var d=l(b);b=function(b){function g(c,d,f,n){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");n=n||5;var h=(0,a["default"])(n,!0);n=(0,e["default"])(n);h=b.call(this,h,n);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.resolution=f||1;h._quality=0;h.quality=
d||4;h.strength=c||8;h.firstRun=!0;return h}m(g,b);g.prototype.apply=function(c,b,g,f){if(this.firstRun){var h=c.renderer.gl,h=(0,d["default"])(h);this.vertexSrc=(0,a["default"])(h,!0);this.fragmentSrc=(0,e["default"])(h);this.firstRun=!1}this.uniforms.strength=1/g.size.width*(g.size.width/b.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)c.applyFilter(this,b,g,f);else{for(var n=h=c.getRenderTarget(!0),p=0;p<this.passes-1;p++){c.applyFilter(this,
b,n,!0);var m=n,n=b;b=m}c.applyFilter(this,b,g,f);c.returnRenderTarget(h)}};c(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}]);return g}(k.Filter);f["default"]=b},{"../../core":61,"./generateBlurFragSource":136,"./generateBlurVertSource":137,"./getMaxBlurKernelSize":138}],135:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}
function m(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,
d.key,d)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}();k=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../../core"));var g=b("./generateBlurVertSource"),a=l(g),g=b("./generateBlurFragSource"),e=l(g);b=b("./getMaxBlurKernelSize");var d=l(b);b=function(b){function g(c,d,f,n){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");n=n||5;var h=
(0,a["default"])(n,!1);n=(0,e["default"])(n);h=b.call(this,h,n);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.resolution=f||1;h._quality=0;h.quality=d||4;h.strength=c||8;h.firstRun=!0;return h}m(g,b);g.prototype.apply=function(c,b,g,f){if(this.firstRun){var h=c.renderer.gl,h=(0,d["default"])(h);this.vertexSrc=(0,a["default"])(h,!1);this.fragmentSrc=(0,e["default"])(h);this.firstRun=!1}this.uniforms.strength=
1/g.size.height*(g.size.height/b.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)c.applyFilter(this,b,g,f);else{for(var n=h=c.getRenderTarget(!0),m=0;m<this.passes-1;m++){c.applyFilter(this,b,n,!0);var l=n,n=b;b=l}c.applyFilter(this,b,g,f);c.returnRenderTarget(h)}};c(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this.passes=
this._quality=a}}]);return g}(k.Filter);f["default"]=b},{"../../core":61,"./generateBlurFragSource":136,"./generateBlurVertSource":137,"./getMaxBlurKernelSize":138}],136:[function(b,k,f){f.__esModule=!0;f["default"]=function(c){for(var b=l[c],a=b.length,e=m,d="",f,p=0;p<c;p++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",p);f=p;p>=a&&(f=c-p-1);h=h.replace("%value%",b[f]);d+=h;d+="\n"}e=e.replace("%blur%",d);return e=e.replace("%size%",c)};var l=
{5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},m="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}"},{}],137:[function(b,k,f){f.__esModule=!0;f["default"]=function(b,c){var g=Math.ceil(b/
2),a=l,e="",d;d=c?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var f=0;f<b;f++)var m=d.replace("%index%",f),m=m.replace("%sampleIndex%",f-(g-1)+".0"),e=e+m,e=e+"\n";a=a.replace("%blur%",e);return a=a.replace("%size%",b)};var l="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}"},
{}],138:[function(b,k,f){f.__esModule=!0;f["default"]=function(b){b=b.getParameter(b.MAX_VARYING_VECTORS);for(var f=15;f>b;)f-=2;return f}},{}],139:[function(b,k,f){function l(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}f.__esModule=!0;var m=
function(){function c(c,a){for(var b=0;b<a.length;b++){var d=a[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}();k=function(c){if(c&&c.__esModule)return c;var b={};if(null!=c)for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a]);b["default"]=c;return b}(b("../../core"));b("path");b=function(c){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var a;a=c.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4] * c.a;\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9] * c.a;\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14] * c.a;\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19] * c.a;\n\n//    gl_FragColor = vec4(m[0]);\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];return a}l(b,c);b.prototype._loadMatrix=function(a){var b=a;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(b,this.uniforms.m,a),b=this._colorMatrix(b));this.uniforms.m=b};b.prototype._multiply=function(a,b,c){a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15];a[1]=b[0]*c[1]+
b[1]*c[6]+b[2]*c[11]+b[3]*c[16];a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17];a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18];a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19];a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15];a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16];a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17];a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18];a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19];a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15];a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*
c[16];a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17];a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18];a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19];a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15];a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16];a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17];a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18];a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19];return a};b.prototype._colorMatrix=function(a){a=new Float32Array(a);a[4]/=255;
a[9]/=255;a[14]/=255;a[19]/=255;return a};b.prototype.brightness=function(a,b){this._loadMatrix([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],b)};b.prototype.greyscale=function(a,b){this._loadMatrix([a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0],b)};b.prototype.blackAndWhite=function(a){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a)};b.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a),e=Math.sin(a),g=Math.sqrt,f=1/3,g=g(f);this._loadMatrix([c+(1-c)*f,f*(1-c)-g*e,f*
(1-c)+g*e,0,0,f*(1-c)+g*e,c+f*(1-c),f*(1-c)-g*e,0,0,f*(1-c)-g*e,f*(1-c)+g*e,c+f*(1-c),0,0,0,0,0,1,0],b)};b.prototype.contrast=function(a,b){var c=(a||0)+1,e=-128*(c-1);this._loadMatrix([c,0,0,0,e,0,c,0,0,e,0,0,c,0,e,0,0,0,1,0],b)};b.prototype.saturate=function(){var a=2*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)/3+1,c=-.5*(a-1);this._loadMatrix([a,c,c,0,0,c,a,c,0,0,c,c,a,0,0,0,0,0,1,0],arguments[1])};b.prototype.desaturate=function(){this.saturate(-1)};b.prototype.negative=function(a){this._loadMatrix([0,
1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],a)};b.prototype.sepia=function(a){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a)};b.prototype.technicolor=function(a){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a)};b.prototype.polaroid=
function(a){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a)};b.prototype.toBGR=function(a){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],a)};b.prototype.kodachrome=function(a){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,
0],a)};b.prototype.browni=function(a){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a)};b.prototype.vintage=function(a){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,
.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a)};b.prototype.colorTone=function(a,c,b,g,f){b=b||16770432;g=g||3375104;var d=(b>>16&255)/255,e=(b>>8&255)/255;b=(b&255)/255;var n=(g>>16&255)/255,m=(g>>8&255)/255;g=(g&255)/255;this._loadMatrix([.3,.59,.11,0,0,d,e,b,a||.2,0,n,m,g,c||.15,0,d-n,e-m,b-g,0,0],f)};b.prototype.night=function(a,c){a=a||.1;this._loadMatrix([-2*a,-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0],c)};b.prototype.predator=function(a,c){this._loadMatrix([11.224130630493164*
a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0],c)};b.prototype.lsd=function(a){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a)};b.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};m(b,[{key:"matrix",get:function(){return this.uniforms.m},
set:function(a){this.uniforms.m=a}}]);return b}(k.Filter);f["default"]=b;b.prototype.grayscale=b.prototype.greyscale},{"../../core":61,path:22}],140:[function(b,k,f){function l(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}f.__esModule=!0;var m=
function(){function c(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,b,d){b&&c(a.prototype,b);d&&c(a,d);return a}}(),c=function(c){if(c&&c.__esModule)return c;var a={};if(null!=c)for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b]);a["default"]=c;return a}(b("../../core"));b("path");b=function(b){function a(e,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var g=new c.Matrix;e.renderable=!1;var f;f=b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.maskSprite=e;f.maskMatrix=g;f.uniforms.mapSampler=e.texture;f.uniforms.filterMatrix=g.toArray(!0);f.uniforms.scale={x:1,y:1};if(null===d||void 0===d)d=20;f.scale=new c.Point(d,d);return f}l(a,b);a.prototype.apply=function(a,c,b){var d=1/b.destinationFrame.width*(b.size.width/c.size.width);this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,
this.maskSprite);this.uniforms.scale.x=this.scale.x*d;this.uniforms.scale.y=this.scale.y*d;a.applyFilter(this,c,b)};m(a,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a}}]);return a}(c.Filter);f["default"]=b},{"../../core":61,path:22}],141:[function(b,k,f){function l(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}f.__esModule=!0;k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g]);c["default"]=b;return c}(b("../../core"));b("path");b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var g=b.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",
'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n');
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!==typeof g&&"function"!==typeof g?this:g}l(c,b);return c}(k.Filter);f["default"]=b},{"../../core":61,path:22}],142:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var m=b("./fxaa/FXAAFilter");Object.defineProperty(f,"FXAAFilter",{enumerable:!0,get:function(){return l(m)["default"]}});var c=b("./noise/NoiseFilter");Object.defineProperty(f,"NoiseFilter",
{enumerable:!0,get:function(){return l(c)["default"]}});var g=b("./displacement/DisplacementFilter");Object.defineProperty(f,"DisplacementFilter",{enumerable:!0,get:function(){return l(g)["default"]}});var a=b("./blur/BlurFilter");Object.defineProperty(f,"BlurFilter",{enumerable:!0,get:function(){return l(a)["default"]}});var e=b("./blur/BlurXFilter");Object.defineProperty(f,"BlurXFilter",{enumerable:!0,get:function(){return l(e)["default"]}});var d=b("./blur/BlurYFilter");Object.defineProperty(f,
"BlurYFilter",{enumerable:!0,get:function(){return l(d)["default"]}});var n=b("./colormatrix/ColorMatrixFilter");Object.defineProperty(f,"ColorMatrixFilter",{enumerable:!0,get:function(){return l(n)["default"]}});var p=b("./void/VoidFilter");Object.defineProperty(f,"VoidFilter",{enumerable:!0,get:function(){return l(p)["default"]}})},{"./blur/BlurFilter":133,"./blur/BlurXFilter":134,"./blur/BlurYFilter":135,"./colormatrix/ColorMatrixFilter":139,"./displacement/DisplacementFilter":140,"./fxaa/FXAAFilter":141,
"./noise/NoiseFilter":143,"./void/VoidFilter":144}],143:[function(b,k,f){function l(b,g){if("function"!==typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}f.__esModule=!0;var m=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(c,a,e){a&&b(c.prototype,a);e&&b(c,e);return c}}();k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=b[a]);c["default"]=b;return c}(b("../../core"));b("path");b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a;a=b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.noise=.5;return a}l(c,b);m(c,[{key:"noise",get:function(){return this.uniforms.noise},set:function(a){this.uniforms.noise=a}}]);return c}(k.Filter);f["default"]=b},{"../../core":61,path:22}],144:[function(b,k,f){function l(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});
c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}f.__esModule=!0;k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g]);c["default"]=b;return c}(b("../../core"));b("path");b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var g;g=b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.glShaderKey="void";return g}l(c,b);return c}(k.Filter);f["default"]=b},{"../../core":61,path:22}],145:[function(b,k,f){f.__esModule=!0;var l=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var g in b)Object.prototype.hasOwnProperty.call(b,
g)&&(c[g]=b[g]);c["default"]=b;return c}(b("../core"));b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.global=new l.Point;this.originalEvent=this.target=null}b.prototype.getLocalPosition=function(b,g,a){return b.worldTransform.applyInverse(a||this.global,g)};return b}();f["default"]=b},{"../core":61}],146:[function(b,k,f){f.__esModule=!0;b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.stopped=!1;this.data=this.type=this.currentTarget=this.target=null}b.prototype.stopPropagation=function(){this.stopped=!0};b.prototype._reset=function(){this.stopped=!1;this.target=this.currentTarget=null};return b}();f["default"]=b},{}],147:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}f.__esModule=!0;var c=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../core"));k=b("./InteractionData");var g=l(k);k=b("./InteractionEvent");var a=l(k);k=b("eventemitter3");k=l(k);var e=b("./interactiveTarget"),e=l(e);b=b("ismobilejs");var d=l(b);Object.assign(c.DisplayObject.prototype,
e["default"]);b=function(b){function e(f,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var h;h=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;n=n||{};h.renderer=f;h.autoPreventDefault=void 0!==n.autoPreventDefault?n.autoPreventDefault:!0;h.interactionFrequency=n.interactionFrequency||10;h.mouse=new g["default"];h.mouse.global.set(-999999);h.pointer=
new g["default"];h.pointer.global.set(-999999);h.eventData=new a["default"];h.interactiveDataPool=[];h.interactionDOMElement=null;h.moveWhenInside=!1;h.eventsAdded=!1;h.mouseOverRenderer=!1;h.supportsTouchEvents="ontouchstart"in window;h.supportsPointerEvents=!!window.PointerEvent;h.normalizeTouchEvents=!h.supportsPointerEvents&&h.supportsTouchEvents;h.normalizeMouseEvents=!h.supportsPointerEvents&&!d["default"].any;h.onMouseUp=h.onMouseUp.bind(h);h.processMouseUp=h.processMouseUp.bind(h);h.onMouseDown=
h.onMouseDown.bind(h);h.processMouseDown=h.processMouseDown.bind(h);h.onMouseMove=h.onMouseMove.bind(h);h.processMouseMove=h.processMouseMove.bind(h);h.onMouseOut=h.onMouseOut.bind(h);h.processMouseOverOut=h.processMouseOverOut.bind(h);h.onMouseOver=h.onMouseOver.bind(h);h.onPointerUp=h.onPointerUp.bind(h);h.processPointerUp=h.processPointerUp.bind(h);h.onPointerDown=h.onPointerDown.bind(h);h.processPointerDown=h.processPointerDown.bind(h);h.onPointerMove=h.onPointerMove.bind(h);h.processPointerMove=
h.processPointerMove.bind(h);h.onPointerOut=h.onPointerOut.bind(h);h.processPointerOverOut=h.processPointerOverOut.bind(h);h.onPointerOver=h.onPointerOver.bind(h);h.onTouchStart=h.onTouchStart.bind(h);h.processTouchStart=h.processTouchStart.bind(h);h.onTouchEnd=h.onTouchEnd.bind(h);h.processTouchEnd=h.processTouchEnd.bind(h);h.onTouchMove=h.onTouchMove.bind(h);h.processTouchMove=h.processTouchMove.bind(h);h.defaultCursorStyle="inherit";h.currentCursorStyle="inherit";h._tempPoint=new c.Point;h.resolution=
1;h.setTargetElement(h.renderer.view,h.renderer.resolution);return h}m(e,b);e.prototype.setTargetElement=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents();this.interactionDOMElement=a;this.resolution=b;this.addEvents()};e.prototype.addEvents=function(){this.interactionDOMElement&&(c.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]=
"none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&
(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.normalizeMouseEvents&&(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",
this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0))),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onMouseOver,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",
this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0)),this.eventsAdded=!0)};e.prototype.removeEvents=function(){this.interactionDOMElement&&(c.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=
""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",
this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.normalizeMouseEvents&&(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",
this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0))),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onMouseOver,!0),window.removeEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",
this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)};e.prototype.update=function(a){this._deltaTime+=a;this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.interactionDOMElement&&(this.didMove?this.didMove=!1:(this.cursor=this.defaultCursorStyle,this.eventData._reset(),this.processInteractive(this.mouse.global,
this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor))))};e.prototype.dispatchEvent=function(a,b,c){if(!c.stopped&&(c.currentTarget=a,c.type=b,a.emit(b,c),a[b]))a[b](c)};e.prototype.mapPositionToPoint=function(a,b,c){var d;d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var e=navigator.isCocoonJS?
this.resolution:1/this.resolution;a.x=this.interactionDOMElement.width/d.width*(b-d.left)*e;a.y=this.interactionDOMElement.height/d.height*(c-d.top)*e};e.prototype.processInteractive=function(a,b,c,d,e){if(!b||!b.visible)return!1;e=b.interactive||e;var g=!1,f=e;b.hitArea&&(f=!1);d&&b._mask&&(b._mask.containsPoint(a)||(d=!1));d&&b.filterArea&&(b.filterArea.contains(a.x,a.y)||(d=!1));if(b.interactiveChildren&&b.children)for(var h=b.children,n=h.length-1;0<=n;n--){var l=h[n];this.processInteractive(a,
l,c,d,f)&&l.parent&&(g=!0,d=f=!1)}e&&(d&&!g&&(b.hitArea?(b.worldTransform.applyInverse(a,this._tempPoint),g=b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):b.containsPoint&&(g=b.containsPoint(a))),b.interactive&&(g&&!this.eventData.target&&(this.eventData.target=b,this.mouse.target=b,this.pointer.target=b),c(b,g)));return g};e.prototype.onMouseDown=function(a){this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,a.clientX,
a.clientY);this.autoPreventDefault&&this.mouse.originalEvent.preventDefault();this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0);this.emit(2===a.button||3===a.which?"rightdown":"mousedown",this.eventData)};e.prototype.processMouseDown=function(a,b){var c=this.mouse.originalEvent,c=2===c.button||3===c.which;b&&(a[c?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(a,c?"rightdown":"mousedown",this.eventData))};e.prototype.onMouseUp=function(a){this.mouse.originalEvent=
a;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0);this.emit(2===a.button||3===a.which?"rightup":"mouseup",this.eventData)};e.prototype.processMouseUp=function(a,b){var c=this.mouse.originalEvent,d=(c=2===c.button||3===c.which)?"_isRightDown":"_isLeftDown";b?(this.dispatchEvent(a,c?"rightup":"mouseup",this.eventData),a[d]&&(a[d]=!1,
this.dispatchEvent(a,c?"rightclick":"click",this.eventData))):a[d]&&(a[d]=!1,this.dispatchEvent(a,c?"rightupoutside":"mouseupoutside",this.eventData))};e.prototype.onMouseMove=function(a){this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.didMove=!0;this.cursor=this.defaultCursorStyle;this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0);this.emit("mousemove",
this.eventData);this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)};e.prototype.processMouseMove=function(a,b){this.processMouseOverOut(a,b);this.moveWhenInside&&!b||this.dispatchEvent(a,"mousemove",this.eventData)};e.prototype.onMouseOut=function(a){this.mouseOverRenderer=!1;this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.interactionDOMElement.style.cursor=
this.defaultCursorStyle;this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1);this.emit("mouseout",this.eventData)};e.prototype.processMouseOverOut=function(a,b){b&&this.mouseOverRenderer?(a._mouseOver||(a._mouseOver=!0,this.dispatchEvent(a,"mouseover",this.eventData)),a.buttonMode&&(this.cursor=a.defaultCursor)):a._mouseOver&&(a._mouseOver=!1,this.dispatchEvent(a,"mouseout",this.eventData))};
e.prototype.onMouseOver=function(a){this.mouseOverRenderer=!0;this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData._reset();this.emit("mouseover",this.eventData)};e.prototype.onPointerDown=function(a){this.normalizeToPointerData(a);this.pointer.originalEvent=a;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,a.clientX,a.clientY);this.autoPreventDefault&&(this.normalizeMouseEvents||this.normalizeTouchEvents)&&this.pointer.originalEvent.preventDefault();
this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",this.eventData)};e.prototype.processPointerDown=function(a,b){b&&(a._pointerDown=!0,this.dispatchEvent(a,"pointerdown",this.eventData))};e.prototype.onPointerUp=function(a){this.normalizeToPointerData(a);this.pointer.originalEvent=a;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,a.clientX,a.clientY);this.processInteractive(this.pointer.global,
this.renderer._lastObjectRendered,this.processPointerUp,!0);this.emit("pointerup",this.eventData)};e.prototype.processPointerUp=function(a,b){b?(this.dispatchEvent(a,"pointerup",this.eventData),a._pointerDown&&(a._pointerDown=!1,this.dispatchEvent(a,"pointertap",this.eventData))):a._pointerDown&&(a._pointerDown=!1,this.dispatchEvent(a,"pointerupoutside",this.eventData))};e.prototype.onPointerMove=function(a){this.normalizeToPointerData(a);this.pointer.originalEvent=a;this.eventData.data=this.pointer;
this.eventData._reset();this.mapPositionToPoint(this.pointer.global,a.clientX,a.clientY);this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerMove,!0);this.emit("pointermove",this.eventData)};e.prototype.processPointerMove=function(a,b){this.pointer.originalEvent.changedTouches||this.processPointerOverOut(a,b);this.moveWhenInside&&!b||this.dispatchEvent(a,"pointermove",this.eventData)};e.prototype.onPointerOut=function(a){this.normalizeToPointerData(a);
this.pointer.originalEvent=a;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,a.clientX,a.clientY);this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",this.eventData)};e.prototype.processPointerOverOut=function(a,b){b&&this.mouseOverRenderer?a._pointerOver||(a._pointerOver=!0,this.dispatchEvent(a,"pointerover",this.eventData)):a._pointerOver&&(a._pointerOver=!1,this.dispatchEvent(a,
"pointerout",this.eventData))};e.prototype.onPointerOver=function(a){this.pointer.originalEvent=a;this.eventData.data=this.pointer;this.eventData._reset();this.emit("pointerover",this.eventData)};e.prototype.onTouchStart=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;d<c;d++){var e=this.getTouchData(b[d]);e.originalEvent=a;this.eventData.data=e;this.eventData._reset();this.processInteractive(e.global,this.renderer._lastObjectRendered,this.processTouchStart,
!0);this.emit("touchstart",this.eventData);this.returnTouchData(e)}};e.prototype.processTouchStart=function(a,b){b&&(a._touchDown=!0,this.dispatchEvent(a,"touchstart",this.eventData))};e.prototype.onTouchEnd=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;d<c;d++){var e=this.getTouchData(b[d]);e.originalEvent=a;this.eventData.data=e;this.eventData._reset();this.processInteractive(e.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0);
this.emit("touchend",this.eventData);this.returnTouchData(e)}};e.prototype.processTouchEnd=function(a,b){b?(this.dispatchEvent(a,"touchend",this.eventData),a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"tap",this.eventData))):a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"touchendoutside",this.eventData))};e.prototype.onTouchMove=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;d<c;d++){var e=this.getTouchData(b[d]);e.originalEvent=a;this.eventData.data=
e;this.eventData._reset();this.processInteractive(e.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside);this.emit("touchmove",this.eventData);this.returnTouchData(e)}};e.prototype.processTouchMove=function(a,b){this.moveWhenInside&&!b||this.dispatchEvent(a,"touchmove",this.eventData)};e.prototype.getTouchData=function(a){var b=this.interactiveDataPool.pop()||new g["default"];b.identifier=a.identifier;this.mapPositionToPoint(b.global,a.clientX,a.clientY);navigator.isCocoonJS&&
(b.global.x/=this.resolution,b.global.y/=this.resolution);a.globalX=b.global.x;a.globalY=b.global.y;return b};e.prototype.returnTouchData=function(a){this.interactiveDataPool.push(a)};e.prototype.normalizeToPointerData=function(a){this.normalizeTouchEvents&&a.changedTouches?("undefined"===typeof a.button&&(a.button=a.touches.length?1:0),"undefined"===typeof a.buttons&&(a.buttons=a.touches.length?1:0),"undefined"===typeof a.isPrimary&&(a.isPrimary=1===a.touches.length),"undefined"===typeof a.width&&
(a.width=a.changedTouches[0].radiusX||1),"undefined"===typeof a.height&&(a.height=a.changedTouches[0].radiusY||1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="touch"),"undefined"===typeof a.pointerId&&(a.pointerId=a.changedTouches[0].identifier||0),"undefined"===typeof a.pressure&&(a.pressure=a.changedTouches[0].force||.5),"undefined"===typeof a.rotation&&(a.rotation=a.changedTouches[0].rotationAngle||0),"undefined"===
typeof a.clientX&&(a.clientX=a.changedTouches[0].clientX),"undefined"===typeof a.clientY&&(a.clientY=a.changedTouches[0].clientY),"undefined"===typeof a.pageX&&(a.pageX=a.changedTouches[0].pageX),"undefined"===typeof a.pageY&&(a.pageY=a.changedTouches[0].pageY),"undefined"===typeof a.screenX&&(a.screenX=a.changedTouches[0].screenX),"undefined"===typeof a.screenY&&(a.screenY=a.changedTouches[0].screenY),"undefined"===typeof a.layerX&&(a.layerX=a.offsetX=a.clientX),"undefined"===typeof a.layerY&&(a.layerY=
a.offsetY=a.clientY)):this.normalizeMouseEvents&&("undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&(a.pressure=.5),"undefined"===typeof a.rotation&&(a.rotation=0))};e.prototype.destroy=function(){this.removeEvents();
this.removeAllListeners();this._tempPoint=this.processTouchMove=this.onTouchMove=this.processTouchEnd=this.onTouchEnd=this.processTouchStart=this.onTouchStart=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=this.onPointerMove=this.processPointerUp=this.onPointerUp=this.processPointerDown=this.onPointerDown=this.onMouseOver=this.processMouseOverOut=this.onMouseOut=this.processMouseMove=this.onMouseMove=this.processMouseUp=this.onMouseUp=this.processMouseDown=
this.onMouseDown=this.interactionDOMElement=this.interactiveDataPool=this.eventData=this.mouse=this.renderer=null};return e}(k["default"]);f["default"]=b;c.WebGLRenderer.registerPlugin("interaction",b);c.CanvasRenderer.registerPlugin("interaction",b)},{"../core":61,"./InteractionData":145,"./InteractionEvent":146,"./interactiveTarget":149,eventemitter3:3,ismobilejs:4}],148:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var m=b("./InteractionData");Object.defineProperty(f,
"InteractionData",{enumerable:!0,get:function(){return l(m)["default"]}});var c=b("./InteractionManager");Object.defineProperty(f,"InteractionManager",{enumerable:!0,get:function(){return l(c)["default"]}});var g=b("./interactiveTarget");Object.defineProperty(f,"interactiveTarget",{enumerable:!0,get:function(){return l(g)["default"]}})},{"./InteractionData":145,"./InteractionManager":147,"./interactiveTarget":149}],149:[function(b,k,f){f.__esModule=!0;f["default"]={interactive:!1,interactiveChildren:!0,
hitArea:null,buttonMode:!1,defaultCursor:"pointer",_over:!1,_isLeftDown:!1,_isRightDown:!1,_pointerOver:!1,_pointerDown:!1,_touchDown:!1}},{}],150:[function(b,k,f){function l(b,d){var e={},g=b.data.getElementsByTagName("info")[0],f=b.data.getElementsByTagName("common")[0];e.font=g.getAttribute("face");e.size=parseInt(g.getAttribute("size"),10);e.lineHeight=parseInt(f.getAttribute("lineHeight"),10);e.chars={};g=b.data.getElementsByTagName("char");for(f=0;f<g.length;f++){var l=parseInt(g[f].getAttribute("id"),
10),k=new c.Rectangle(parseInt(g[f].getAttribute("x"),10)+d.frame.x,parseInt(g[f].getAttribute("y"),10)+d.frame.y,parseInt(g[f].getAttribute("width"),10),parseInt(g[f].getAttribute("height"),10));e.chars[l]={xOffset:parseInt(g[f].getAttribute("xoffset"),10),yOffset:parseInt(g[f].getAttribute("yoffset"),10),xAdvance:parseInt(g[f].getAttribute("xadvance"),10),kerning:{},texture:new c.Texture(d.baseTexture,k)}}g=b.data.getElementsByTagName("kerning");for(f=0;f<g.length;f++){var l=parseInt(g[f].getAttribute("first"),
10),k=parseInt(g[f].getAttribute("second"),10),m=parseInt(g[f].getAttribute("amount"),10);e.chars[k]&&(e.chars[k].kerning[l]=m)}b.bitmapFont=e;a.BitmapText.fonts[e.font]=e}f.__esModule=!0;f.parse=l;f["default"]=function(){return function(a,b){if(a.data&&a.type===g.Resource.TYPE.XML)if(0===a.data.getElementsByTagName("page").length||0===a.data.getElementsByTagName("info").length||null===a.data.getElementsByTagName("info")[0].getAttribute("face"))b();else{var d=a.isDataUrl?"":m.dirname(a.url);a.isDataUrl&&
("."===d&&(d=""),this.baseUrl&&d&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(d+="/"),d=d.replace(this.baseUrl,"")));d&&"/"!==d.charAt(d.length-1)&&(d+="/");d+=a.data.getElementsByTagName("page")[0].getAttribute("file");c.utils.TextureCache[d]?(l(a,c.utils.TextureCache[d]),b()):this.add(a.name+"_image",d,{crossOrigin:a.crossOrigin,loadType:g.Resource.LOAD_TYPE.IMAGE,metadata:a.metadata.imageMetadata,parentResource:a},function(c){l(a,c.texture);b()})}else b()}};var m=function(a){if(a&&a.__esModule)return a;
var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("path")),c=b("../core"),g=b("resource-loader"),a=b("../extras")},{"../core":61,"../extras":131,path:22,"resource-loader":34}],151:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var m=b("./loader");Object.defineProperty(f,"Loader",{enumerable:!0,get:function(){return l(m)["default"]}});var c=b("./bitmapFontParser");Object.defineProperty(f,"bitmapFontParser",
{enumerable:!0,get:function(){return l(c)["default"]}});Object.defineProperty(f,"parseBitmapFontData",{enumerable:!0,get:function(){return c.parse}});var g=b("./spritesheetParser");Object.defineProperty(f,"spritesheetParser",{enumerable:!0,get:function(){return l(g)["default"]}});var a=b("./textureParser");Object.defineProperty(f,"textureParser",{enumerable:!0,get:function(){return l(a)["default"]}});var e=b("resource-loader");Object.defineProperty(f,"Resource",{enumerable:!0,get:function(){return e.Resource}})},
{"./bitmapFontParser":150,"./loader":152,"./spritesheetParser":153,"./textureParser":154,"resource-loader":34}],152:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}f.__esModule=!0;k=b("resource-loader");k=l(k);var g=b("resource-loader/lib/middlewares/parsing/blob"),a=b("eventemitter3"),e=l(a),a=b("./textureParser"),a=l(a),d=b("./spritesheetParser"),d=l(d);b=b("./bitmapFontParser");b=l(b);var n=function(a){function b(c,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var g=m(this,a.call(this,c,d));e["default"].call(g);for(var f=0;f<b._pixiMiddleware.length;++f)g.use(b._pixiMiddleware[f]());g.onStart.add(function(a){return g.emit("start",a)});g.onProgress.add(function(a,b){return g.emit("progress",a,b)});g.onError.add(function(a,b,c){return g.emit("error",a,b,c)});g.onLoad.add(function(a,b){return g.emit("load",a,b)});g.onComplete.add(function(a,b){return g.emit("complete",a,b)});return g}c(b,a);b.addPixiMiddleware=function(a){b._pixiMiddleware.push(a)};return b}(k["default"]);
f["default"]=n;for(var p in e["default"].prototype)n.prototype[p]=e["default"].prototype[p];n._pixiMiddleware=[g.blobMiddlewareFactory,a["default"],d["default"],b["default"]];f=k["default"].Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":150,"./spritesheetParser":153,"./textureParser":154,eventemitter3:3,"resource-loader":34,"resource-loader/lib/middlewares/parsing/blob":35}],153:[function(b,k,f){f.__esModule=!0;f["default"]=function(){return function(a,b){var d=
void 0,e=a.name+"_image";if(a.data&&a.type===l.Resource.TYPE.JSON&&a.data.frames&&!this.resources[e]){var f={crossOrigin:a.crossOrigin,loadType:l.Resource.LOAD_TYPE.IMAGE,metadata:a.metadata.imageMetadata,parentResource:a},d=a.isDataUrl?a.data.meta.image:m["default"].dirname(a.url.replace(this.baseUrl,""))+"/"+a.data.meta.image;this.add(e,d,f,function(d){function e(b,d){for(var e=b;e-b<d&&e<l.length;){var g=l[e],f=n[g].frame;if(f){var h,p=null,q=new c.Rectangle(0,0,n[g].sourceSize.w/m,n[g].sourceSize.h/
m);h=n[g].rotated?new c.Rectangle(f.x/m,f.y/m,f.h/m,f.w/m):new c.Rectangle(f.x/m,f.y/m,f.w/m,f.h/m);n[g].trimmed&&(p=new c.Rectangle(n[g].spriteSourceSize.x/m,n[g].spriteSourceSize.y/m,f.w/m,f.h/m));a.textures[g]=new c.Texture(k,h,q,p,n[g].rotated?2:0);c.utils.TextureCache[g]=a.textures[g]}e++}}function f(a){e(p*g,g);p++;setTimeout(a,0)}function h(){f(function(){p*g<l.length?h():b()})}a.textures={};var n=a.data.frames,l=Object.keys(n),k=d.texture.baseTexture;d=a.data.meta.scale;var m=c.utils.getResolutionOfUrl(a.url,
null);null===m&&(m=void 0!==d?d:1);1!==m&&(k.resolution=m,k.update());var p=0;l.length<=g?(e(0,g),b()):h()})}else b()}};var l=b("resource-loader"),m=(k=b("path"))&&k.__esModule?k:{"default":k},c=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../core")),g=1E3},{"../core":61,path:22,"resource-loader":34}],154:[function(b,k,f){f.__esModule=!0;f["default"]=function(){return function(b,g){if(b.data&&
b.type===m.Resource.TYPE.IMAGE){var a=new l.BaseTexture(b.data,null,l.utils.getResolutionOfUrl(b.url));a.imageUrl=b.url;b.texture=new l.Texture(a);l.utils.BaseTextureCache[b.name]=a;l.utils.TextureCache[b.name]=b.texture;b.name!==b.url&&(l.utils.BaseTextureCache[b.url]=a,l.utils.TextureCache[b.url]=b.texture)}g()}};var l=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=b[a]);c["default"]=b;return c}(b("../core")),m=b("resource-loader")},
{"../core":61,"resource-loader":34}],155:[function(b,k,f){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}f.__esModule=!0;var m=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=
!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),c=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../core")),g=new c.Point,a=new c.Polygon;b=function(b){function d(a,e,g,f,l){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var h;h=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h._texture=null;h.uvs=g||new Float32Array([0,0,1,0,1,1,0,1]);h.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]);h.indices=f||new Uint16Array([0,1,3,2]);h.dirty=0;h.indexDirty=0;h.blendMode=c.BLEND_MODES.NORMAL;h.canvasPadding=0;h.drawMode=l||d.DRAW_MODES.TRIANGLE_MESH;h.texture=a;h.shader=null;h.tintRgb=new Float32Array([1,1,1]);h._glDatas={};h.pluginName="mesh";return h}l(d,b);d.prototype._renderWebGL=function(a){a.setObjectRenderer(a.plugins[this.pluginName]);
a.plugins[this.pluginName].render(this)};d.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)};d.prototype._onTextureUpdate=function(){};d.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};d.prototype.containsPoint=function(b){if(!this.getBounds().contains(b.x,b.y))return!1;this.worldTransform.applyInverse(b,g);b=this.vertices;for(var c=a.points,e=this.indices,f=this.indices.length,n=this.drawMode===d.DRAW_MODES.TRIANGLES?
3:1,l=0;l+2<f;l+=n){var m=2*e[l],k=2*e[l+1],u=2*e[l+2];c[0]=b[m];c[1]=b[m+1];c[2]=b[k];c[3]=b[k+1];c[4]=b[u];c[5]=b[u+1];if(a.contains(g.x,g.y))return!0}return!1};m(d,[{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}},{key:"tint",get:function(){return c.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=c.utils.hex2rgb(a,this.tintRgb)}}]);
return d}(c.Container);f["default"]=b;b.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":61}],156:[function(b,k,f){function l(b,g){if("function"!==typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}f.__esModule=!0;var m=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=
a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(c,a,e){a&&b(c.prototype,a);e&&b(c,e);return c}}();b=b("./Plane");b=function(b){function c(a,e,d,g,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var h;h=b.call(this,a,4,4);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;var n=h.uvs;
n[6]=n[14]=n[22]=n[30]=1;n[25]=n[27]=n[29]=n[31]=1;h._origWidth=a.width;h._origHeight=a.height;h._uvw=1/h._origWidth;h._uvh=1/h._origHeight;h.width=a.width;h.height=a.height;n[2]=n[10]=n[18]=n[26]=h._uvw*e;n[4]=n[12]=n[20]=n[28]=1-h._uvw*g;n[9]=n[11]=n[13]=n[15]=h._uvh*d;n[17]=n[19]=n[21]=n[23]=1-h._uvh*f;h.leftWidth="undefined"!==typeof e?e:10;h.rightWidth="undefined"!==typeof g?g:10;h.topHeight="undefined"!==typeof d?d:10;h.bottomHeight="undefined"!==typeof f?f:10;return h}l(c,b);c.prototype.updateHorizontalVertices=
function(){var a=this.vertices;a[9]=a[11]=a[13]=a[15]=this._topHeight;a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight;a[25]=a[27]=a[29]=a[31]=this._height};c.prototype.updateVerticalVertices=function(){var a=this.vertices;a[2]=a[10]=a[18]=a[26]=this._leftWidth;a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth;a[6]=a[14]=a[22]=a[30]=this._width};c.prototype._renderCanvas=function(a){var b=a.context;b.globalAlpha=this.worldAlpha;var c=this.worldTransform,g=a.resolution;a.roundPixels?b.setTransform(c.a*
g,c.b*g,c.c*g,c.d*g,c.tx*g|0,c.ty*g|0):b.setTransform(c.a*g,c.b*g,c.c*g,c.d*g,c.tx*g,c.ty*g);g=this._texture.baseTexture;a=g.source;c=g.width;g=g.height;this.drawSegment(b,a,c,g,0,1,10,11);this.drawSegment(b,a,c,g,2,3,12,13);this.drawSegment(b,a,c,g,4,5,14,15);this.drawSegment(b,a,c,g,8,9,18,19);this.drawSegment(b,a,c,g,10,11,20,21);this.drawSegment(b,a,c,g,12,13,22,23);this.drawSegment(b,a,c,g,16,17,26,27);this.drawSegment(b,a,c,g,18,19,28,29);this.drawSegment(b,a,c,g,20,21,30,31)};c.prototype.drawSegment=
function(a,b,c,g,f,h,l,m){var d=this.uvs,e=this.vertices,n=(d[l]-d[f])*c,k=(d[m]-d[h])*g;l=e[l]-e[f];m=e[m]-e[h];1>n&&(n=1);1>k&&(k=1);1>l&&(l=1);1>m&&(m=1);a.drawImage(b,d[f]*c,d[h]*g,n,k,e[f],e[h],l,m)};m(c,[{key:"width",get:function(){return this._width},set:function(a){this._width=a;this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(a){this._height=a;this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(a){this._leftWidth=
a;var b=this.uvs,c=this.vertices;b[2]=b[10]=b[18]=b[26]=this._uvw*a;c[2]=c[10]=c[18]=c[26]=a;this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(a){this._rightWidth=a;var b=this.uvs,c=this.vertices;b[4]=b[12]=b[20]=b[28]=1-this._uvw*a;c[4]=c[12]=c[20]=c[28]=this._width-a;this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(a){this._topHeight=a;var b=this.uvs,c=this.vertices;b[9]=b[11]=b[13]=b[15]=this._uvh*a;c[9]=c[11]=c[13]=c[15]=
a;this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(a){this._bottomHeight=a;var b=this.uvs,c=this.vertices;b[17]=b[19]=b[21]=b[23]=1-this._uvh*a;c[17]=c[19]=c[21]=c[23]=this._height-a;this.dirty=!0}}]);return c}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"./Plane":157}],157:[function(b,k,f){function l(b,g){if("function"!==typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=
Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}f.__esModule=!0;var m=(b=b("./Mesh"))&&b.__esModule?b:{"default":b};b=function(b){function c(a,e,d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=b.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?
this:a;a._ready=!0;a.verticesX=e||10;a.verticesY=d||10;a.drawMode=m["default"].DRAW_MODES.TRIANGLES;a.refresh();return a}l(c,b);c.prototype.refresh=function(){for(var a=this.verticesX*this.verticesY,b=[],c=[],g=[],f=this.texture,h=this.verticesX-1,l=this.verticesY-1,m=f.width/h,k=f.height/l,v=0;v<a;v++)if(f._uvs){var r=v%this.verticesX,u=v/this.verticesX|0;b.push(r*m,u*k);c.push(f._uvs.x0+r/(this.verticesX-1)*(f._uvs.x1-f._uvs.x0),f._uvs.y0+u/(this.verticesY-1)*(f._uvs.y3-f._uvs.y0))}else c.push(0);
a=h*l;for(f=0;f<a;f++)l=f%h,m=f/h|0,k=m*this.verticesX+l+1,v=(m+1)*this.verticesX+l,r=(m+1)*this.verticesX+l+1,g.push(m*this.verticesX+l,k,v),g.push(k,r,v);this.vertices=new Float32Array(b);this.uvs=new Float32Array(c);this.colors=new Float32Array([]);this.indices=new Uint16Array(g);this.indexDirty=!0};c.prototype._onTextureUpdate=function(){m["default"].prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};return c}(m["default"]);f["default"]=b},{"./Mesh":155}],158:[function(b,k,f){function l(b,
g){if("function"!==typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}f.__esModule=!0;k=(k=b("./Mesh"))&&k.__esModule?k:{"default":k};var m=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=b[a]);
c["default"]=b;return c}(b("../core"));b=function(b){function c(a,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d;d=b.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.points=e;d.vertices=new Float32Array(4*e.length);d.uvs=new Float32Array(4*e.length);d.colors=new Float32Array(2*e.length);d.indices=new Uint16Array(2*e.length);d._ready=!0;d.refresh();
return d}l(c,b);c.prototype.refresh=function(){var a=this.points;if(!(1>a.length)&&this._texture._uvs){this.vertices.length/4!==a.length&&(this.vertices=new Float32Array(4*a.length),this.uvs=new Float32Array(4*a.length),this.colors=new Float32Array(2*a.length),this.indices=new Uint16Array(2*a.length));var b=this.uvs,c=this.indices,g=this.colors,f=this._texture._uvs,h=new m.Point(f.x0,f.y0),f=new m.Point(f.x2-f.x0,f.y2-f.y0);b[0]=0+h.x;b[1]=0+h.y;b[2]=0+h.x;b[3]=Number(f.y)+h.y;g[0]=1;g[1]=1;c[0]=
0;c[1]=1;for(var a=a.length,l=1;l<a;l++){var k=4*l,B=l/(a-1);b[k]=B*f.x+h.x;b[k+1]=0+h.y;b[k+2]=B*f.x+h.x;b[k+3]=Number(f.y)+h.y;k=2*l;g[k]=1;g[k+1]=1;k=2*l;c[k]=k;c[k+1]=k+1}this.dirty++;this.indexDirty++}};c.prototype._onTextureUpdate=function(){b.prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};c.prototype.updateTransform=function(){var a=this.points;if(!(1>a.length)){for(var b=a[0],c,g,f=this.vertices,h=a.length,l=0;l<h;l++){var m=a[l],k=4*l;c=l<a.length-1?a[l+1]:m;g=-(c.x-b.x);
b=c.y-b.y;c=Math.sqrt(b*b+g*g);var v=this._texture.height/2,b=b/c;g/=c;b*=v;g*=v;f[k]=m.x+b;f[k+1]=m.y+g;f[k+2]=m.x-b;f[k+3]=m.y-g;b=m}this.containerUpdateTransform()}};return c}(k["default"]);f["default"]=b},{"../core":61,"./Mesh":155}],159:[function(b,k,f){f.__esModule=!0;k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g]);c["default"]=b;return c}(b("../../core"));var l=(b=b("../Mesh"))&&b.__esModule?b:{"default":b};
b=function(){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=c}b.prototype.render=function(b){var c=this.renderer,a=c.context,e=b.worldTransform,d=c.resolution;c.roundPixels?a.setTransform(e.a*d,e.b*d,e.c*d,e.d*d,e.tx*d|0,e.ty*d|0):a.setTransform(e.a*d,e.b*d,e.c*d,e.d*d,e.tx*d,e.ty*d);c.setBlendMode(b.blendMode);b.drawMode===l["default"].DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(b):this._renderTriangles(b)};b.prototype._renderTriangleMesh=
function(b){for(var c=b.vertices.length/2,a=0;a<c-2;a++){var e=2*a;this._renderDrawTriangle(b,e,e+2,e+4)}};b.prototype._renderTriangles=function(b){for(var c=b.indices,a=c.length,e=0;e<a;e+=3)this._renderDrawTriangle(b,2*c[e],2*c[e+1],2*c[e+2])};b.prototype._renderDrawTriangle=function(b,g,a,e){var c=this.renderer.context,f=b.uvs,l=b.vertices,h=b._texture;if(h.valid){var h=h.baseTexture,k=h.source,m=h.width,B=h.height,v=f[g]*h.width,r=f[a]*h.width,u=f[e]*h.width,t=f[g+1]*h.height,w=f[a+1]*h.height,
f=f[e+1]*h.height,x=l[g],D=l[a],y=l[e];g=l[g+1];a=l[a+1];e=l[e+1];if(0<b.canvasPadding){l=b.canvasPadding/b.worldTransform.a;b=b.canvasPadding/b.worldTransform.d;var z=(x+D+y)/3,C=(g+a+e)/3,E=x-z,G=g-C,F=Math.sqrt(E*E+G*G),x=z+E/F*(F+l);g=C+G/F*(F+b);E=D-z;G=a-C;F=Math.sqrt(E*E+G*G);D=z+E/F*(F+l);a=C+G/F*(F+b);E=y-z;G=e-C;F=Math.sqrt(E*E+G*G);y=z+E/F*(F+l);e=C+G/F*(F+b)}c.save();c.beginPath();c.moveTo(x,g);c.lineTo(D,a);c.lineTo(y,e);c.closePath();c.clip();b=v*w+t*u+r*f-w*u-t*r-v*f;c.transform((x*
w+t*y+D*f-w*y-t*D-x*f)/b,(g*w+t*e+a*f-w*e-t*a-g*f)/b,(v*D+x*u+r*y-D*u-x*r-v*y)/b,(v*a+g*u+r*e-a*u-g*r-v*e)/b,(v*w*y+t*D*u+x*r*f-x*w*u-t*r*y-v*D*f)/b,(v*w*e+t*a*u+g*r*f-g*w*u-t*r*e-v*a*f)/b);c.drawImage(k,0,0,m*h.resolution,B*h.resolution,0,0,m,B);c.restore()}};b.prototype.renderMeshFlat=function(b){var c=this.renderer.context;b=b.vertices;var a=b.length/2;c.beginPath();for(var e=1;e<a-2;++e){var d=2*e,f=b[d+2],l=b[d+3],h=b[d+4],k=b[d+5];c.moveTo(b[d],b[d+1]);c.lineTo(f,l);c.lineTo(h,k)}c.fillStyle=
"#FF0000";c.fill();c.closePath()};b.prototype.destroy=function(){this.renderer=null};return b}();f["default"]=b;k.CanvasRenderer.registerPlugin("mesh",b)},{"../../core":61,"../Mesh":155}],160:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var m=b("./Mesh");Object.defineProperty(f,"Mesh",{enumerable:!0,get:function(){return l(m)["default"]}});var c=b("./webgl/MeshRenderer");Object.defineProperty(f,"MeshRenderer",{enumerable:!0,get:function(){return l(c)["default"]}});
var g=b("./canvas/CanvasMeshRenderer");Object.defineProperty(f,"CanvasMeshRenderer",{enumerable:!0,get:function(){return l(g)["default"]}});var a=b("./Plane");Object.defineProperty(f,"Plane",{enumerable:!0,get:function(){return l(a)["default"]}});var e=b("./NineSlicePlane");Object.defineProperty(f,"NineSlicePlane",{enumerable:!0,get:function(){return l(e)["default"]}});var d=b("./Rope");Object.defineProperty(f,"Rope",{enumerable:!0,get:function(){return l(d)["default"]}})},{"./Mesh":155,"./NineSlicePlane":156,
"./Plane":157,"./Rope":158,"./canvas/CanvasMeshRenderer":159,"./webgl/MeshRenderer":161}],161:[function(b,k,f){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}f.__esModule=!0;var m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=
a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../../core")),c=(k=b("pixi-gl-core"))&&k.__esModule?k:{"default":k},g=(k=b("../Mesh"))&&k.__esModule?k:{"default":k};b("path");b=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:
c;c.shader=null;return c}l(b,a);b.prototype.onContextChange=function(){this.shader=new m.Shader(this.renderer.gl,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")};
b.prototype.render=function(a){var b=this.renderer,d=b.gl,e=a._texture;if(e.valid){var f=a._glDatas[b.CONTEXT_UID];f||(b.bindVao(null),f={shader:this.shader,vertexBuffer:c["default"].GLBuffer.createVertexBuffer(d,a.vertices,d.STREAM_DRAW),uvBuffer:c["default"].GLBuffer.createVertexBuffer(d,a.uvs,d.STREAM_DRAW),indexBuffer:c["default"].GLBuffer.createIndexBuffer(d,a.indices,d.STATIC_DRAW),vao:null,dirty:a.dirty,indexDirty:a.indexDirty},f.vao=(new c["default"].VertexArrayObject(d)).addIndex(f.indexBuffer).addAttribute(f.vertexBuffer,
f.shader.attributes.aVertexPosition,d.FLOAT,!1,8,0).addAttribute(f.uvBuffer,f.shader.attributes.aTextureCoord,d.FLOAT,!1,8,0),a._glDatas[b.CONTEXT_UID]=f);a.dirty!==f.dirty&&(f.dirty=a.dirty,f.uvBuffer.upload(a.uvs));a.indexDirty!==f.indexDirty&&(f.indexDirty=a.indexDirty,f.indexBuffer.upload(a.indices));f.vertexBuffer.upload(a.vertices);b.bindShader(f.shader);f.shader.uniforms.uSampler=b.bindTexture(e);b.state.setBlendMode(a.blendMode);f.shader.uniforms.translationMatrix=a.worldTransform.toArray(!0);
f.shader.uniforms.alpha=a.worldAlpha;f.shader.uniforms.tint=a.tintRgb;d=a.drawMode===g["default"].DRAW_MODES.TRIANGLE_MESH?d.TRIANGLE_STRIP:d.TRIANGLES;b.bindVao(f.vao);f.vao.draw(d,a.indices.length,0)}};return b}(m.ObjectRenderer);f["default"]=b;m.WebGLRenderer.registerPlugin("mesh",b)},{"../../core":61,"../Mesh":155,path:22,"pixi-gl-core":12}],162:[function(b,k,f){function l(b,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);
b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}f.__esModule=!0;var m=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=b[a]);c["default"]=b;return c}(b("../core"));b=function(b){function c(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,e=arguments[1],d=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:16384;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var f;f=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;16384<d&&(d=16384);d>a&&(d=a);f._properties=[!1,!0,!1,!1,!1];f._maxSize=a;f._batchSize=d;f._glBuffers={};f._bufferToUpdate=0;f.interactiveChildren=!1;f.blendMode=m.BLEND_MODES.NORMAL;f.roundPixels=!0;f.baseTexture=null;
f.setProperties(e);return f}l(c,b);c.prototype.setProperties=function(a){a&&(this._properties[0]="scale"in a?!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="alpha"in a?!!a.alpha:this._properties[4])};c.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};c.prototype.renderWebGL=function(a){var b=
this;if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded))this.baseTexture.once("update",function(){return b.onChildrenChange(0)});a.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)}};c.prototype.onChildrenChange=function(a){a=Math.floor(a/this._batchSize);a<this._bufferToUpdate&&(this._bufferToUpdate=a)};c.prototype.renderCanvas=function(a){if(this.visible&&
!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var b=a.context,c=this.worldTransform,f=!0,g,h,l,k,m=a.blendModes[this.blendMode];m!==b.globalCompositeOperation&&(b.globalCompositeOperation=m);b.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(m=0;m<this.children.length;++m){var v=this.children[m];if(v.visible){var r=v._texture.frame;b.globalAlpha=this.worldAlpha*v.alpha;0===v.rotation%(2*Math.PI)?(f&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx*a.resolution,c.ty*a.resolution),
f=!1),g=v.anchor.x*-r.width*v.scale.x+v.position.x+.5,h=v.anchor.y*-r.height*v.scale.y+v.position.y+.5,l=r.width*v.scale.x,k=r.height*v.scale.y):(f||(f=!0),v.displayObjectUpdateTransform(),g=v.worldTransform,a.roundPixels?b.setTransform(g.a,g.b,g.c,g.d,g.tx*a.resolution|0,g.ty*a.resolution|0):b.setTransform(g.a,g.b,g.c,g.d,g.tx*a.resolution,g.ty*a.resolution),g=v.anchor.x*-r.width+.5,h=v.anchor.y*-r.height+.5,l=r.width,k=r.height);var u=v._texture.baseTexture.resolution;b.drawImage(v._texture.baseTexture.source,
r.x*u,r.y*u,r.width*u,r.height*u,g*u,h*u,l*u,k*u)}}}};c.prototype.destroy=function(a){b.prototype.destroy.call(this,a);if(this._buffers)for(a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._buffers=this._properties=null};return c}(m.Container);f["default"]=b},{"../core":61}],163:[function(b,k,f){f.__esModule=!0;var l=b("./ParticleContainer");Object.defineProperty(f,"ParticleContainer",{enumerable:!0,get:function(){return(l&&l.__esModule?l:{"default":l})["default"]}});var m=b("./webgl/ParticleRenderer");
Object.defineProperty(f,"ParticleRenderer",{enumerable:!0,get:function(){return(m&&m.__esModule?m:{"default":m})["default"]}})},{"./ParticleContainer":162,"./webgl/ParticleRenderer":165}],164:[function(b,k,f){f.__esModule=!0;var l=(k=b("pixi-gl-core"))&&k.__esModule?k:{"default":k},m=(b=b("../../core/utils/createIndicesForQuads"))&&b.__esModule?b:{"default":b};b=function(){function b(c,a,e,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.gl=c;this.vertSize=
2;this.vertByteSize=4*this.vertSize;this.size=d;this.dynamicProperties=[];this.staticProperties=[];for(c=0;c<a.length;++c)d=a[c],d={attribute:d.attribute,size:d.size,uploadFunction:d.uploadFunction,offset:d.offset},e[c]?this.dynamicProperties.push(d):this.staticProperties.push(d);this.staticStride=0;this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicData=this.dynamicBuffer=null;this.initBuffers()}b.prototype.initBuffers=function(){var b=this.gl,a=0;this.indices=(0,m["default"])(this.size);
this.indexBuffer=l["default"].GLBuffer.createIndexBuffer(b,this.indices,b.STATIC_DRAW);for(var c=this.dynamicStride=0;c<this.dynamicProperties.length;++c){var d=this.dynamicProperties[c];d.offset=a;a+=d.size;this.dynamicStride+=d.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4);this.dynamicBuffer=l["default"].GLBuffer.createVertexBuffer(b,this.dynamicData,b.STREAM_DRAW);for(c=this.staticStride=a=0;c<this.staticProperties.length;++c)d=this.staticProperties[c],d.offset=a,a+=d.size,
this.staticStride+=d.size;this.staticData=new Float32Array(this.size*this.staticStride*4);this.staticBuffer=l["default"].GLBuffer.createVertexBuffer(b,this.staticData,b.STATIC_DRAW);this.vao=(new l["default"].VertexArrayObject(b)).addIndex(this.indexBuffer);for(a=0;a<this.dynamicProperties.length;++a)c=this.dynamicProperties[a],this.vao.addAttribute(this.dynamicBuffer,c.attribute,b.FLOAT,!1,4*this.dynamicStride,4*c.offset);for(a=0;a<this.staticProperties.length;++a)c=this.staticProperties[a],this.vao.addAttribute(this.staticBuffer,
c.attribute,b.FLOAT,!1,4*this.staticStride,4*c.offset)};b.prototype.uploadDynamic=function(b,a,c){for(var d=0;d<this.dynamicProperties.length;d++){var e=this.dynamicProperties[d];e.uploadFunction(b,a,c,this.dynamicData,this.dynamicStride,e.offset)}this.dynamicBuffer.upload()};b.prototype.uploadStatic=function(b,a,c){for(var d=0;d<this.staticProperties.length;d++){var e=this.staticProperties[d];e.uploadFunction(b,a,c,this.staticData,this.staticStride,e.offset)}this.staticBuffer.upload()};b.prototype.destroy=
function(){this.dynamicData=this.dynamicProperties=null;this.dynamicBuffer.destroy();this.staticData=this.staticProperties=null;this.staticBuffer.destroy()};return b}();f["default"]=b},{"../../core/utils/createIndicesForQuads":115,"pixi-gl-core":12}],165:[function(b,k,f){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}f.__esModule=!0;var m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../../core")),c=(k=b("./ParticleShader"))&&k.__esModule?k:{"default":k},g=(b=b("./ParticleBuffer"))&&b.__esModule?b:{"default":b};b=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;c.indexBuffer=null;c.properties=null;c.tempMatrix=new m.Matrix;c.CONTEXT_UID=0;return c}l(b,a);b.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new c["default"](a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,
offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]};b.prototype.start=function(){this.renderer.bindShader(this.shader)};b.prototype.render=function(a){var b=a.children,
c=a._maxSize,d=a._batchSize,e=this.renderer,f=b.length;if(0!==f){f>c&&(f=c);(c=a._glBuffers[e.CONTEXT_UID])||(c=a._glBuffers[e.CONTEXT_UID]=this.generateBuffers(a));this.renderer.setBlendMode(a.blendMode);var g=e.gl,l=a.worldTransform.copy(this.tempMatrix);l.prepend(e._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=l.toArray(!0);this.shader.uniforms.uAlpha=a.worldAlpha;this.shader.uniforms.uSampler=e.bindTexture(b[0]._texture.baseTexture);for(var k=l=0;l<f;l+=d,k+=1){var m=
f-l;m>d&&(m=d);var t=c[k];t.uploadDynamic(b,l,m);a._bufferToUpdate===k&&(t.uploadStatic(b,l,m),a._bufferToUpdate=k+1);e.bindVao(t.vao);t.vao.draw(g.TRIANGLES,6*m)}}};b.prototype.generateBuffers=function(a){var b=this.renderer.gl,c=[],d=a._maxSize,e=a._batchSize;a=a._properties;for(var f=0;f<d;f+=e)c.push(new g["default"](b,this.properties,a,e));return c};b.prototype.uploadVertices=function(a,b,c,e,f,g){for(var d,h,l,k,m=0;m<c;++m){k=a[b+m];d=k._texture;var n=k.scale.x,p=k.scale.y;l=d.trim;var q=d.orig;
l?(h=l.x-k.anchor.x*q.width,d=h+l.width,k=l.y-k.anchor.y*q.height,l=k+l.height):(d=q.width*(1-k.anchor.x),h=q.width*-k.anchor.x,l=q.height*(1-k.anchor.y),k=q.height*-k.anchor.y);e[g]=h*n;e[g+1]=k*p;e[g+f]=d*n;e[g+f+1]=k*p;e[g+2*f]=d*n;e[g+2*f+1]=l*p;e[g+3*f]=h*n;e[g+3*f+1]=l*p;g+=4*f}};b.prototype.uploadPosition=function(a,b,c,e,f,g){for(var d=0;d<c;d++){var h=a[b+d].position;e[g]=h.x;e[g+1]=h.y;e[g+f]=h.x;e[g+f+1]=h.y;e[g+2*f]=h.x;e[g+2*f+1]=h.y;e[g+3*f]=h.x;e[g+3*f+1]=h.y;g+=4*f}};b.prototype.uploadRotation=
function(a,b,c,e,f,g){for(var d=0;d<c;d++){var h=a[b+d].rotation;e[g]=h;e[g+f]=h;e[g+2*f]=h;e[g+3*f]=h;g+=4*f}};b.prototype.uploadUvs=function(a,b,c,e,f,g){for(var d=0;d<c;++d){var h=a[b+d]._texture._uvs;h?(e[g]=h.x0,e[g+1]=h.y0,e[g+f]=h.x1,e[g+f+1]=h.y1,e[g+2*f]=h.x2,e[g+2*f+1]=h.y2,e[g+3*f]=h.x3,e[g+3*f+1]=h.y3):(e[g]=0,e[g+1]=0,e[g+f]=0,e[g+f+1]=0,e[g+2*f]=0,e[g+2*f+1]=0,e[g+3*f]=0,e[g+3*f+1]=0);g+=4*f}};b.prototype.uploadAlpha=function(a,b,c,e,f,g){for(var d=0;d<c;d++){var h=a[b+d].alpha;e[g]=
h;e[g+f]=h;e[g+2*f]=h;e[g+3*f]=h;g+=4*f}};b.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer);a.prototype.destroy.call(this);this.shader.destroy();this.tempMatrix=this.indices=null};return b}(m.ObjectRenderer);f["default"]=b;m.WebGLRenderer.registerPlugin("particle",b)},{"../../core":61,"./ParticleBuffer":164,"./ParticleShader":166}],166:[function(b,k,f){function l(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}f.__esModule=!0;b=b("../../core/Shader");b=function(b){function c(f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");f=b.call(this,f,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nvoid main(void){\n   vec2 v = aVertexPosition;\n   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor;\n}",
"varying vec2 vTextureCoord;\nvarying float vColor;\nuniform sampler2D uSampler;\nuniform float uAlpha;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!==typeof f&&"function"!==typeof f?this:f}l(c,b);return c}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"../../core/Shader":41}],
167:[function(b,k,f){Math.sign||(Math.sign=function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1})},{}],168:[function(b,k,f){b=(b=b("object-assign"))&&b.__esModule?b:{"default":b};Object.assign||(Object.assign=b["default"])},{"object-assign":5}],169:[function(b,k,f){b("./Object.assign");b("./requestAnimationFrame");b("./Math.sign");window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||
(window.Uint16Array=Array)},{"./Math.sign":167,"./Object.assign":168,"./requestAnimationFrame":170}],170:[function(b,k,f){(function(b){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()});b.performance&&b.performance.now||function(){var a=Date.now();b.performance||(b.performance={});b.performance.now=function(){return Date.now()-a}}();for(var f=Date.now(),c=["ms","moz","webkit","o"],g=0;g<c.length&&!b.requestAnimationFrame;++g){var a=c[g];b.requestAnimationFrame=b[a+
"RequestAnimationFrame"];b.cancelAnimationFrame=b[a+"CancelAnimationFrame"]||b[a+"CancelRequestAnimationFrame"]}b.requestAnimationFrame||(b.requestAnimationFrame=function(a){if("function"!==typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),c=16+f-b;0>c&&(c=0);f=b;return setTimeout(function(){f=Date.now();a(performance.now())},c)});b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){return clearTimeout(a)})}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{}],171:[function(b,k,f){function l(b,c){return c instanceof a.Text?(c.updateText(!0),!0):!1}function m(b,c){if(c instanceof a.TextStyle){var d=a.Text.getFontStyle(c);a.Text.fontPropertiesCache[d]||a.Text.calculateFontProperties(d);return!0}return!1}function c(b,c){if(b instanceof a.Text){-1===c.indexOf(b.style)&&c.push(b.style);-1===c.indexOf(b)&&c.push(b);var d=b._texture.baseTexture;-1===c.indexOf(d)&&c.push(d);return!0}return!1}function g(b,c){return b instanceof
a.TextStyle?(-1===c.indexOf(b)&&c.push(b),!0):!1}f.__esModule=!0;var a=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../core")),e=(b=b("./limiters/CountLimiter"))&&b.__esModule?b:{"default":b},d=a.ticker.shared;a.settings.UPLOADS_PER_FRAME=4;b=function(){function b(d){var f=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.limiter=new e["default"](a.settings.UPLOADS_PER_FRAME);
this.renderer=d;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){f.queue&&f.prepareItems()};this.register(c,l);this.register(g,m)}b.prototype.upload=function(a,b){"function"===typeof a&&(b=a,a=null);a&&this.add(a);this.queue.length?(b&&this.completes.push(b),this.ticking||(this.ticking=!0,d.addOnce(this.tick,this))):b&&b()};b.prototype.tick=function(){setTimeout(this.delayedTick,0)};b.prototype.prepareItems=
function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){for(var a=this.queue[0],b=!1,c=0,e=this.uploadHooks.length;c<e;c++)if(this.uploadHooks[c](this.uploadHookHelper,a)){this.queue.shift();b=!0;break}b||this.queue.shift()}if(this.queue.length)d.addOnce(this.tick,this);else for(this.ticking=!1,a=this.completes.slice(0),b=this.completes.length=0,c=a.length;b<c;b++)a[b]()};b.prototype.register=function(a,b){a&&this.addHooks.push(a);b&&this.uploadHooks.push(b);return this};
b.prototype.add=function(b){for(var c=0,d=this.addHooks.length;c<d&&!this.addHooks[c](b,this.queue);c++);if(b instanceof a.Container)for(c=b.children.length-1;0<=c;c--)this.add(b.children[c]);return this};b.prototype.destroy=function(){this.ticking&&d.remove(this.tick,this);this.ticking=!1;this.uploadHookHelper=this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return b}();f["default"]=b},{"../core":61,"./limiters/CountLimiter":174}],172:[function(b,k,f){function l(a,
b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function m(a,b){if(b instanceof g.BaseTexture){var c=b.source;a.ctx.drawImage(c,0,0,0===c.width?a.canvas.width:Math.min(a.canvas.width,c.width),0===c.height?a.canvas.height:Math.min(a.canvas.height,
c.height),0,0,a.canvas.width,a.canvas.height);return!0}return!1}function c(a,b){if(a instanceof g.BaseTexture)return-1===b.indexOf(a)&&b.push(a),!0;if(a._texture&&a._texture instanceof g.Texture){var c=a._texture.baseTexture;-1===b.indexOf(c)&&b.push(c);return!0}return!1}f.__esModule=!0;var g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../../core"));b=b("../BasePrepare");b=function(a){function b(d){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");d=a.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.uploadHookHelper=d;d.canvas=document.createElement("canvas");d.canvas.width=16;d.canvas.height=16;d.ctx=d.canvas.getContext("2d");d.register(c,m);return d}l(b,a);b.prototype.destroy=function(){a.prototype.destroy.call(this);this.canvas=this.ctx=null};return b}((b&&b.__esModule?
b:{"default":b})["default"]);f["default"]=b;g.CanvasRenderer.registerPlugin("prepare",b)},{"../../core":61,"../BasePrepare":171}],173:[function(b,k,f){function l(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var m=b("./webgl/WebGLPrepare");Object.defineProperty(f,"webgl",{enumerable:!0,get:function(){return l(m)["default"]}});var c=b("./canvas/CanvasPrepare");Object.defineProperty(f,"canvas",{enumerable:!0,get:function(){return l(c)["default"]}});var g=b("./BasePrepare");Object.defineProperty(f,
"BasePrepare",{enumerable:!0,get:function(){return l(g)["default"]}});var a=b("./limiters/CountLimiter");Object.defineProperty(f,"CountLimiter",{enumerable:!0,get:function(){return l(a)["default"]}});var e=b("./limiters/TimeLimiter");Object.defineProperty(f,"TimeLimiter",{enumerable:!0,get:function(){return l(e)["default"]}})},{"./BasePrepare":171,"./canvas/CanvasPrepare":172,"./limiters/CountLimiter":174,"./limiters/TimeLimiter":175,"./webgl/WebGLPrepare":176}],174:[function(b,k,f){f.__esModule=
!0;b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.maxItemsPerFrame=f;this.itemsLeft=0}b.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};b.prototype.allowedToUpload=function(){return 0<this.itemsLeft--};return b}();f["default"]=b},{}],175:[function(b,k,f){f.__esModule=!0;b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.maxMilliseconds=f;this.frameStart=
0}b.prototype.beginFrame=function(){this.frameStart=Date.now()};b.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return b}();f["default"]=b},{}],176:[function(b,k,f){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}function m(a,b){return b instanceof e.BaseTexture?(b._glTextures[a.CONTEXT_UID]||a.textureManager.updateTexture(b),!0):!1}function c(a,b){return b instanceof e.Graphics?((b.dirty||b.clearDirty||!b._webGL[a.plugins.graphics.CONTEXT_UID])&&a.plugins.graphics.updateGraphics(b),!0):!1}function g(a,b){if(a instanceof e.BaseTexture)return-1===b.indexOf(a)&&b.push(a),!0;if(a._texture&&a._texture instanceof e.Texture){var c=a._texture.baseTexture;-1===b.indexOf(c)&&b.push(c);return!0}return!1}
function a(a,b){return a instanceof e.Graphics?(b.push(a),!0):!1}f.__esModule=!0;var e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../../core"));b=b("../BasePrepare");b=function(b){function d(e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");e=b.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.uploadHookHelper=e.renderer;e.register(g,m).register(a,c);return e}l(d,b);return d}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b;e.WebGLRenderer.registerPlugin("prepare",b)},{"../../core":61,"../BasePrepare":171}],177:[function(b,k,f){(function(l){function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}f.__esModule=!0;f.loader=
f.prepare=f.particles=f.mesh=f.loaders=f.interaction=f.filters=f.extras=f.extract=f.accessibility=void 0;var c=b("./deprecation");Object.keys(c).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(f,a,{enumerable:!0,get:function(){return c[a]}})});var g=b("./core");Object.keys(g).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(f,a,{enumerable:!0,get:function(){return g[a]}})});b("./polyfill");var a=b("./accessibility"),a=k(a),e=b("./extract"),e=k(e),
d=b("./extras"),d=k(d),n=b("./filters"),n=k(n),p=b("./interaction"),p=k(p),h=b("./loaders"),h=k(h),q=b("./mesh"),q=k(q),A=b("./particles"),A=k(A),B=b("./prepare"),B=k(B);f.accessibility=a;f.extract=e;f.extras=d;f.filters=n;f.interaction=p;f.loaders=h;f.mesh=q;f.particles=A;f.prepare=B;a=h&&h.Loader?new h.Loader:null;f.loader=a;l.PIXI=f}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./accessibility":40,"./core":61,"./deprecation":120,
"./extract":122,"./extras":131,"./filters":142,"./interaction":148,"./loaders":151,"./mesh":160,"./particles":163,"./polyfill":169,"./prepare":173}]},{},[177])(177)});

